window.__require=function t(i,o,e){function a(s,l){if(!o[s]){if(!i[s]){var h=s.split("/");if(h=h[h.length-1],!i[h]){var d="function"==typeof __require&&__require;if(!l&&d)return d(h,!0);if(n)return n(h,!0);throw new Error("Cannot find module '"+s+"'")}}var c=o[s]={exports:{}};i[s][0].call(c.exports,function(t){return a(i[s][1][t]||t)},c,c.exports,t,i,o,e)}return o[s].exports}for(var n="function"==typeof __require&&__require,s=0;s<e.length;s++)a(e[s]);return a}({AdjutantDetail:[function(t,i,o){"use strict";cc._RF.push(i,"61593fZHYlKR6SJHzJK8TlK","AdjutantDetail");var e=t("Fragment"),a=t("PersonFace");cc.Class({extends:e,properties:{nameLabel:cc.Label,stateLabel:cc.Label,titleLabel:cc.Label,personFace:a,growthRateLabel:cc.Label,physiqueRateLabel:cc.Label,mindRateLabel:cc.Label,strengthRateLabel:cc.Label,agilityRateLabel:cc.Label,descriptionLabel:cc.Label},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.adjutantId=this.getLaunchData().adjutantId,this.adjutantDetail()},initData:function(){if(null!=this.data){var t=this.data;this.nameLabel.string=t.name,this.stateLabel.string=t.state,this.titleLabel.string=t.title,this.growthRateLabel.string=t.minGrowthRate+"-"+t.maxGrowthRate,this.physiqueRateLabel.string=t.minPhysiqueRate+"-"+t.maxPhysiqueRate,this.mindRateLabel.string=t.minMindRate+"-"+t.maxMindRate,this.strengthRateLabel.string=t.minStrengthRate+"-"+t.maxStrengthRate,this.agilityRateLabel.string=t.minAgilityRate+"-"+t.maxAgilityRate,this.descriptionLabel.string="\u3000\u3000"+t.description,this.personFace.draw=t.faceDraw}},onBackClickCallback:function(t){this.quitFragment()},adjutantDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/adjutant/detail",{adjutantId:this.adjutantId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment",PersonFace:"PersonFace"}],AdjutantList:[function(t,i,o){"use strict";cc._RF.push(i,"fb0f8se81xNcrVgPI1eivgU","AdjutantList");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{adjutantListNode:cc.Node,commonItemPrefab:cc.Prefab,adjutantState1Button:cc.Button,adjutantState2Button:cc.Button,adjutantState3Button:cc.Button,adjutantState4Button:cc.Button,adjutantTitle1Button:cc.Button,adjutantTitle2Button:cc.Button,adjutantTitle3Button:cc.Button,adjutantTitle4Button:cc.Button,adjutantOrderName1Button:cc.Button,adjutantOrderName2Button:cc.Button,adjutantOrderName3Button:cc.Button,adjutantOrderName4Button:cc.Button,adjutantOrderName5Button:cc.Button},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){for(var t=0;t<this.adjutantListNode.childrenCount;t++){this.adjutantListNode.children[t].destroy()}this.adjutantState="\u901a\u7528",this.adjutantTitle="\u5e38\u4eba",this.adjutantOrderName="growthRate",this.initButton(),this.adjutantList()},onAdjutantTitleClickCallback:function(t,i){this.adjutantTitle=i,this.initButton(),this.adjutantList()},onAdjutantStateClickCallback:function(t,i){this.adjutantState=i,this.initButton(),this.adjutantList()},onAdjutantOrderNameClickCallback:function(t,i){this.adjutantOrderName=i,this.initButton(),this.adjutantList()},onRecruitClickCallback:function(t){this.launchFragment("AdjutantRecruit")},onNetowrkMessage:function(t){"adjutantList"==t.action&&(this.loadDialogNode.loadDialogComp.dismiss(),this.adjutantList=t.data,this.initData())},onBackClickCallback:function(t){this.quitFragment()},initButton:function(){"\u9b4f"==this.adjutantState&&(this.adjutantState1Button.interactable=!1,this.adjutantState2Button.interactable=!0,this.adjutantState3Button.interactable=!0,this.adjutantState4Button.interactable=!0),"\u8700"==this.adjutantState&&(this.adjutantState1Button.interactable=!0,this.adjutantState2Button.interactable=!1,this.adjutantState3Button.interactable=!0,this.adjutantState4Button.interactable=!0),"\u5434"==this.adjutantState&&(this.adjutantState1Button.interactable=!0,this.adjutantState2Button.interactable=!0,this.adjutantState3Button.interactable=!1,this.adjutantState4Button.interactable=!0),"\u901a\u7528"==this.adjutantState&&(this.adjutantState1Button.interactable=!0,this.adjutantState2Button.interactable=!0,this.adjutantState3Button.interactable=!0,this.adjutantState4Button.interactable=!1),"\u5e38\u4eba"==this.adjutantTitle&&(this.adjutantTitle1Button.interactable=!1,this.adjutantTitle2Button.interactable=!0,this.adjutantTitle3Button.interactable=!0,this.adjutantTitle4Button.interactable=!0),"\u82f1\u624d"==this.adjutantTitle&&(this.adjutantTitle1Button.interactable=!0,this.adjutantTitle2Button.interactable=!1,this.adjutantTitle3Button.interactable=!0,this.adjutantTitle4Button.interactable=!0),"\u5c06\u624d"==this.adjutantTitle&&(this.adjutantTitle1Button.interactable=!0,this.adjutantTitle2Button.interactable=!0,this.adjutantTitle3Button.interactable=!1,this.adjutantTitle4Button.interactable=!0),"\u56fd\u58eb"==this.adjutantTitle&&(this.adjutantTitle1Button.interactable=!0,this.adjutantTitle2Button.interactable=!0,this.adjutantTitle3Button.interactable=!0,this.adjutantTitle4Button.interactable=!1),"growthRate"==this.adjutantOrderName&&(this.adjutantOrderName1Button.interactable=!1,this.adjutantOrderName2Button.interactable=!0,this.adjutantOrderName3Button.interactable=!0,this.adjutantOrderName4Button.interactable=!0,this.adjutantOrderName5Button.interactable=!0),"physiqueRate"==this.adjutantOrderName&&(this.adjutantOrderName1Button.interactable=!0,this.adjutantOrderName2Button.interactable=!1,this.adjutantOrderName3Button.interactable=!0,this.adjutantOrderName4Button.interactable=!0,this.adjutantOrderName5Button.interactable=!0),"mindRate"==this.adjutantOrderName&&(this.adjutantOrderName1Button.interactable=!0,this.adjutantOrderName2Button.interactable=!0,this.adjutantOrderName3Button.interactable=!1,this.adjutantOrderName4Button.interactable=!0,this.adjutantOrderName5Button.interactable=!0),"strengthRate"==this.adjutantOrderName&&(this.adjutantOrderName1Button.interactable=!0,this.adjutantOrderName2Button.interactable=!0,this.adjutantOrderName3Button.interactable=!0,this.adjutantOrderName4Button.interactable=!1,this.adjutantOrderName5Button.interactable=!0),"agilityRate"==this.adjutantOrderName&&(this.adjutantOrderName1Button.interactable=!0,this.adjutantOrderName2Button.interactable=!0,this.adjutantOrderName3Button.interactable=!0,this.adjutantOrderName4Button.interactable=!0,this.adjutantOrderName5Button.interactable=!1)},initData:function(){if(null!=this.data){for(var t=0;t<this.adjutantListNode.childrenCount;t++){this.adjutantListNode.children[t].destroy()}var i=this.data.adjutantList;for(t=0;t<i.length;t++){var o=i[t],e=cc.instantiate(this.commonItemPrefab);e.commonItemComp=e.getComponent(a),e.commonItemComp.id=o.id,e.commonItemComp.setName(o.name);var n="";2==o.status&&(n="(\u9650\u5b9a)"),"growthRate"==this.adjutantOrderName&&e.commonItemComp.setInfo(o.growthRateScope+" "+n),"physiqueRate"==this.adjutantOrderName&&e.commonItemComp.setInfo(o.physiqueRateScope+" "+n),"mindRate"==this.adjutantOrderName&&e.commonItemComp.setInfo(o.mindRateScope+" "+n),"strengthRate"==this.adjutantOrderName&&e.commonItemComp.setInfo(o.strengthRateScope+" "+n),"agilityRate"==this.adjutantOrderName&&e.commonItemComp.setInfo(o.agilityRateScope+" "+n),e.commonItemComp.setActionEnable(!1),e.commonItemComp.setOnNameClickCallback(function(t){var i={adjutantId:t.id};this.launchFragment("AdjutantDetail",i)}.bind(this)),e.parent=this.adjutantListNode}}},adjutantList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/adjutant/list",{adjutantTitle:this.adjutantTitle,adjutantOrderName:this.adjutantOrderName,adjutantState:this.adjutantState},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],AdjutantRecruit:[function(t,i,o){"use strict";cc._RF.push(i,"e5edcozrF9DL6mGiImfcja2","AdjutantRecruit");var e=t("Fragment");cc.Class({extends:e,properties:{jjlNumLabel:cc.Label,djjlNumLabel:cc.Label},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.adjutantPlayerRecruitPrepare()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){if(null!=this.data){var t=this.data;this.jjlNumLabel.string="\u5c06\u519b\u4ee4("+t.jjlTreasureNum+")",this.djjlNumLabel.string="\u5927\u5c06\u519b\u4ee4("+t.djjlTreasureNum+")"}},onRecruitClickCallback:function(t,i){this.adjutantPlayerRecruit(i)},adjutantPlayerRecruitPrepare:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/adjutant/playerRecruitPrepare",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},adjutantPlayerRecruit:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/adjutant/playerRecruit",{recruitType:t,playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.adjutantPlayerRecruitPrepare()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],AdjutantSkillItem:[function(t,i,o){"use strict";cc._RF.push(i,"d95f9FzSmZDH6g24mfdo5ap","AdjutantSkillItem"),cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label,nameLabelOutline:cc.LabelOutline,infoLabel:cc.Label,actionButton:cc.Button,actionLabel:cc.Label,action2Button:cc.Button},start:function(){},setName:function(t){this.nameLabel.string=t},getName:function(){return this.nameLabel.string},setInfo:function(t){this.infoLabel.string=t},setAction:function(t){this.actionLabel.string=t},getAction:function(){return this.actionLabel.string},setActionColor:function(t){var i=cc.Color.BLACK;this.actionButton.node.color=i.fromHEX(t)},setActionEnable:function(t,i){1==i&&(this.actionButton.node.active=t),2==i&&(this.action2Button.node.active=t)},setOnNameClickCallback:function(t){this.nameClickCallback=t},setNameColor:function(t){var i=cc.Color.BLACK;this.nameLabelOutline.color=i.fromHEX(t)},setOnActionClickCallback:function(t){this.actionClickCallback=t},onNameClickCallback:function(t){null!=this.nameClickCallback&&this.nameClickCallback(this)},onActionClickCallback:function(t,i){null!=this.actionClickCallback&&this.actionClickCallback(this,i)}}),cc._RF.pop()},{}],Application:[function(t,i,o){"use strict";cc._RF.push(i,"922f2tCDoNBAJxprTPMOUTB","Application"),window.application={versionCode:209,mainVersionCode:207,privateKey:"MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBALfkhtST5RGJc7NqE4z55HZYehYDf7CT6999edEYzTRdOy5wa6SE73+yCHv67Lb0ukJPQDJj8/GAf/W2gcSMMIs2sPadcZBvd+T+LhUZQ/eaOm7xvbhUvfkcn8t8e2fN+FX9Fr2+m3pDR0slLi0k7VN10qbSo26gOuv7BRJ/1u57AgMBAAECgYAXR+ZN+V9Rxg4Q08gf2+8xkGf8a3r59vAwvijy8OnhzD/W1EK8dFwB1Z8/Wvgm/XqrNG9TMdZLZ9JLYEyzfnASqL/jEywRJcy0eBXYLJbTt/Teq0RohPSHnO7mIa9iqdv96BoG5TTvDyjbYWGML7GmGFPuPh79A3+HcN1Ln+ru0QJBAOsB0efR4dAz9VIsu73a2nxJu3TR3JL1YNpC5KnxRhzV2K3QXEM/8p9mM9MeRJu7gjranhmbxF0CTjpzpOZjaykCQQDIUdBZ81mHivR93jqFIDnRftQgucHb2qhxjfVWPdk1BIGQkK23WBDg0c0rdyFNAKRGqXX6IDicQCWH5X3aaeUDAkAkwGccMtV2ovmFfVtq6HPspfc74Kn3DYq092sdLI9DaSn2nLQhDDocNXZ7WKtwE1XdcFzzMkn2JasoNved1ARpAkBXvH2k6BCubQ3okwzOge7Q8tu1+aYOxRZBpgtuWmhn8DFPQA7V3pyF214hS2wqbb2FtXMWukYRKYdGnh0hLIBBAkEAr3/UZL4u1J56rAY/ck4mF7ZZuo4/jfehGK9cJI/KvKVVuyqmQjlexU75AA5pYdHIxX3nIHQKLwSh7HONo9NC3g==",publicKey:"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCcsyE9ycYgOh95ghOa0r7u54nsVGKFOXk+nJkTREFdkaUdz8JsK4uybXipIRe5gP6pAccb6VdQt5y0LArI8rdA1TL6F63l2NzHS+osMWxLwmK8Q/2UY66e6cMMpA677VdiqbtKWlIsYpM5VXSktdb+3MHKTByrd0XN08qTcjH6NwIDAQAB",setUserId:function(t){this.setKeyValue("userId",t)},getUserId:function(){return this.getKeyValue("userId")},setPlayerId:function(t){this.setKeyValue("playerId",t)},getPlayerId:function(){return this.getKeyValue("playerId")},setClientId:function(t){this.setKeyValue("clientId",t)},getClientId:function(){return this.getKeyValue("clientId")},setMain:function(t){this.setKeyValue("main",JSON.stringify(t))},getMain:function(){return JSON.parse(this.getKeyValue("main"))},setCombatOperationList:function(t){this.setKeyValue("combatOperationList",JSON.stringify(t))},getCombatOperationList:function(){var t=this.getKeyValue("combatOperationList");return""==t&&(t="[]"),JSON.parse(t)},setCombatIsAutoOperation:function(t){t?this.setKeyValue("isAutoOperation","true"):this.setKeyValue("isAutoOperation","false")},getCombatIsAutoOperation:function(){return"true"==this.getKeyValue("isAutoOperation")},setKeyValue:function(t,i){null==i?cc.sys.localStorage.setItem(t,null):cc.sys.localStorage.setItem(t,i)},getKeyValue:function(t){var i=cc.sys.localStorage.getItem(t);return null==i?"":i}},cc._RF.pop()},{}],Arena:[function(t,i,o){"use strict";cc._RF.push(i,"69ff5PlxLROQ5cQ8fYZkdNW","Arena");var e=t("Fragment");cc.Class({extends:e,properties:{},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},onDanClickCallback:function(t){this.launchFragment("Dan")},onSectCombatClickCallback:function(t){this.launchFragment("SectCombatPrepare")},onPersonageCombatClickCallback:function(t){this.launchFragment("PersonageCombatPrepare")},onBeatenWriterClickCallback:function(t){this.launchFragment("BeatenWriter")},onBackClickCallback:function(t){this.quitFragment()}}),cc._RF.pop()},{Fragment:"Fragment"}],Arsenal:[function(t,i,o){"use strict";cc._RF.push(i,"6f628b6Zt9EK7IdHhFItUzN","Arsenal");var e=t("Fragment");cc.Class({extends:e,properties:{},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy()},start:function(){},onBackClickCallback:function(t){this.quitFragment()},onCapClickCallback:function(t){this.launchFragment("KitType",{action:"\u5934\u76d4",kitClassify:"cap"})},onWeaponClickCallback:function(t){this.launchFragment("KitType",{action:"\u6b66\u5668",kitClassify:"weapon"})},onClothesClickCallback:function(t){this.launchFragment("KitType",{action:"\u94e0\u7532",kitClassify:"clothes"})},onNecklaceClickCallback:function(t){this.launchFragment("KitList",{action:"\u9879\u5760",kitClassify:"necklace"})},onBraceletClickCallback:function(t){this.launchFragment("KitList",{action:"\u62a4\u8155",kitClassify:"bracelet"})},onShoeClickCallback:function(t){this.launchFragment("KitList",{action:"\u6218\u9774",kitClassify:"shoe"})},onSellClickCallback:function(t){this.launchFragment("PlayerKitSellChoose")}}),cc._RF.pop()},{Fragment:"Fragment"}],Backpack:[function(t,i,o){"use strict";cc._RF.push(i,"69893DYEd1MlabHtO4NHXUZ","Backpack");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{goodListNode:cc.Node,commonItemPrefab:cc.Prefab,drugButton:cc.Button,kitButton:cc.Button,stoneButton:cc.Button,sundriesButton:cc.Button,sizeLabel:cc.Label,quickCureNode:cc.Node},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){for(var t=0;t<this.goodListNode.childrenCount;t++){this.goodListNode.children[t].destroy()}this.onDrugClickCallback()},onQuitFragmentCallback:function(t,i){"PlayerKitApparel"==t&&this.playerGoodsList(),"PlayerTalentDetail"==t&&this.playerGoodsList(),"PlayerAdjutantWashPulpChoose"==t&&i&&this.playerGoodsList()},onPlayerApparelClickCallback:function(t){this.launchFragment("PlayerKitApparel")},onDrugClickCallback:function(t){this.classify="drug",this.drugButton.interactable=!1,this.kitButton.interactable=!0,this.stoneButton.interactable=!0,this.sundriesButton.interactable=!0,this.quickCureNode.active=!0,this.playerGoodsList()},onKitClickCallback:function(t){this.classify="kit",this.drugButton.interactable=!0,this.kitButton.interactable=!1,this.stoneButton.interactable=!0,this.sundriesButton.interactable=!0,this.quickCureNode.active=!1,this.playerGoodsList()},onStoneClickCallback:function(t){this.classify="stone",this.drugButton.interactable=!0,this.kitButton.interactable=!0,this.stoneButton.interactable=!1,this.sundriesButton.interactable=!0,this.quickCureNode.active=!1,this.playerGoodsList()},onSundriesClickCallback:function(t){this.classify="sundries",this.drugButton.interactable=!0,this.kitButton.interactable=!0,this.stoneButton.interactable=!0,this.sundriesButton.interactable=!1,this.quickCureNode.active=!1,this.playerGoodsList()},onQuickCureClickCallback:function(t){this.playerUseDrugQuick()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){this.sizeLabel.string=this.data.backpackSize;var t=this.data.playerGoodsList;if(null!=t){for(var i=0;i<this.goodListNode.childrenCount;i++){this.goodListNode.children[i].destroy()}for(i=0;i<t.length;i++){var o=t[i],e=cc.instantiate(this.commonItemPrefab);e.commonItemComp=e.getComponent(a),e.commonItemComp.type=o.type,"drug"==o.type&&(e.commonItemComp.id=o.id,e.commonItemComp.drugId=o.drugId,e.commonItemComp.setName(o.nameOfType),e.commonItemComp.setInfo(o.info),e.commonItemComp.useAction=o.useAction,e.commonItemComp.setNameColor("#FFE109"),"\u52a0HP"==o.drugType&&e.commonItemComp.setNameColor("#FF1A1A"),"\u52a0MP"==o.drugType&&e.commonItemComp.setNameColor("#2B88F1"),"heal"==o.useAction?(e.commonItemComp.setActionEnable(!0),e.commonItemComp.setAction("\u6cbb\u7597")):e.commonItemComp.setActionEnable(!1)),"playerKit"==o.type&&(e.commonItemComp.id=o.id,e.commonItemComp.setName(o.nameOfType),e.commonItemComp.setInfo(o.info),e.commonItemComp.useAction=o.useAction,e.commonItemComp.setNameColor("#FF1A1A"),"apparel"==o.useAction?(e.commonItemComp.setActionEnable(!0),e.commonItemComp.setAction("\u88c5\u5907")):e.commonItemComp.setActionEnable(!1)),"ore"==o.type&&(e.commonItemComp.id=o.id,e.commonItemComp.oreId=o.oreId,e.commonItemComp.setName(o.nameOfType),e.commonItemComp.setInfo(o.info),e.commonItemComp.useAction=o.useAction,e.commonItemComp.setActionEnable(!1),e.commonItemComp.setNameColor("#FF1A1A")),"gem"==o.type&&(e.commonItemComp.id=o.id,e.commonItemComp.gemId=o.gemId,e.commonItemComp.setName(o.nameOfType),e.commonItemComp.setInfo(o.info),e.commonItemComp.useAction=o.useAction,e.commonItemComp.setActionEnable(!1),e.commonItemComp.setNameColor("#FF1A1A")),"playerTalent"==o.type&&(e.commonItemComp.id=o.id,e.commonItemComp.setName(o.nameOfType),e.commonItemComp.setInfo(o.info),e.commonItemComp.useAction=o.useAction,e.commonItemComp.setActionEnable(!1),e.commonItemComp.setNameColor("#FF1A1A")),"treasure"==o.type&&(e.commonItemComp.id=o.id,e.commonItemComp.treasureId=o.treasureId,e.commonItemComp.setName(o.nameOfType),e.commonItemComp.setInfo(o.info),e.commonItemComp.useAction=o.useAction,e.commonItemComp.setNameColor("#FFE109"),"physicalDan"==o.useAction||"washPulpDan"==o.useAction||"adjutantWashPulpDan"==o.useAction||"smallWallet"==o.useAction||"bigWallet"==o.useAction?(e.commonItemComp.setActionEnable(!0),e.commonItemComp.setAction("\u4f7f\u7528")):e.commonItemComp.setActionEnable(!1)),e.commonItemComp.setOnNameClickCallback(function(t){if("drug"==t.type){var i={action:"\u836f\u54c1\u8be6\u60c5",drugId:t.drugId,isShowPrice:!1};this.launchFragment("DrugDetail",i)}if("playerKit"==t.type){i={action:"\u88c5\u5907\u8be6\u60c5",playerKitId:t.id};this.launchFragment("PlayerKitDetail",i)}if("gem"==t.type){i={action:"\u5b9d\u77f3\u8be6\u60c5",gemId:t.gemId,isShowPrice:!1};this.launchFragment("GemDetail",i)}if("ore"==t.type){i={action:"\u77ff\u77f3\u8be6\u60c5",oreId:t.oreId,isShowPrice:!1};this.launchFragment("OreDetail",i)}if("playerTalent"==t.type){i={action:"\u5929\u8d4b\u77f3\u8be6\u60c5",playerTalentId:t.id};this.launchFragment("PlayerTalentDetail",i)}if("treasure"==t.type){i={action:"\u5b9d\u7269\u8be6\u60c5",treasureId:t.treasureId,isShowPrice:!1};this.launchFragment("TreasureDetail",i)}if("groceries"==t.type){i={action:"\u6742\u8d27\u8be6\u60c5",groceriesId:t.groceriesId};this.launchFragment("GroceriesDetail",i)}}.bind(this)),e.commonItemComp.setOnActionClickCallback(function(t){if("apparel"==t.useAction&&this.playerKitApparel(t.id),"physicalDan"==t.useAction&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.id=t.id,this.hintDialogNode.hintDialogComp.setContent("\u4f7f\u7528\u4f53\u529b\u4e39\u53ef\u589e\u52a050\u4f53\u529b\u503c\uff0c\u662f\u5426\u786e\u5b9a\u4f7f\u7528\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerUsePhysicalDan(t.id)}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"washPulpDan"==t.useAction&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.id=t.id,this.hintDialogNode.hintDialogComp.setContent("\u4f7f\u7528\u6d17\u9ad3\u4e39\u53ef\u91cd\u7f6e\u4e3b\u5c06\u5df2\u5206\u914d\u5c5e\u6027\u70b9\uff0c\u662f\u5426\u786e\u5b9a\u4f7f\u7528\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerUseWashPulpDan(t.id)}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"adjutantWashPulpDan"==t.useAction){var i={playerGoodsId:t.id};this.launchFragment("PlayerAdjutantWashPulpChoose",i)}"smallWallet"==t.useAction&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.id=t.id,this.hintDialogNode.hintDialogComp.setContent("\u4f7f\u7528\u5c0f\u94b1\u888b\u53ef\u589e\u52a050000\u94f6\u4e24\uff0c\u662f\u5426\u786e\u5b9a\u4f7f\u7528\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerUseWallet(t.id)}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"bigWallet"==t.useAction&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.id=t.id,this.hintDialogNode.hintDialogComp.setContent("\u4f7f\u7528\u5927\u94b1\u888b\u53ef\u589e\u52a0500000\u94f6\u4e24\uff0c\u662f\u5426\u786e\u5b9a\u4f7f\u7528\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerUseWallet(t.id)}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this)),e.parent=this.goodListNode}}},playerGoodsList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/goodsList",{playerId:application.getPlayerId(),classify:this.classify},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerKitApparel:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/kitApparel",{playerId:application.getPlayerId(),playerKitId:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.playerGoodsList()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))},playerUsePhysicalDan:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/usePhysicalDan",{playerId:application.getPlayerId(),playerGoodsId:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerGoodsList()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerUseWashPulpDan:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/useWashPulpDan",{playerId:application.getPlayerId(),playerGoodsId:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerUseWallet:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/useWallet",{playerId:application.getPlayerId(),playerGoodsId:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerUseDrugQuick:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/useDrugQuick",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],BankEgOrderItem:[function(t,i,o){"use strict";cc._RF.push(i,"adde8SZj6ZMbZrnaBBUwELH","BankEgOrderItem"),cc.Class({extends:cc.Component,properties:{priceLabel:cc.Label,numberLabel:cc.Label,grossLabel:cc.Label,createTimeLabel:cc.Label},start:function(){},load:function(t){this.id=t.id,this.priceLabel.string=t.price+"\u94f6\u4e24/1\u91d1\u7816",this.numberLabel.string=t.gross-t.number+"\u4e2a",this.grossLabel.string=t.gross+"\u4e2a",this.createTimeLabel.string=t.createTime},setOnActionClickCallback:function(t){this.actionClickCallback=t},onActionClickCallback:function(t){null!=this.actionClickCallback&&this.actionClickCallback(this)}}),cc._RF.pop()},{}],BankEsOrderItem:[function(t,i,o){"use strict";cc._RF.push(i,"30788WMd61MPIfcICIHAw6g","BankEsOrderItem"),cc.Class({extends:cc.Component,properties:{priceLabel:cc.Label,numberLabel:cc.Label,grossLabel:cc.Label,createTimeLabel:cc.Label},start:function(){},load:function(t){this.id=t.id,this.priceLabel.string=t.price+"\u94f6\u4e24/1\u91d1\u7816",this.numberLabel.string=t.gross-t.number+"\u4e2a",this.grossLabel.string=t.gross+"\u4e2a",this.createTimeLabel.string=t.createTime},setOnActionClickCallback:function(t){this.actionClickCallback=t},onActionClickCallback:function(t){null!=this.actionClickCallback&&this.actionClickCallback(this)}}),cc._RF.pop()},{}],BankExchangeGoldDetail:[function(t,i,o){"use strict";cc._RF.push(i,"0a7a3W75ktKEblCd6PQHGzr","BankExchangeGoldDetail");var e=t("Fragment");cc.Class({extends:e,properties:{orderLabel:cc.Label},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.price=this.getLaunchData().price,this.number=this.getLaunchData().number,this.orderLabel.string="\u60a8\u5df2\u4e0b\u6c42\u8d2d\u8ba2\u5355\uff1a\u6700\u5927\u5355\u4ef7"+this.price+"\u4e24\uff0c\u6c42\u8d2d"+this.number+"\u91d1\u7816",this.resetMain()},onBackClickCallback:function(t){this.quitFragment()},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],BankExchangeGold:[function(t,i,o){"use strict";cc._RF.push(i,"ad6d99ihd5LNqDNeiGtdmrg","BankExchangeGold");var e=t("Fragment"),a=t("BankExchangeItem");cc.Class({extends:e,properties:{priceLabel:cc.Label,mySilverLabel:cc.Label,priceEditbox:cc.EditBox,numberEditbox:cc.EditBox,listNode:cc.Node,exchangeItemPrefab:cc.Prefab},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},onQuitFragmentCallback:function(t,i){"BankExchangeGoldDetail"==t&&this.bankExchange()},start:function(){this.bankExchange()},initData:function(){var t=this.data;if(t){for(var i=0;i<this.listNode.childrenCount;i++){(s=this.listNode.children[i]).destroy()}var o=t.exchangeGoldList;for(i=0;i<o.length;i++){var e=o[i];(s=cc.instantiate(this.exchangeItemPrefab)).exchangeItemComp=s.getComponent(a),s.exchangeItemComp.load(e,"\u6c42\u8d2d",!1),s.parent=this.listNode}var n=t.exchangeSilverList;for(i=0;i<n.length;i++){var s,l=n[i];(s=cc.instantiate(this.exchangeItemPrefab)).exchangeItemComp=s.getComponent(a),0==i?s.exchangeItemComp.load(l,"\u4f9b\u5e94",!0):s.exchangeItemComp.load(l,"\u4f9b\u5e94",!1),s.parent=this.listNode}if((n=t.exchangeSilverList).length>0){var h=n[0];this.priceLabel.string=h.price+"\u94f6\u4e24/1\u91d1\u7816",this.priceEditbox.string=h.price+""}else this.priceLabel.string="\u65e0\u4f9b\u8d27";this.mySilverLabel.string=t.mySilver}},onBackClickCallback:function(t){this.quitFragment()},onConfirmClickCallback:function(t){var i=this.priceEditbox.string;if(!util.isNumber(i))return this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u6c42\u8d2d\u4ef7\u683c\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),void this.hintDialogNode.hintDialogComp.show();var o=this.numberEditbox.string;if(!util.isNumber(o))return this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u6c42\u8d2d\u6570\u91cf\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),void this.hintDialogNode.hintDialogComp.show();this.bankExchangeGold(i,o)},bankExchange:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/bank/exchange",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},bankExchangeGold:function(t,i){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/bank/exchangeGold",{playerId:application.getPlayerId(),price:t,number:i},function(o){if(this.loadDialogNode.loadDialogComp.dismiss(),o&&1==o.code){var e={price:t,number:i};this.launchFragment("BankExchangeGoldDetail",e)}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(o.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.bankExchange()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{BankExchangeItem:"BankExchangeItem",Fragment:"Fragment"}],BankExchangeItem:[function(t,i,o){"use strict";cc._RF.push(i,"61f18095J5H574x37n34gGH","BankExchangeItem"),cc.Class({extends:cc.Component,properties:{markLabel:cc.Label,priceLabel:cc.Label,typeLabel:cc.Label,numberLabel:cc.Label},start:function(){},load:function(t,i,o){this.markLabel.node.active=!!o,this.priceLabel.string=t.price,this.typeLabel.string=i,this.numberLabel.string=t.number+"\u4e2a"}}),cc._RF.pop()},{}],BankExchangeOrder:[function(t,i,o){"use strict";cc._RF.push(i,"867e8cdnCxAnozBbLV/zSn5","BankExchangeOrder");var e=t("Fragment"),a=t("BankEgOrderItem"),n=t("BankEsOrderItem");cc.Class({extends:e,properties:{listNode:cc.Node,bankEgOrderItemPrefab:cc.Prefab,bankEsOrderItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.bankExchangeList()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){var t=this.data;if(t){for(var i=0;i<this.listNode.childrenCount;i++){(o=this.listNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];if("\u6c42"==e.type)(o=cc.instantiate(this.bankEgOrderItemPrefab)).bankEgOrderItemComp=o.getComponent(a),o.bankEgOrderItemComp.load(e),o.bankEgOrderItemComp.setOnActionClickCallback(function(t){this.bankExchangeDelete(t.id)}.bind(this)),o.parent=this.listNode;if("\u4f9b"==e.type)(o=cc.instantiate(this.bankEsOrderItemPrefab)).bankEsOrderItemComp=o.getComponent(n),o.bankEsOrderItemComp.load(e),o.bankEsOrderItemComp.setOnActionClickCallback(function(t){this.bankExchangeDelete(t.id)}.bind(this)),o.parent=this.listNode}}},bankExchangeList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/bank/exchangeList",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},bankExchangeDelete:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/bank/exchangeDelete",{playerId:application.getPlayerId(),playerExchangeId:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.bankExchangeList()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{BankEgOrderItem:"BankEgOrderItem",BankEsOrderItem:"BankEsOrderItem",Fragment:"Fragment"}],BankExchangeSilverDetail:[function(t,i,o){"use strict";cc._RF.push(i,"e24adkOHYBKZJwBHFfUetyi","BankExchangeSilverDetail");var e=t("Fragment");cc.Class({extends:e,properties:{orderLabel:cc.Label},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.price=this.getLaunchData().price,this.number=this.getLaunchData().number,this.orderLabel.string="\u60a8\u5df2\u4e0b\u6c42\u8d2d\u8ba2\u5355\uff1a\u5355\u4ef7"+this.price+"\u4e24\uff0c\u5171\u6c42\u8d2d"+this.number+"\u91d1\u7816",this.resetMain()},onBackClickCallback:function(t){this.quitFragment()},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],BankExchangeSilver:[function(t,i,o){"use strict";cc._RF.push(i,"d4062pzs45LK4NXfhyIfewx","BankExchangeSilver");var e=t("Fragment"),a=t("BankExchangeItem");cc.Class({extends:e,properties:{priceLabel:cc.Label,myGoldLabel:cc.Label,priceEditbox:cc.EditBox,numberEditbox:cc.EditBox,listNode:cc.Node,exchangeItemPrefab:cc.Prefab},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onQuitFragmentCallback:function(t,i){"BankExchangeSilverDetail"==t&&this.bankExchange()},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.bankExchange()},initData:function(){var t=this.data;if(t){for(var i=0;i<this.listNode.childrenCount;i++){(s=this.listNode.children[i]).destroy()}var o=t.exchangeGoldList;for(i=0;i<o.length;i++){var e=o[i];(s=cc.instantiate(this.exchangeItemPrefab)).exchangeItemComp=s.getComponent(a),i==o.length-1?s.exchangeItemComp.load(e,"\u6c42\u8d2d",!0):s.exchangeItemComp.load(e,"\u6c42\u8d2d",!1),s.parent=this.listNode}var n=t.exchangeSilverList;for(i=0;i<n.length;i++){var s,l=n[i];(s=cc.instantiate(this.exchangeItemPrefab)).exchangeItemComp=s.getComponent(a),s.exchangeItemComp.load(l,"\u4f9b\u5e94",!1),s.parent=this.listNode}if(o.length>0){var h=o[o.length-1];this.priceLabel.string=h.price+"\u94f6\u4e24/1\u91d1\u7816",this.priceEditbox.string=h.price+""}else this.priceLabel.string="\u65e0\u6c42\u8d2d";this.myGoldLabel.string=t.myGold}},onBackClickCallback:function(t){this.quitFragment()},onConfirmClickCallback:function(t){var i=this.priceEditbox.string;if(!util.isNumber(i))return this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u4f9b\u5e94\u4ef7\u683c\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),void this.hintDialogNode.hintDialogComp.show();var o=this.numberEditbox.string;if(!util.isNumber(o))return this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u4f9b\u5e94\u6570\u91cf\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),void this.hintDialogNode.hintDialogComp.show();this.bankExchangeSilver(i,o)},bankExchange:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/bank/exchange",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},bankExchangeSilver:function(t,i){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/bank/exchangeSilver",{playerId:application.getPlayerId(),price:t,number:i},function(o){if(this.loadDialogNode.loadDialogComp.dismiss(),o&&1==o.code){var e={price:t,number:i};this.launchFragment("BankExchangeSilverDetail",e)}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(o.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.bankExchange()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{BankExchangeItem:"BankExchangeItem",Fragment:"Fragment"}],BankGoldInput:[function(t,i,o){"use strict";cc._RF.push(i,"4d312kA5RpALYsIGjMpzLNr","BankGoldInput");var e=t("Fragment");cc.Class({extends:e,properties:{bankGoldLabel:cc.Label,myGoldLabel:cc.Label,moneyEditbox:cc.EditBox},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.bankDeposit()},initData:function(){var t=this.data;null!=t&&(this.bankGoldLabel.string=t.bankGold,this.myGoldLabel.string=t.myGold)},onBackClickCallback:function(t){this.quitFragment()},onConfirmClickCallback:function(t){var i=this.moneyEditbox.string;util.isNumber(i)?this.bankGoldInput(i):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u5b58\u6b3e\u6570\u76ee\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},bankDeposit:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/bank/deposit",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},bankGoldInput:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/bank/goldInput",{playerId:application.getPlayerId(),gold:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.bankDeposit()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],BankGoldOutput:[function(t,i,o){"use strict";cc._RF.push(i,"8651bky91ZNcY8F814eDRxM","BankGoldOutput");var e=t("Fragment");cc.Class({extends:e,properties:{bankGoldLabel:cc.Label,myGoldLabel:cc.Label,moneyEditbox:cc.EditBox},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.bankDeposit()},initData:function(){var t=this.data;null!=t&&(this.bankGoldLabel.string=t.bankGold,this.myGoldLabel.string=t.myGold)},onBackClickCallback:function(t){this.quitFragment()},onConfirmClickCallback:function(t){var i=this.moneyEditbox.string;util.isNumber(i)?this.bankGoldOutput(i):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u5b58\u6b3e\u6570\u76ee\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},bankDeposit:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/bank/deposit",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},bankGoldOutput:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/bank/goldOutput",{playerId:application.getPlayerId(),gold:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.bankDeposit()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],BankSilverInput:[function(t,i,o){"use strict";cc._RF.push(i,"4911eXfIeFLhbrpgk0kKUeT","BankSilverInput");var e=t("Fragment");cc.Class({extends:e,properties:{bankSilverLabel:cc.Label,mySilverLabel:cc.Label,moneyEditbox:cc.EditBox},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.bankDeposit()},initData:function(){var t=this.data;null!=t&&(this.bankSilverLabel.string=t.bankSilver,this.mySilverLabel.string=t.mySilver)},onBackClickCallback:function(t){this.quitFragment()},onConfirmClickCallback:function(t){var i=this.moneyEditbox.string;util.isNumber(i)?this.bankSilverInput(i):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u5b58\u6b3e\u6570\u76ee\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},bankDeposit:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/bank/deposit",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},bankSilverInput:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/bank/silverInput",{playerId:application.getPlayerId(),silver:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.bankDeposit()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],BankSilverOutput:[function(t,i,o){"use strict";cc._RF.push(i,"a91ffVraA1JgLXt0xwLPuZ+","BankSilverOutput");var e=t("Fragment");cc.Class({extends:e,properties:{bankSilverLabel:cc.Label,mySilverLabel:cc.Label,moneyEditbox:cc.EditBox},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.bankDeposit()},initData:function(){var t=this.data;null!=t&&(this.bankSilverLabel.string=t.bankSilver,this.mySilverLabel.string=t.mySilver)},onBackClickCallback:function(t){this.quitFragment()},onConfirmClickCallback:function(t){var i=this.moneyEditbox.string;util.isNumber(i)?this.bankSilverOutput(i):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u5b58\u6b3e\u6570\u76ee\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},bankDeposit:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/bank/deposit",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},bankSilverOutput:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/bank/silverOutput",{playerId:application.getPlayerId(),silver:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.bankDeposit()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],Bank:[function(t,i,o){"use strict";cc._RF.push(i,"9eca6McjvxO8pgk/ahaUPbb","Bank");var e=t("Fragment");cc.Class({extends:e,properties:{moneyLabel:cc.Label},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy()},start:function(){var t=application.getMain();this.moneyLabel.string="\u60a8\u76ee\u524d\u6709"+t.playerGold+"\u91d1\u7816"+t.playerSilver+"\u94f6\u4e24"},onMainChange:function(){var t=application.getMain();this.moneyLabel.string="\u60a8\u76ee\u524d\u6709"+t.playerGold+"\u91d1\u7816"+t.playerSilver+"\u94f6\u4e24"},onBackClickCallback:function(t){this.quitFragment()},onBankGoldInputClickCallback:function(t){this.launchFragment("BankGoldInput")},onBankGoldOutputClickCallback:function(t){this.launchFragment("BankGoldOutput")},onBankSilverInputClickCallback:function(t){this.launchFragment("BankSilverInput")},onBankSilverOutputClickCallback:function(t){this.launchFragment("BankSilverOutput")},onExchangeGoldClickCallback:function(t){this.launchFragment("BankExchangeGold")},onExchangeSilverClickCallback:function(t){this.launchFragment("BankExchangeSilver")},onBankOrderClickCallback:function(t){this.launchFragment("BankExchangeOrder")}}),cc._RF.pop()},{Fragment:"Fragment"}],Battleground:[function(t,i,o){"use strict";cc._RF.push(i,"e0ca5ZU9l1L1aATn16vga4W","Battleground");var e=t("Fragment");cc.Class({extends:e,properties:{},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy()},start:function(){},onBackClickCallback:function(t){this.quitFragment()},onGameInstanceClickCallback:function(t){this.launchFragment("GameInstance")},onQuitFragmentCallback:function(t,i){"GameInstance"==t&&i&&this.quitFragment(i)}}),cc._RF.pop()},{Fragment:"Fragment"}],BeatenWriterRank:[function(t,i,o){"use strict";cc._RF.push(i,"0ec1216HS9DnbJQHoF27xFu","BeatenWriterRank");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{myScoreLabel:cc.Label,playerListNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.beatenWriterRank()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){if(null!=this.data){for(var t="\u5f53\u524d\u6ca1\u6709\u6210\u7ee9",i=this.data.playerList,o=0;o<this.playerListNode.childrenCount;o++){(e=this.playerListNode.children[o]).destroy()}for(o=0;o<i.length;o++){var e,n=i[o];(e=cc.instantiate(this.commonItemPrefab)).commonItemComp=e.getComponent(a),e.commonItemComp.id=n.id,e.commonItemComp.setName(n.name),e.commonItemComp.setInfo(n.writerNumber+"\u4e2a"),e.commonItemComp.setActionEnable(!1),application.getPlayerId()==n.id&&(t="\u5f53\u524d\u5904\u4e8e\u7b2c"+(o+1)+"\u540d"),e.commonItemComp.setOnNameClickCallback(function(t){if(application.getPlayerId()==t.id)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:t.id};this.launchFragment("PlayerOtherDetail",i)}}.bind(this)),e.parent=this.playerListNode}this.myScoreLabel.string=t}},beatenWriterRank:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/beatenWriter/rank",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],BeatenWriter:[function(t,i,o){"use strict";cc._RF.push(i,"c7eafPu/g5D8KCSXgPn+N8D","BeatenWriter");var e=t("Fragment");cc.Class({extends:e,properties:{numberEditbox:cc.EditBox},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){},onQuitFragmentCallback:function(t,i){"Combat"==t&&i&&network.getLastCombat()},onLookWriterClickCallback:function(t){this.launchFragment("PlayerOtherDetail",{otherPlayerId:1001})},onRankClickCallback:function(t){this.launchFragment("BeatenWriterRank")},onBackClickCallback:function(t){this.quitFragment()},onWriterClickCallback:function(t){var i=this.numberEditbox.string;util.isNumberD(i)?(this.loadDialogNode.loadDialogComp.show(),network.createBeatenWriterCombat(i)):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u6311\u6218\u4e2a\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},initData:function(){},onWsMessage:function(t){"combatCreate"==t.action&&(this.loadDialogNode.loadDialogComp.dismiss(),this.hintDialogNode.hintDialogComp.dismiss())}}),cc._RF.pop()},{Fragment:"Fragment"}],Call:[function(t,i,o){"use strict";cc._RF.push(i,"bb09b7ySp9KB6MPAPx1zeq0","Call");var e=t("Fragment");cc.Class({extends:e,properties:{contentEditBox:cc.EditBox},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},onBackClickCallback:function(t){this.quitFragment()},onCallClickCallback:function(t){var i=this.contentEditBox.string;""==i.trim()||i.length<1?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u5185\u5bb9\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u786e\u5b9a\u8fdb\u884c\u5343\u91cc\u4f20\u97f3\u5417\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerCall(i)}.bind(this)),this.hintDialogNode.hintDialogComp.show())},playerCall:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/call",{playerId:application.getPlayerId(),content:escape(t)},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],ChatDialog:[function(t,i,o){"use strict";cc._RF.push(i,"fe8f1BqE7RHWaZBWxo2rAtG","ChatDialog"),cc.Class({extends:cc.Component,properties:{contentEditBox:cc.EditBox},onLoad:function(){this.animComp=this.getComponent(cc.Animation),this.node.active=!1,this.node.x=0,this.node.y=0},show:function(){this.node.active=!0,this.animComp.play()},dismiss:function(){this.contentEditBox.string="",this.node.active=!1},setLeftClickCallback:function(t){this.leftClickCallback=t},setRightClickCallback:function(t){this.rightClickCallback=t},onLeftClickCallback:function(t){null!=this.leftClickCallback&&this.leftClickCallback(this)},onRightClickCallback:function(t){null!=this.rightClickCallback&&this.rightClickCallback(this,this.contentEditBox.string)}}),cc._RF.pop()},{}],ChatFriendItem:[function(t,i,o){"use strict";cc._RF.push(i,"afa394err5Kq6ck02HLaIEa","ChatFriendItem"),cc.Class({extends:cc.Component,properties:{timeLabel:cc.Label,nameLabel:cc.Label,contentLabel:cc.Label},start:function(){},load:function(t,i){this.context=t,this.nameLabel.string="\u3000\u3000\u3000"+i.playerName+"\uff1a",this.contentLabel.string="\u3000\u3000\u3000"+this.placeholder(i.playerName+"\uff1a")+unescape(i.content),this.timeLabel.string=i.createTime.substring(11,16)},placeholder:function(t){for(var i=t.length,o="",e=0;e<i;e++)o+="\u3000";return o}}),cc._RF.pop()},{}],ChatItem:[function(t,i,o){"use strict";cc._RF.push(i,"9f05fmCgPhEdYC1J9t+/vxP","ChatItem");var e=t("PersonFace");cc.Class({extends:cc.Component,properties:{timeLabel:cc.Label,playerNameLabel:cc.Label,contentLabel:cc.Label,personFace:e,parentNode:cc.Node,contentNode:cc.Node},start:function(){this.parentNode.on("size-changed",function(t){this.node.height=this.parentNode.height}.bind(this))},lateUpdate:function(){},load:function(t,i){this.context=t,this.contentLabel.string=unescape(i.content),this.playerNameLabel.string=i.playerName,this.timeLabel.string=i.createTime.substring(11,16),this.personFace.draw=i.faceDraw,this.playerId=i.playerId},onFaceClickCallback:function(t){null!=this.faceClickCallback&&this.faceClickCallback(this)},setFaceClickCallback:function(t){this.faceClickCallback=t}}),cc._RF.pop()},{PersonFace:"PersonFace"}],ChatSystemItem:[function(t,i,o){"use strict";cc._RF.push(i,"4f30ehx7yNH+bRVJqRouhL/","ChatSystemItem"),cc.Class({extends:cc.Component,properties:{timeLabel:cc.Label,contentLabel:cc.Label},start:function(){},load:function(t,i){if(this.context=t,"json:"==i.content.substring(0,5)){var o=i.content.substring(5,i.content.length);cc.log(o);var e=JSON.parse(o);this.contentLabel.string="\u3000\u3000\u3000\u3000\u3000\u3000"+e.content1+unescape(e.content2)+e.content3+e.content4}else this.contentLabel.string="\u3000\u3000\u3000\u3000\u3000\u3000"+i.content;this.timeLabel.string=i.createTime.substring(11,16)}}),cc._RF.pop()},{}],CombatAdjutantChoose:[function(t,i,o){"use strict";cc._RF.push(i,"c9437k/I/xDuKbt4LCQRpMK","CombatAdjutantChoose");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{titleLabel:cc.Label,listNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.combatId=this.getLaunchData().combatId,this.teamOf=this.getLaunchData().teamOf},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerCombatAdjutantChoose()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){if(null!=this.data){for(var t=this.data.playerAdjutantList,i=0;i<this.listNode.childrenCount;i++){(o=this.listNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.id=e.id,o.commonItemComp.setName(e.name),o.commonItemComp.setInfo(e.gradeName+"\u7ea7"+e.jobName),o.commonItemComp.setAction("\u9009\u62e9"),o.commonItemComp.setOnActionClickCallback(function(t){var i={playerAdjutantId:t.id};this.quitFragment(i)}.bind(this)),o.parent=this.listNode}}},playerCombatAdjutantChoose:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/combatAdjutantChoose",{playerId:application.getPlayerId(),combatId:this.combatId,teamOf:this.teamOf},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],CombatBaseDescription:[function(t,i,o){"use strict";cc._RF.push(i,"e31d93dkMZODK6xkRvTdScP","CombatBaseDescription");var e=t("Fragment");cc.Class({extends:e,properties:{},onQuitFragmentCallback:function(t,i){},onBackClickCallback:function(t){this.quitFragment()}}),cc._RF.pop()},{Fragment:"Fragment"}],CombatDescription:[function(t,i,o){"use strict";cc._RF.push(i,"090652GQBFKoIM4BN3Rl+qG","CombatDescription");var e=t("Fragment");cc.Class({extends:e,properties:{},onQuitFragmentCallback:function(t,i){},onBackClickCallback:function(t){this.quitFragment()}}),cc._RF.pop()},{Fragment:"Fragment"}],CombatDrugChoose:[function(t,i,o){"use strict";cc._RF.push(i,"851c9/rW85Gb4caHLJ660vY","CombatDrugChoose");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{titleLabel:cc.Label,listNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerDrugChoose()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){var t=this.data.playerDrugList;if(null!=t)for(var i=0;i<t.length;i++){var o=t[i],e=cc.instantiate(this.commonItemPrefab);e.commonItemComp=e.getComponent(a),e.commonItemComp.id=o.id,e.commonItemComp.setInfo("("+o.number+")"),"\u52a0HP"==o.drugType&&(e.commonItemComp.setName(o.drugName+"(\u8840+"+o.drugEffectOfType+")"),e.commonItemComp.setNameColor("#FF1A1A")),"\u52a0MP"==o.drugType&&(e.commonItemComp.setName(o.drugName+"(\u7cbe+"+o.drugEffectOfType+")"),e.commonItemComp.setNameColor("#2B88F1")),e.commonItemComp.setAction("\u4f7f\u7528"),e.commonItemComp.setOnActionClickCallback(function(t){var i={playerGoodsId:t.id};this.quitFragment(i)}.bind(this)),e.parent=this.listNode}},playerDrugChoose:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/drugChoose",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],CombatHorse:[function(t,i,o){"use strict";cc._RF.push(i,"3c7e4AK8wZFwrgKcJyiTWJa","CombatHorse"),cc.Class({extends:cc.Component,properties:{bodySprite:cc.Sprite,defaultSpriteFrame:cc.SpriteFrame,_draw:{default:""},draw:{get:function(){return this._draw},set:function(t){var i=this._draw;this._draw=t.toString(),this._draw!==i&&this._updateRenderData()}}},start:function(){},_updateRenderData:function(){0!=this._isOnLoadCalled&&cc.loader.loadRes("textures/horse/body/"+this._draw,cc.SpriteFrame,function(t,i){this.bodySprite.spriteFrame=null==t?i:this.defaultSpriteFrame}.bind(this))},onClickCallback:function(t){null!=this.clickCallback&&this.clickCallback(this)},setOnClickCallback:function(t){this.clickCallback=t}}),cc._RF.pop()},{}],CombatMap:[function(t,i,o){"use strict";cc._RF.push(i,"a0e09PWtjFJY6sC/luCiOYq","CombatMap"),cc.Class({extends:cc.Component,properties:{mapArea1Sprite:cc.Sprite,mapArea2Sprite:cc.Sprite,mapArea3Sprite:cc.Sprite,mapArea4Sprite:cc.Sprite,mapArea5Sprite:cc.Sprite,mapArea6Sprite:cc.Sprite,mapArea1DefaultSpriteFrame:cc.SpriteFrame,mapArea2DefaultSpriteFrame:cc.SpriteFrame,mapArea3DefaultSpriteFrame:cc.SpriteFrame,mapArea4DefaultSpriteFrame:cc.SpriteFrame,mapArea5DefaultSpriteFrame:cc.SpriteFrame,mapArea6DefaultSpriteFrame:cc.SpriteFrame,draw:"",drawColor:""},start:function(){this.loadMapSprite()},loadMapSprite:function(){this.mapArea1Sprite.spriteFrame=null,this.mapArea2Sprite.spriteFrame=null,this.mapArea3Sprite.spriteFrame=null,this.mapArea4Sprite.spriteFrame=null,this.mapArea5Sprite.spriteFrame=null,this.mapArea6Sprite.spriteFrame=null,cc.loader.loadResDir("textures/map/"+this.draw,cc.SpriteFrame,function(t,i){if(t)this.loadDefaultMapSprite();else{for(var o=0;o<i.length;o++)"area1"==i[o].name&&(this.mapArea1Sprite.spriteFrame=i[o]),"area2"==i[o].name&&(this.mapArea2Sprite.spriteFrame=i[o]),"area3"==i[o].name&&(this.mapArea3Sprite.spriteFrame=i[o]),"area4"==i[o].name&&(this.mapArea4Sprite.spriteFrame=i[o]),"area5"==i[o].name&&(this.mapArea5Sprite.spriteFrame=i[o]),"area6"==i[o].name&&(this.mapArea6Sprite.spriteFrame=i[o]);if(this.drawColor){var e=cc.Color.BLACK;this.node.color=e.fromHEX(this.drawColor)}this.mapArea1Sprite.spriteFrame&&this.mapArea2Sprite.spriteFrame&&this.mapArea3Sprite.spriteFrame&&this.mapArea4Sprite.spriteFrame&&this.mapArea5Sprite.spriteFrame&&this.mapArea6Sprite.spriteFrame&&this.drawColor||this.loadDefaultMapSprite()}}.bind(this))},loadDefaultMapSprite:function(){this.mapArea1Sprite.spriteFrame=this.mapArea1DefaultSpriteFrame,this.mapArea2Sprite.spriteFrame=this.mapArea2DefaultSpriteFrame,this.mapArea3Sprite.spriteFrame=this.mapArea3DefaultSpriteFrame,this.mapArea4Sprite.spriteFrame=this.mapArea4DefaultSpriteFrame,this.mapArea5Sprite.spriteFrame=this.mapArea5DefaultSpriteFrame,this.mapArea6Sprite.spriteFrame=this.mapArea6DefaultSpriteFrame;var t=cc.Color.BLACK;this.node.color=t.fromHEX("#D0B880")}}),cc._RF.pop()},{}],CombatMotionDead:[function(t,i,o){"use strict";cc._RF.push(i,"661a9jY7y1Bk45fzjuolDWE","CombatMotionDead"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.animComp=this.getComponent(cc.Animation)},start:function(){},play:function(t,i){this.deadCallback=t,this.animComp.play(),this.deadFinish=function(){this.animComp.off("finished",this.deadFinish,this),i&&i()},this.animComp.on("finished",this.deadFinish,this)},onDeadCallback:function(){this.deadCallback&&this.deadCallback()},resetSkillPosition:function(t,i){this.node.setPosition(t,i)}}),cc._RF.pop()},{}],CombatMotionSkill:[function(t,i,o){"use strict";cc._RF.push(i,"9d70aKzQtNK/YuFNSTJ9TYK","CombatMotionSkill"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.animComp=this.node.getComponent(cc.Animation)},start:function(){},resetSkillPosition:function(t,i){this.node.setPosition(t,i)},play:function(t){this.animComp.play(),this.skillFinish=function(){this.animComp.off("finished",this.skillFinish,this),t&&t()},this.animComp.on("finished",this.skillFinish,this)}}),cc._RF.pop()},{}],CombatMotion:[function(t,i,o){"use strict";cc._RF.push(i,"5d84bDehTxN7pujK0nqoBjM","CombatMotion");var e=t("CombatMotionSkill"),a=t("CombatMotionDead");cc.Class({extends:cc.Component,properties:{personNode:cc.Node,dead1SpriteFrame:cc.SpriteFrame,dead2SpriteFrame:cc.SpriteFrame,personDeadSprite:cc.Sprite,headSprite:cc.Sprite,bodySprite:cc.Sprite,footSprite:cc.Sprite,combatMotionSkill:e,combatMotionDead:a,headSpriteFrame:cc.SpriteFrame,body1SpriteFrame:cc.SpriteFrame,body2SpriteFrame:cc.SpriteFrame,foot1SpriteFrame:cc.SpriteFrame,foot2SpriteFrame:cc.SpriteFrame,_draw:{default:""},draw:{get:function(){return this._draw},set:function(t){var i=this._draw;this._draw=t.toString(),this._draw!==i&&this._updateRenderData()}}},onLoad:function(){},start:function(){},_updateRenderData:function(){0!=this._isOnLoadCalled&&(cc.log("\u52a0\u8f7d\uff1a"+this._draw),this.headSprite.spriteFrame=null,this.bodySprite.spriteFrame=null,this.footSprite.spriteFrame=null,cc.loader.loadRes("jsons/person/"+this._draw,function(t,i){null==t?(this.personJson=i.json,this.loadPersonSprite()):this.loadFailure()}.bind(this)))},loadPersonSprite:function(){cc.loader.loadRes("textures/person/head/"+this.personJson.head.draw,cc.SpriteFrame,function(t,i){null==t?(this.headSpriteFrame=i,cc.loader.loadRes("textures/person/body/"+this.personJson.body1.draw,cc.SpriteFrame,function(t,i){null==t?(this.body1SpriteFrame=i,cc.loader.loadRes("textures/person/body/"+this.personJson.body2.draw,cc.SpriteFrame,function(t,i){null==t?(this.body2SpriteFrame=i,cc.loader.loadRes("textures/person/foot/"+this.personJson.foot1.draw,cc.SpriteFrame,function(t,i){null==t?(this.foot1SpriteFrame=i,cc.loader.loadRes("textures/person/foot/"+this.personJson.foot2.draw,cc.SpriteFrame,function(t,i){null==t?(this.foot2SpriteFrame=i,this.loadSuccess()):this.loadFailure()}.bind(this))):this.loadFailure()}.bind(this))):this.loadFailure()}.bind(this))):this.loadFailure()}.bind(this))):this.loadFailure()}.bind(this))},loadSuccess:function(){this.dead||this.dj()},loadFailure:function(){this.personJson={},this.personJson.head={},this.personJson.body1={},this.personJson.body2={},this.personJson.foot1={},this.personJson.foot2={},this.personJson.head.dj={},this.personJson.head.dj.x=-1.3,this.personJson.head.dj.y=27.8,this.personJson.head.cj={},this.personJson.head.cj.x=1.2,this.personJson.head.cj.y=27.8,this.personJson.head.gj={},this.personJson.head.gj.x=5.1,this.personJson.head.gj.y=27.8,this.personJson.body1.dj={},this.personJson.body1.dj.x=.4,this.personJson.body1.dj.y=14,this.personJson.body1.cj={},this.personJson.body1.cj.x=2.6,this.personJson.body1.cj.y=14,this.personJson.body2.gj={},this.personJson.body2.gj.x=13.5,this.personJson.body2.gj.y=13.6,this.personJson.foot1.dj={},this.personJson.foot1.dj.x=0,this.personJson.foot1.dj.y=5.2,this.personJson.foot2.cj={},this.personJson.foot2.cj.x=0,this.personJson.foot2.cj.y=5.2,this.personJson.foot2.gj={},this.personJson.foot2.gj.x=0,this.personJson.foot2.gj.y=5.2,this.dead||this.dj()},zl:function(){this.headSprite.node.stopAllActions(),this.bodySprite.node.stopAllActions(),this.footSprite.node.stopAllActions(),this.headSprite.spriteFrame=this.headSpriteFrame,this.headSprite.node.x=this.personJson.head.dj.x,this.headSprite.node.y=this.personJson.head.dj.y,this.bodySprite.spriteFrame=this.body1SpriteFrame,this.bodySprite.node.x=this.personJson.body1.dj.x,this.bodySprite.node.y=this.personJson.body1.dj.y,this.footSprite.spriteFrame=this.foot1SpriteFrame,this.footSprite.node.x=this.personJson.foot1.dj.x,this.footSprite.node.y=this.personJson.foot1.dj.y},dj:function(){this.setDead(!1),this.headSprite.node.stopAllActions(),this.bodySprite.node.stopAllActions(),this.footSprite.node.stopAllActions(),this.headSprite.spriteFrame=this.headSpriteFrame,this.headSprite.node.x=this.personJson.head.dj.x,this.headSprite.node.y=this.personJson.head.dj.y,this.bodySprite.spriteFrame=this.body1SpriteFrame,this.bodySprite.node.x=this.personJson.body1.dj.x,this.bodySprite.node.y=this.personJson.body1.dj.y;var t=cc.repeatForever(cc.sequence(cc.moveBy(.2,cc.v2(0,.5)),cc.moveBy(.2,cc.v2(0,-.5))));this.bodySprite.node.runAction(t),this.footSprite.spriteFrame=this.foot1SpriteFrame,this.footSprite.node.x=this.personJson.foot1.dj.x,this.footSprite.node.y=this.personJson.foot1.dj.y},cj:function(){this.headSprite.node.stopAllActions(),this.bodySprite.node.stopAllActions(),this.footSprite.node.stopAllActions(),this.headSprite.spriteFrame=this.headSpriteFrame,this.headSprite.node.x=this.personJson.head.cj.x,this.headSprite.node.y=this.personJson.head.cj.y,this.bodySprite.spriteFrame=this.body1SpriteFrame,this.bodySprite.node.x=this.personJson.body1.cj.x,this.bodySprite.node.y=this.personJson.body1.cj.y,this.footSprite.spriteFrame=this.foot2SpriteFrame,this.footSprite.node.x=this.personJson.foot2.cj.x,this.footSprite.node.y=this.personJson.foot2.cj.y},gj:function(){this.headSprite.node.stopAllActions(),this.bodySprite.node.stopAllActions(),this.footSprite.node.stopAllActions(),this.headSprite.spriteFrame=this.headSpriteFrame,this.headSprite.node.x=this.personJson.head.gj.x,this.headSprite.node.y=this.personJson.head.gj.y,this.bodySprite.spriteFrame=this.body2SpriteFrame,this.bodySprite.node.x=this.personJson.body2.gj.x,this.bodySprite.node.y=this.personJson.body2.gj.y,this.footSprite.spriteFrame=this.foot2SpriteFrame,this.footSprite.node.x=this.personJson.foot2.gj.x,this.footSprite.node.y=this.personJson.foot2.gj.y},ad1:function(){this.headSprite.node.stopAllActions(),this.bodySprite.node.stopAllActions(),this.footSprite.node.stopAllActions(),this.headSprite.spriteFrame=this.headSpriteFrame,this.headSprite.node.x=this.personJson.head.dj.x-2,this.headSprite.node.y=this.personJson.head.dj.y,this.bodySprite.spriteFrame=this.body1SpriteFrame,this.bodySprite.node.x=this.personJson.body1.dj.x,this.bodySprite.node.y=this.personJson.body1.dj.y,this.footSprite.spriteFrame=this.foot1SpriteFrame,this.footSprite.node.x=this.personJson.foot1.dj.x,this.footSprite.node.y=this.personJson.foot1.dj.y},ad2:function(){this.headSprite.node.stopAllActions(),this.bodySprite.node.stopAllActions(),this.footSprite.node.stopAllActions(),this.headSprite.spriteFrame=this.headSpriteFrame,this.headSprite.node.x=this.personJson.head.dj.x+2,this.headSprite.node.y=this.personJson.head.dj.y,this.bodySprite.spriteFrame=this.body1SpriteFrame,this.bodySprite.node.x=this.personJson.body1.dj.x,this.bodySprite.node.y=this.personJson.body1.dj.y,this.footSprite.spriteFrame=this.foot1SpriteFrame,this.footSprite.node.x=this.personJson.foot1.dj.x,this.footSprite.node.y=this.personJson.foot1.dj.y},jn:function(t){this.combatMotionSkill.node.active=!0,this.headSprite.node.stopAllActions(),this.bodySprite.node.stopAllActions(),this.footSprite.node.stopAllActions(),this.headSprite.spriteFrame=this.headSpriteFrame,this.headSprite.node.x=this.personJson.head.dj.x,this.headSprite.node.y=this.personJson.head.dj.y,this.bodySprite.spriteFrame=this.body1SpriteFrame,this.bodySprite.node.x=this.personJson.body1.dj.x,this.bodySprite.node.y=this.personJson.body1.dj.y,this.footSprite.spriteFrame=this.foot1SpriteFrame,this.footSprite.node.x=this.personJson.foot1.dj.x,this.footSprite.node.y=this.personJson.foot1.dj.y,this.combatMotionSkill.play(function(){this.combatMotionSkill.node.active=!1,t&&t()}.bind(this))},sw:function(t){this.combatMotionDead.node.active=!0,this.headSprite.node.stopAllActions(),this.bodySprite.node.stopAllActions(),this.footSprite.node.stopAllActions(),this.headSprite.spriteFrame=this.headSpriteFrame,this.headSprite.node.x=this.personJson.head.dj.x,this.headSprite.node.y=this.personJson.head.dj.y,this.bodySprite.spriteFrame=this.body1SpriteFrame,this.bodySprite.node.x=this.personJson.body1.dj.x,this.bodySprite.node.y=this.personJson.body1.dj.y,this.footSprite.spriteFrame=this.foot1SpriteFrame,this.footSprite.node.x=this.personJson.foot1.dj.x,this.footSprite.node.y=this.personJson.foot1.dj.y,this.combatMotionDead.play(function(){this.combatMotionDead.node.active=!1,this.setDead(!0),t&&t()}.bind(this))},initDead:function(t){1==t&&(this.personDeadSprite.spriteFrame=this.dead1SpriteFrame),2==t&&(this.personDeadSprite.spriteFrame=this.dead2SpriteFrame)},setDead:function(t){this.dead=t,t?(this.personDeadSprite.node.active=!0,this.personNode.active=!1):(this.personDeadSprite.node.active=!1,this.personNode.active=!0)}}),cc._RF.pop()},{CombatMotionDead:"CombatMotionDead",CombatMotionSkill:"CombatMotionSkill"}],CombatOperation:[function(t,i,o){"use strict";cc._RF.push(i,"09fd6sdgN9ByJ/9WQID3bDa","CombatOperation");var e=t("CombatPerson");cc.Class({extends:cc.Component,properties:{attackButton:cc.Button,skillButton:cc.Button,skillLabel:cc.Label,addHelpButton:cc.Button,addHelpLabel:cc.Label,goodsButton:cc.Button,fleeButton:cc.Button,defenseButton:cc.Button},start:function(){},load:function(t,i){"player"==i.combatPersonType?(this.attackButton.node.active=!0,this.skillButton.node.active=!0,this.addHelpButton.node.active=!0,this.goodsButton.node.active=!0,this.fleeButton.node.active=!0,this.defenseButton.node.active=!0):(this.attackButton.node.active=!0,this.skillButton.node.active=!0,this.addHelpButton.node.active=!1,this.goodsButton.node.active=!0,this.fleeButton.node.active=!1,this.defenseButton.node.active=!0);var o=!1;if(4==t.node.childrenCount)for(var a=0;a<t.node.childrenCount;a++){var n=t.node.children[a];n.personComp=n.getComponent(e),"player"!=n.personComp.combatPersonType&&0==n.personComp.hpCurrent&&(o=!0)}else o=!0;if(o){this.addHelpButton.interactable=!0;var s=cc.Color.BLACK;this.addHelpLabel.node.color=s.fromHEX("#FFFFFF")}else{this.addHelpButton.interactable=!1;s=cc.Color.BLACK;this.addHelpLabel.node.color=s.fromHEX("#7E7575")}if(null==i.skillInfoList||0==i.skillInfoList.length){this.skillButton.interactable=!1;var l=cc.Color.BLACK;this.skillLabel.node.color=l.fromHEX("#7E7575")}else{this.skillButton.interactable=!0;l=cc.Color.BLACK;this.skillLabel.node.color=l.fromHEX("#FFFFFF")}var h=0;for(a=0;a<this.node.childrenCount;a++){var d=this.node.children[a];d.active&&h++,d.x=h%2==0?50:-50}}}),cc._RF.pop()},{CombatPerson:"CombatPerson"}],CombatPersonInfo:[function(t,i,o){"use strict";cc._RF.push(i,"a9561VcxB5FDqY2O0PaNMFh","CombatPersonInfo"),cc.Class({extends:cc.Component,properties:{operationTypeLabel:cc.Label,targetPersonNameLabel:cc.Label,targetPersonHpLabel:cc.Label,targetPersonMpLabel:cc.Label,targetPersonJobLabel:cc.Label},start:function(){},load:function(t,i){this.personObj=i,this.operationType=t,this.targetPersonNameLabel.string=this.personObj.personName,this.targetPersonHpLabel.string="\u8840\u6c14\uff1a"+this.personObj.hpCurrent,this.targetPersonMpLabel.string="\u7cbe\u529b\uff1a"+this.personObj.mpCurrent,this.targetPersonJobLabel.string="\u804c\u4e1a\uff1a"+this.personObj.jobName},getPersonObj:function(){return this.personObj}}),cc._RF.pop()},{}],CombatPerson:[function(t,i,o){"use strict";cc._RF.push(i,"85884pADYlNNotKU8l4aVJk","CombatPerson");var e=t("CombatMotion"),a=t("SkillWlhd"),n=t("Condition");cc.Class({extends:cc.Component,properties:{combatMotion:e,hpmpHintNode:cc.Node,hpProgresBar:cc.ProgressBar,mpProgresBar:cc.ProgressBar,chooseSprite:cc.Sprite,hitAnimation:cc.Animation,hint1Node:cc.Node,hint2Node:cc.Node,hint3Node:cc.Node,conditionHitAnimation:cc.Animation,conditionListNode:cc.Node,conditionPrefab:cc.Prefab,missAnimation:cc.Animation,skillXlyjAnimation:cc.Animation,skillLphsAnimation:cc.Animation,skillWlhd:a},onLoad:function(){this.hint1Node.animComp=this.hint1Node.getComponent(cc.Animation),this.hint1Node.labelComp=this.hint1Node.getComponent(cc.Label),this.hint2Node.animComp=this.hint2Node.getComponent(cc.Animation),this.hint2Node.labelComp=this.hint2Node.getComponent(cc.Label),this.hint3Node.animComp=this.hint3Node.getComponent(cc.Animation),this.hint3Node.labelComp=this.hint3Node.getComponent(cc.Label)},start:function(){},init:function(t,i){this.personInfo=t,this.combatPersonId=t.combatPersonId,this.location=t.location,this.combatPersonType=t.combatPersonType,this.teamOf=t.teamOf,this.type=t.type,this.idOfType=t.idOfType,this.personName=t.personName,this.hpLimit=t.hpLimit,this.hpCurrent=t.hpCurrent,this.mpLimit=t.mpLimit,this.mpCurrent=t.mpCurrent,this.skillInfoList=t.skillInfoList,this.combatMotion.draw=t.bodyDraw,"player"==this.combatPersonType?this.combatMotion.initDead(1):this.combatMotion.initDead(2),0==this.hpCurrent?(this.combatMotion.setDead(!0),this.hideHpmpHintNode()):(this.combatMotion.setDead(!1),this.showHpmpHintNode()),this.hpProgresBar.progress=this.hpCurrent/this.hpLimit,this.mpProgresBar.progress=this.mpCurrent/this.mpLimit,this.isSelfTeam=i,this.isSelfTeam?(this.hint1Node.scaleX=-1,this.hint2Node.scaleX=-1,this.hint3Node.scaleX=-1,this.missAnimation.node.scaleX=-4):(this.hint1Node.scaleX=1,this.hint2Node.scaleX=1,this.hint3Node.scaleX=1,this.missAnimation.node.scaleX=4),this.setConditionList(t.conditionList)},showHpmpHintNode:function(){this.hpmpHintNode.active=!0},hideHpmpHintNode:function(){this.hpmpHintNode.active=!1},setHpBar:function(t,i){this.hpLimit=t,this.hpCurrent=i,this.hpProgresBar.progress=this.hpCurrent/this.hpLimit},setMpBar:function(t,i){this.mpLimit=t,this.mpCurrent=i,this.mpProgresBar.progress=this.mpCurrent/this.mpLimit},setConditionList:function(t){if(0!=this._isOnLoadCalled&&this.conditionList!=t){this.conditionList=t;for(var i=t.length;i<this.conditionListNode.childrenCount;i++){(o=this.conditionListNode.children[i]).destroy()}for(i=0;i<this.conditionList.length;i++){var o,e=this.conditionList[i];i<this.conditionListNode.childrenCount?o=this.conditionListNode.children[i]:(o=cc.instantiate(this.conditionPrefab)).parent=this.conditionListNode,o.conditionComp=o.getComponent(n),o.conditionComp.init(e),this.isSelfTeam?o.scaleX=-4:o.scaleX=4}}},setChoose:function(t){this.isChoose=t,this.isChoose?this.chooseSprite.node.active=!0:this.chooseSprite.node.active=!1},onClickCallback:function(t){null!=this.clickCallback&&this.clickCallback(this)},setOnClickCallback:function(t){this.clickCallback=t},playDj:function(){this.combatMotion.dj()},playCj:function(){this.combatMotion.cj()},playGj:function(t){this.combatMotion.gj(),this.scheduleOnce(function(){t&&t()},.2)},playAd:function(t){this.combatMotion.ad1(),this.scheduleOnce(function(){t&&t(this)},.2)},playSw:function(t){this.combatMotion.sw(t)},playJn:function(t){this.combatMotion.jn(t)},playMove:function(t,i,o,e){this.stopMove(),this.moveFinish=cc.callFunc(function(){null!=e&&e()},this,0),this.moveAction=cc.sequence(cc.moveTo(t,cc.v2(i,o)),this.moveFinish),this.node.runAction(this.moveAction)},stopMove:function(){this.node.stopAllActions()},playHint1:function(t,i){this.hint1Node.active=!0,this.hint1Node.labelComp.string=":"+t,this.hint1AminState=this.hint1Node.animComp.play(),this.hint1Finish=function(){this.hint1AminState.off("finished",this.hint1Finish,this),this.hint1Node.active=!1,i&&i()},this.hint1AminState.on("finished",this.hint1Finish,this)},playHint2:function(t,i){this.hint2Node.active=!0,this.hint2Node.labelComp.string=t,this.hint2AminState=this.hint2Node.animComp.play(),this.hint2Finish=function(){this.hint2AminState.off("finished",this.hint2Finish,this),this.hint2Node.active=!1,i&&i()},this.hint2AminState.on("finished",this.hint2Finish,this)},playHint3:function(t,i){this.hint3Node.active=!0,this.hint3Node.labelComp.string=t,this.hint3AminState=this.hint3Node.animComp.play(),this.hint3Finish=function(){this.hint3AminState.off("finished",this.hint3Finish,this),this.hint3Node.active=!1,i&&i()},this.hint3AminState.on("finished",this.hint3Finish,this)},playHit:function(t){this.hitAnimation.node.active=!0,this.hitAminState=this.hitAnimation.play(),this.hitFinish=function(){this.hitAminState.off("finished",this.hitFinish,this),this.hitAnimation.node.active=!1,t&&t()},this.hitAminState.on("finished",this.hitFinish,this)},playXlyjHit:function(t){this.skillXlyjAnimation.node.active=!0,this.xlyjHitAnimState=this.skillXlyjAnimation.play(),this.xlyjHitFinish=function(){this.xlyjHitAnimState.off("finished",this.xlyjHitFinish,this),this.skillXlyjAnimation.node.active=!1,t&&t()},this.xlyjHitAnimState.on("finished",this.xlyjHitFinish,this)},playLphsHit:function(t){this.skillLphsAnimation.node.active=!0,this.lphsHitAnimState=this.skillLphsAnimation.play(),this.lphsHitFinish=function(){this.lphsHitAnimState.off("finished",this.lphsHitFinish,this),this.skillLphsAnimation.node.active=!1,t&&t()},this.lphsHitAnimState.on("finished",this.lphsHitFinish,this)},playWlhdHit:function(t){this.skillWlhd.node.active=!0,this.skillWlhd.play(function(){this.skillWlhd.node.active=!1,t&&t()}.bind(this))},playMiss:function(t){this.missAnimation.node.active=!0,this.missAminState=this.missAnimation.play(),this.missFinish=function(){this.missAminState.off("finished",this.missFinish,this),this.missAnimation.node.active=!1,null!=t&&t()},this.missAminState.on("finished",this.missFinish,this)},playConditionHit:function(t,i){var o;this.conditionHitAnimation.node.active=!0,o=t?"CombatConditionHitF":"CombatConditionHitZ",this.conditionAnimState=this.conditionHitAnimation.play(o),this.conditionFinish=function(){this.conditionAnimState.off("finished",this.conditionFinish,this),this.conditionHitAnimation.node.active=!1,i&&i(this)},this.conditionAnimState.on("finished",this.conditionFinish,this)}}),cc._RF.pop()},{CombatMotion:"CombatMotion",Condition:"Condition",SkillWlhd:"SkillWlhd"}],CombatResult:[function(t,i,o){"use strict";cc._RF.push(i,"c5d9f2FJotGDZmqfaX60ARU","CombatResult");var e=t("Fragment"),a=t("CombatMotion");cc.Class({extends:e,properties:{resultBgNode:cc.Node,resultIconSprite:cc.Sprite,person1Node:cc.Node,person2Node:cc.Node,person3Node:cc.Node,person4Node:cc.Node,personCombat1Motion:a,personCombat2Motion:a,personCombat3Motion:a,personCombat4Motion:a,personName1Label:cc.Label,personName2Label:cc.Label,personName3Label:cc.Label,personName4Label:cc.Label,personAward1Label:cc.Label,personAward2Label:cc.Label,personAward3Label:cc.Label,personAward4Label:cc.Label,winIconSpriteFrame:cc.SpriteFrame,loseIconSpriteFrame:cc.SpriteFrame,contentNode:cc.Node},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog");var t=cc.Color.BLACK,i=cc.Color.BLACK,o=cc.Color.BLACK,e=cc.Color.BLACK;this.winBgColor=t.fromHEX("#DEBA73"),this.loseBgColor=i.fromHEX("#292D29"),this.winNodeColor=o.fromHEX("#FFC409"),this.loseNodeColor=e.fromHEX("#554100"),this.combatResult=this.getLaunchData()},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.initData()},initData:function(){var t=this.combatResult;if(null!=t){var i="";"\u6218\u6597\u80dc\u5229"==t.combatStatus&&(this.resultBgNode.color=this.winBgColor,this.resultIconSprite.spriteFrame=this.winIconSpriteFrame,this.person1Node.color=this.winNodeColor,this.person2Node.color=this.winNodeColor,this.person3Node.color=this.winNodeColor,this.person4Node.color=this.winNodeColor,i="+"),"\u6218\u6597\u5931\u8d25"==t.combatStatus&&(this.resultBgNode.color=this.loseBgColor,this.resultIconSprite.spriteFrame=this.loseIconSpriteFrame,this.person1Node.color=this.loseNodeColor,this.person2Node.color=this.loseNodeColor,this.person3Node.color=this.loseNodeColor,this.person4Node.color=this.loseNodeColor,i="-");var o=t.data;this.personCombat1Motion.node.active=!1,this.personCombat2Motion.node.active=!1,this.personCombat3Motion.node.active=!1,this.personCombat4Motion.node.active=!1,this.personName1Label.node.active=!1,this.personAward1Label.node.active=!1,this.personName2Label.node.active=!1,this.personAward2Label.node.active=!1,this.personName3Label.node.active=!1,this.personAward3Label.node.active=!1,this.personName4Label.node.active=!1,this.personAward4Label.node.active=!1,o.length>0&&(this.personName1Label.node.active=!0,this.personAward1Label.node.active=!0,this.personCombat1Motion.node.active=!0,this.personName1Label.string=o[0].personName,this.personCombat1Motion.draw=o[0].personBodyDraw,o[0].awardEx<0&&(i=""),this.personAward1Label.string="\u7ecf\u9a8c\n"+i+o[0].awardEx),o.length>1&&(this.personName2Label.node.active=!0,this.personAward2Label.node.active=!0,this.personCombat2Motion.node.active=!0,this.personName2Label.string=o[1].personName,this.personCombat2Motion.draw=o[1].personBodyDraw,this.personAward2Label.string="\u7ecf\u9a8c\n"+i+o[1].awardEx),o.length>2&&(this.personName3Label.node.active=!0,this.personAward3Label.node.active=!0,this.personCombat3Motion.node.active=!0,this.personName3Label.string=o[2].personName,this.personCombat3Motion.draw=o[2].personBodyDraw,this.personAward3Label.string="\u7ecf\u9a8c\n"+i+o[2].awardEx),o.length>3&&(this.personName4Label.node.active=!0,this.personAward4Label.node.active=!0,this.personCombat4Motion.node.active=!0,this.personName4Label.string=o[3].personName,this.personCombat4Motion.draw=o[3].personBodyDraw,this.personAward4Label.string="\u7ecf\u9a8c\n"+i+o[3].awardEx),this.context.findFragment("MonsterAuto")&&this.scheduleOnce(function(){this.resetMain()},3)}},onClickCallback:function(t){this.combatResult.resultHintList&&this.combatResult.resultHintList.length>0?this.showResultHintDialog(this.combatResult.resultHintList,0):this.resetMain()},showResultHintDialog:function(t,i){i<t.length?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t[i]),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(o){o.dismiss(),i++,this.showResultHintDialog(t,i)}.bind(this)),this.hintDialogNode.hintDialogComp.show()):this.resetMain()},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.quitFragment(!0)}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{CombatMotion:"CombatMotion",Fragment:"Fragment"}],CombatSkillItem:[function(t,i,o){"use strict";cc._RF.push(i,"ab433dJFddC5IWk/ASvuy9W","CombatSkillItem"),cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label},start:function(){},load:function(t){this.skillName=t.skillName,this.combatSkillId=t.combatSkillId,this.nameLabel.string=t.skillName},onClickCallback:function(t){null!=this.clickCallback&&this.clickCallback(this)},setOnClickCallback:function(t){this.clickCallback=t}}),cc._RF.pop()},{}],CombatSkillOperation:[function(t,i,o){"use strict";cc._RF.push(i,"f0dfa2Qiv9Kh4W1OpniwXwG","CombatSkillOperation");var e=t("CombatSkillItem");cc.Class({extends:cc.Component,properties:{skillListNode:cc.Node,skillPrefab:cc.Prefab},start:function(){},load:function(t,i){for(var o=0;o<this.skillListNode.childrenCount;o++){(a=this.skillListNode.children[o]).destroy()}for(o=0;o<t.length;o++){var a,n=t[o];(a=cc.instantiate(this.skillPrefab)).parent=this.skillListNode,a.skillComp=a.getComponent(e),a.skillComp.load(n),a.skillComp.setOnClickCallback(function(t){i(t)})}}}),cc._RF.pop()},{CombatSkillItem:"CombatSkillItem"}],CombatVisual:[function(t,i,o){"use strict";cc._RF.push(i,"e8b1bL50bxHYLL7pYic4iSq","CombatVisual"),cc.Class({extends:cc.Component,properties:{},start:function(){},playMove:function(t,i,o,e){this.stopMove(),this.moveFinish=cc.callFunc(function(){null!=e&&e()},this,0),this.moveAction=cc.sequence(cc.moveTo(t,cc.v2(i,o)),this.moveFinish),this.node.runAction(this.moveAction)},stopMove:function(){this.node.stopAllActions()}}),cc._RF.pop()},{}],Combat:[function(t,i,o){"use strict";cc._RF.push(i,"9ed24Q32ElJI6Igr19eDCDZ","Combat");var e=t("Fragment"),a=t("CombatMap"),n=t("CombatHorse"),s=t("CombatPerson"),l=t("CombatOperation"),h=t("CombatSkillOperation"),d=t("CombatPersonInfo"),c=t("CombatVisual"),r=t("SkillHfhy"),g=t("SkillPsdh"),m=t("SkillYhly"),p=t("SkillWgjd");cc.Class({extends:e,properties:{combatMap:a,selfTeamNameLabel:cc.Label,foeTeamNameLabel:cc.Label,selfTeamLayout:cc.Layout,foeTeamLayout:cc.Layout,selfPersonLayout:cc.Layout,foePersonLayout:cc.Layout,selfHorse:n,foeHorse:n,operationPanel:l,skillOperationPanel:h,personInfoPanel:d,visualPanel:c,backOperationButton:cc.Button,autoOperationButton:cc.Button,autoOperationLabel:cc.Label,skillHfhy:r,skillPsdh:g,skillYhly:m,skillWgjd:p,boutPanelNode:cc.Node,boutLabel:cc.Label,timerPanelNode:cc.Node,timerLabel:cc.Label,combatPersonPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),cc.game.on(cc.game.EVENT_HIDE,function(){console.log("------------\x3e\u540e\u53f0\u4e86")},this),cc.game.on(cc.game.EVENT_SHOW,function(){if(console.log("------------\x3e\u524d\u53f0\u4e86"),"\u5237\u602a"!=this.combat.combatType&&"\u526f\u672c\u5237\u602a"!=this.combat.combatType&&"\u4efb\u52a1Boss"!=this.combat.combatType&&"\u6bcf\u65e5\u4efb\u52a1Boss"!=this.combat.combatType&&"\u526f\u672c\u4efb\u52a1Boss"!=this.combat.combatType&&"\u66b4\u63cd\u4f5c\u8005"!=this.combat.combatType){var t=this.context.findFragment("CombatResult");cc.log(t),t&&this.context.quitFragment(t);t=this.context.findFragment("CombatDrugChoose");cc.log(t),t&&this.context.quitFragment(t);t=this.context.findFragment("CombatAdjutantChoose");cc.log(t),t&&this.context.quitFragment(t),this.quitFragment(!0)}},this),this.autoCombatCount=1},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.combatCreate()},onWsMessage:function(t){if("combatBoutReady"==t.action&&1==t.code&&this.combatReady(t.data),"combatBoutResult"==t.action&&1==t.code&&this.combat.combatId==t.data.combatId){this.operationPerson&&this.operationPerson.setChoose(!1),this.operationTargetPerson&&this.operationTargetPerson.setChoose(!1),this.operationPanel.node.active=!1,this.autoOperationButton.node.active=!1,this.personInfoPanel.node.active=!1,this.skillOperationPanel.node.active=!1,this.backOperationButton.node.active=!1,this.boutPanelNode.active=!1,this.timerPanelNode.active=!1,this.unschedule(this.timerCallback),this.unschedule(this.autoOperationCallback),this.selfPersonLayout.enabled=!1,this.foePersonLayout.enabled=!1;for(var i=0;i<this.selfPersonLayout.node.childrenCount;i++){(o=this.selfPersonLayout.node.children[i]).personComp=o.getComponent(s),o.personComp.hideHpmpHintNode()}for(i=0;i<this.foePersonLayout.node.childrenCount;i++){var o;(o=this.foePersonLayout.node.children[i]).personComp=o.getComponent(s),o.personComp.hideHpmpHintNode()}var e=t.data.flowList;this.playCombatBout(e,0)}"combatResult"==t.action&&(1==t.code&&this.combat.combatId==t.data.combatId&&this.scheduleOnce(function(){var i=t.data;this.launchFragment("CombatResult",i)},1),2==t.code&&(this.isCombatOver=!0,this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(i){i.dismiss();var o=t.data;this.launchFragment("CombatResult",o)}.bind(this)),this.hintDialogNode.hintDialogComp.show()))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.quitFragment()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))},onQuitFragmentCallback:function(t,i){if("CombatResult"==t&&i&&this.quitFragment(),"CombatDrugChoose"==t&&i&&(cc.log(i),this.selectOperationTargetSelfPerson("\u7269\u54c1,"+i.playerGoodsId)),"CombatAdjutantChoose"==t&&i){cc.log(i),this.operationPanel.node.active=!1,this.operationType="";var o=0;if(4==this.selfPersonLayout.node.childrenCount)for(var e=0;e<this.selfPersonLayout.node.childrenCount;e++){if("player"!=(n=this.selfPersonLayout.node.children[e].getComponent(s)).combatPersonType&&0==n.hpCurrent){o=n.location;break}}else o=this.selfPersonLayout.node.childrenCount+1;var a={tag:this.operationPerson.type+","+this.operationPerson.idOfType,combatPersonId:this.operationPerson.combatPersonId,targetCombatPersonId:this.operationPerson.combatPersonId,operationType:"\u62db\u5c06,"+i.playerAdjutantId+","+o};this.operationList.push(a),this.personInfoPanel.node.active=!1,this.operationPerson.setChoose(!1),this.operationPersonIndex++,this.operationPerson=null;for(e=this.operationPersonIndex;e<this.selfPersonLayout.node.childrenCount;e++){var n;if("player"==(n=this.selfPersonLayout.node.children[e].getComponent(s)).combatPersonType||n.hpCurrent>0){this.operationPersonIndex=e,this.operationPerson=n;break}}this.operationPerson?(this.operationPerson.setChoose(!0),this.operationPanel.node.active=!0,this.operationPanel.load(this.selfPersonLayout,this.operationPerson.personInfo),this.backOperationButton.node.active=!0):(this.backOperationButton.node.active=!1,this.autoOperationButton.node.active=!1,this.unschedule(this.timerCallback),this.unschedule(this.autoOperationCallback),this.timerLabel.string="\u7b49\u5f85\u654c\u4eba\u64cd\u4f5c...",this.boutPanelNode.active=!1,cc.log("\u544a\u8bc9\u670d\u52a1\u5668\u6211\u7684\u64cd\u4f5c\uff01\uff01\uff01"),cc.log(this.operationList),network.createCombatBout(this.combat.combatId,this.boutLabel.boutCount,this.operationList,this.timer),application.setCombatOperationList(this.operationList))}},combatCreate:function(){this.combat=this.getLaunchData(),null!=this.combat&&(this.selfTeamNameLabel.string=this.combat.selfTeamName,this.foeTeamNameLabel.string=this.combat.foeTeamName,this.combatMap.draw=this.combat.regionDetailDraw,this.combatMap.drawColor=this.combat.regionDetailDrawColor,this.operationPanel.node.active=!1,this.autoOperationButton.node.active=!1,this.personInfoPanel.node.active=!1,this.skillOperationPanel.node.active=!1,this.backOperationButton.node.active=!1,this.boutPanelNode.active=!1,this.timerPanelNode.active=!1,"\u5237\u602a"!=this.combat.combatType&&application.setCombatIsAutoOperation(!1),network.combatReady(this.combat.combatId))},combatReady:function(t){this.initSelfTeam(t.selfPersonInfoList),this.initFoeTeam(t.foePersonInfoList),1==t.status?(this.unschedule(this.timerCallback),this.unschedule(this.autoOperationCallback),this.timerPanelNode.active=!0,this.timerLabel.string="\u7b49\u5f85\u654c\u4eba\u64cd\u4f5c..."):this.boutStart(t.currentCombatBoutNum),this.autoCombatCount=1},boutStart:function(t){this.operationList=new Array,this.operationPersonIndex=0,this.operationPerson=this.selfPersonLayout.node.children[this.operationPersonIndex].getComponent(s),this.operationPerson.setChoose(!0),this.operationPanel.node.active=!0,this.autoOperationButton.node.active=!0,this.operationPanel.load(this.selfPersonLayout,this.operationPerson.personInfo),this.operationType="",this.boutPanelNode.active=!0,this.boutLabel.boutCount=t,this.boutLabel.string="\u7b2c"+t+"\u56de\u5408",this.timerPanelNode.active=!0,this.timer=60,this.timerLabel.string=this.operationPerson.personName+"\uff08"+this.timer+"\uff09",this.timerCallback=function(){this.timer--,this.timerLabel.string=this.operationPerson.personName+"\uff08"+this.timer+"\uff09",0==this.timer&&this.autoCombat()},this.schedule(this.timerCallback,1,59,0),this.isAutoOperation=application.getCombatIsAutoOperation(),this.isAutoOperation?(this.autoOperationLabel.autoCount=3,this.autoOperationLabel.string="\u5173\u95ed(3)",this.autoOperationCallback=function(){this.autoOperationLabel.autoCount--,this.autoOperationLabel.autoCount>0?this.autoOperationLabel.string="\u5173\u95ed("+this.autoOperationLabel.autoCount+")":(this.autoOperationLabel.string="\u5173\u95ed",this.autoCombat())},this.schedule(this.autoOperationCallback,1)):this.autoOperationLabel.string="\u81ea\u52a8"},onAttackClickCallback:function(t){this.isAutoOperation=application.getCombatIsAutoOperation(),this.isAutoOperation&&(application.setCombatIsAutoOperation(!1),this.autoOperationLabel.string="\u81ea\u52a8",this.unschedule(this.autoOperationCallback)),this.selectOperationTargetFoePerson("\u666e\u901a\u653b\u51fb")},onSkillClickCallback:function(t){this.isAutoOperation=application.getCombatIsAutoOperation(),this.isAutoOperation&&(application.setCombatIsAutoOperation(!1),this.autoOperationLabel.string="\u81ea\u52a8",this.unschedule(this.autoOperationCallback)),this.operationPanel.node.active=!1,this.operationType="\u6280\u80fd\u9009\u62e9",this.backOperationButton.node.active=!0,this.skillOperationPanel.node.active=!0,this.skillOperationPanel.load(this.operationPerson.skillInfoList,function(t){this.skillOperationPanel.node.active=!1,"\u91d1\u7985\u8131\u58f3"==t.skillName||"\u51cc\u6ce2\u5fae\u6b65"==t.skillName||"\u6c14\u51b2\u6597\u725b"==t.skillName||"\u56fa\u82e5\u91d1\u6c64"==t.skillName||"\u5999\u624b\u56de\u6625"==t.skillName?this.selectOperationTargetSelfPerson("\u6280\u80fd,"+t.combatSkillId+","+t.skillName):this.selectOperationTargetFoePerson("\u6280\u80fd,"+t.combatSkillId+","+t.skillName)}.bind(this))},onDefenseClickCallback:function(t){this.isAutoOperation=application.getCombatIsAutoOperation(),this.isAutoOperation&&(application.setCombatIsAutoOperation(!1),this.autoOperationLabel.string="\u81ea\u52a8",this.unschedule(this.autoOperationCallback)),this.operationPanel.node.active=!1,this.operationType="";var i={tag:this.operationPerson.type+","+this.operationPerson.idOfType,combatPersonId:this.operationPerson.combatPersonId,targetCombatPersonId:this.operationPerson.combatPersonId,operationType:"\u9632\u5fa1"};this.operationList.push(i),this.personInfoPanel.node.active=!1,this.operationPerson.setChoose(!1),this.operationPersonIndex++,this.operationPerson=null;for(var o=this.operationPersonIndex;o<this.selfPersonLayout.node.childrenCount;o++){var e=this.selfPersonLayout.node.children[o].getComponent(s);if("player"==e.combatPersonType||e.hpCurrent>0){this.operationPersonIndex=o,this.operationPerson=e;break}}this.operationPerson?(this.operationPerson.setChoose(!0),this.operationPanel.node.active=!0,this.operationPanel.load(this.selfPersonLayout,this.operationPerson.personInfo),this.backOperationButton.node.active=!0):(this.backOperationButton.node.active=!1,this.autoOperationButton.node.active=!1,this.unschedule(this.timerCallback),this.unschedule(this.autoOperationCallback),this.timerLabel.string="\u7b49\u5f85\u654c\u4eba\u64cd\u4f5c...",this.boutPanelNode.active=!1,cc.log("\u544a\u8bc9\u670d\u52a1\u5668\u6211\u7684\u64cd\u4f5c\uff01\uff01\uff01"),cc.log(this.operationList),network.createCombatBout(this.combat.combatId,this.boutLabel.boutCount,this.operationList,this.timer),application.setCombatOperationList(this.operationList))},onGoodsClickCallback:function(t){this.isAutoOperation=application.getCombatIsAutoOperation(),this.isAutoOperation&&(application.setCombatIsAutoOperation(!1),this.autoOperationLabel.string="\u81ea\u52a8",this.unschedule(this.autoOperationCallback)),this.launchFragment("CombatDrugChoose")},onAddHelpClickCallback:function(t){this.isAutoOperation=application.getCombatIsAutoOperation(),this.isAutoOperation&&(application.setCombatIsAutoOperation(!1),this.autoOperationLabel.string="\u81ea\u52a8",this.unschedule(this.autoOperationCallback));var i=this.findPersonMy();if(i){cc.log(i);var o={combatId:this.combat.combatId,teamOf:i.teamOf};cc.log(o),this.launchFragment("CombatAdjutantChoose",o)}},onFleeClickCallback:function(t){this.isAutoOperation=application.getCombatIsAutoOperation(),this.isAutoOperation&&(application.setCombatIsAutoOperation(!1),this.autoOperationLabel.string="\u81ea\u52a8",this.unschedule(this.autoOperationCallback)),this.operationPanel.node.active=!1,this.operationType="";var i={tag:this.operationPerson.type+","+this.operationPerson.idOfType,combatPersonId:this.operationPerson.combatPersonId,targetCombatPersonId:this.operationPerson.combatPersonId,operationType:"\u9003\u8dd1"};this.operationList.push(i),this.personInfoPanel.node.active=!1,this.operationPerson.setChoose(!1),this.operationPersonIndex++,this.operationPerson=null;for(var o=this.operationPersonIndex;o<this.selfPersonLayout.node.childrenCount;o++){var e=this.selfPersonLayout.node.children[o].getComponent(s);if("player"==e.combatPersonType||e.hpCurrent>0){this.operationPersonIndex=o,this.operationPerson=e;break}}this.operationPerson?(this.operationPerson.setChoose(!0),this.operationPanel.node.active=!0,this.operationPanel.load(this.selfPersonLayout,this.operationPerson.personInfo),this.backOperationButton.node.active=!0):(this.backOperationButton.node.active=!1,this.autoOperationButton.node.active=!1,this.unschedule(this.timerCallback),this.unschedule(this.autoOperationCallback),this.timerLabel.string="\u7b49\u5f85\u654c\u4eba\u64cd\u4f5c...",this.boutPanelNode.active=!1,cc.log("\u544a\u8bc9\u670d\u52a1\u5668\u6211\u7684\u64cd\u4f5c\uff01\uff01\uff01"),cc.log(this.operationList),network.createCombatBout(this.combat.combatId,this.boutLabel.boutCount,this.operationList,this.timer),application.setCombatOperationList(this.operationList))},selectOperationTargetFoePerson:function(t){this.operationType=t,this.operationPanel.node.active=!1,this.backOperationButton.node.active=!0,this.operationPerson.setChoose(!1);for(var i=0;i<this.foePersonLayout.node.childrenCount;i++){var o=this.foePersonLayout.node.children[i];o.personComp=o.getComponent(s),("player"==o.personComp.combatPersonType||o.personComp.hpCurrent>0)&&(null==this.operationTargetPerson&&(this.operationTargetPerson=o.personComp,this.operationTargetPerson.setChoose(!0)),o.personComp.setOnClickCallback(function(t){if(t.isChoose){this.backOperationButton.node.active=!1;for(var i=0;i<this.foePersonLayout.node.childrenCount;i++){var o=this.foePersonLayout.node.children[i];o.personComp=o.getComponent(s),o.personComp.setOnClickCallback(null)}var e={tag:this.operationPerson.type+","+this.operationPerson.idOfType,combatPersonId:this.operationPerson.combatPersonId,targetCombatPersonId:t.combatPersonId,operationType:this.operationType};this.operationList.push(e),this.operationTargetPerson.setChoose(!1),this.operationTargetPerson=null,this.operationType="",this.personInfoPanel.node.active=!1,this.operationPersonIndex++,this.operationPerson=null;for(i=this.operationPersonIndex;i<this.selfPersonLayout.node.childrenCount;i++){var a=this.selfPersonLayout.node.children[i].getComponent(s);if("player"==a.combatPersonType||a.hpCurrent>0){this.operationPersonIndex=i,this.operationPerson=a;break}}this.operationPerson?(this.operationPerson.setChoose(!0),this.operationPanel.node.active=!0,this.operationPanel.load(this.selfPersonLayout,this.operationPerson.personInfo),this.backOperationButton.node.active=!0):(this.autoOperationButton.node.active=!1,this.unschedule(this.timerCallback),this.unschedule(this.autoOperationCallback),this.timerLabel.string="\u7b49\u5f85\u654c\u4eba\u64cd\u4f5c...",this.boutPanelNode.active=!1,cc.log("\u544a\u8bc9\u670d\u52a1\u5668\u6211\u7684\u64cd\u4f5c\uff01\uff01\uff01"),cc.log(this.operationList),network.createCombatBout(this.combat.combatId,this.boutLabel.boutCount,this.operationList,this.timer),application.setCombatOperationList(this.operationList))}else this.operationTargetPerson.setChoose(!1),this.operationTargetPerson=t,this.operationTargetPerson.setChoose(!0),this.personInfoPanel.load(this.operationType,this.operationTargetPerson.personInfo)}.bind(this)))}this.personInfoPanel.node.active=!0,this.personInfoPanel.load(this.operationType,this.operationTargetPerson.personInfo)},selectOperationTargetSelfPerson:function(t){this.operationType=t,this.operationPanel.node.active=!1,this.backOperationButton.node.active=!0,this.operationPerson.setChoose(!1);for(var i=0;i<this.selfPersonLayout.node.childrenCount;i++){var o=this.selfPersonLayout.node.children[i];o.personComp=o.getComponent(s),("player"==o.personComp.combatPersonType||o.personComp.hpCurrent>0)&&(null==this.operationTargetPerson&&(this.operationTargetPerson=o.personComp,this.operationTargetPerson.setChoose(!0)),o.personComp.setOnClickCallback(function(t){if(t.isChoose){this.backOperationButton.node.active=!1;for(var i=0;i<this.selfPersonLayout.node.childrenCount;i++){var o=this.selfPersonLayout.node.children[i];o.personComp=o.getComponent(s),o.personComp.setOnClickCallback(null)}var e={tag:this.operationPerson.type+","+this.operationPerson.idOfType,combatPersonId:this.operationPerson.combatPersonId,targetCombatPersonId:t.combatPersonId,operationType:this.operationType};this.operationList.push(e),this.operationTargetPerson.setChoose(!1),this.operationTargetPerson=null,this.operationType="",this.personInfoPanel.node.active=!1,this.operationPersonIndex++,this.operationPerson=null;for(var a=this.operationPersonIndex;a<this.selfPersonLayout.node.childrenCount;a++){var n=this.selfPersonLayout.node.children[a].getComponent(s);if("player"==n.combatPersonType||n.hpCurrent>0){this.operationPersonIndex=a,this.operationPerson=n;break}}this.operationPerson?(this.operationPerson.setChoose(!0),this.operationPanel.node.active=!0,this.operationPanel.load(this.selfPersonLayout,this.operationPerson.personInfo),this.backOperationButton.node.active=!0):(this.autoOperationButton.node.active=!1,this.unschedule(this.timerCallback),this.unschedule(this.autoOperationCallback),this.timerLabel.string="\u7b49\u5f85\u654c\u4eba\u64cd\u4f5c...",this.boutPanelNode.active=!1,cc.log("\u544a\u8bc9\u670d\u52a1\u5668\u6211\u7684\u64cd\u4f5c\uff01\uff01\uff01"),cc.log(this.operationList),network.createCombatBout(this.combat.combatId,this.boutLabel.boutCount,this.operationList,this.timer),application.setCombatOperationList(this.operationList))}else this.operationTargetPerson.setChoose(!1),this.operationTargetPerson=t,this.operationTargetPerson.setChoose(!0),this.personInfoPanel.load(this.operationType,this.operationTargetPerson.personInfo)}.bind(this)))}this.personInfoPanel.node.active=!0,this.personInfoPanel.load(this.operationType,this.operationTargetPerson.personInfo)},onBackOperationClickCallback:function(t){if("\u666e\u901a\u653b\u51fb"==this.operationType||-1!=this.operationType.indexOf("\u6280\u80fd,")||-1!=this.operationType.indexOf("\u7269\u54c1,")){this.backOperationButton.node.active=!1;for(var i=0;i<this.selfPersonLayout.node.childrenCount;i++){(o=this.selfPersonLayout.node.children[i]).personComp=o.getComponent(s),o.personComp.setOnClickCallback(null)}for(i=0;i<this.foePersonLayout.node.childrenCount;i++){var o;(o=this.foePersonLayout.node.children[i]).personComp=o.getComponent(s),o.personComp.setOnClickCallback(null)}this.operationTargetPerson.setChoose(!1),this.operationTargetPerson=null,this.operationType="",this.personInfoPanel.node.active=!1,this.operationPerson.setChoose(!0),this.operationPanel.node.active=!0,this.operationPersonIndex>0&&(this.backOperationButton.node.active=!0)}else if("\u6280\u80fd\u9009\u62e9"==this.operationType)this.backOperationButton.node.active=!1,this.skillOperationPanel.node.active=!1,this.operationPanel.node.active=!0,this.operationType="",this.operationPersonIndex>0&&(this.backOperationButton.node.active=!0);else if(""==this.operationType&&this.operationPersonIndex>0){this.operationPerson.setChoose(!1);var e=this.operationList.pop();for(i=0;i<this.selfPersonLayout.node.childrenCount;i++){var a=this.selfPersonLayout.node.children[i].getComponent(s);if(e.combatPersonId==a.combatPersonId){this.operationPersonIndex=i;break}}0==this.operationPersonIndex&&(this.backOperationButton.node.active=!1),this.operationPerson=this.selfPersonLayout.node.children[this.operationPersonIndex].getComponent(s),this.operationPerson.setChoose(!0),this.operationPanel.node.active=!0,this.operationPanel.load(this.selfPersonLayout,this.operationPerson.personInfo)}},playCombatBout:function(t,i){if(t.length>0){var o,e=t[i];if("\u666e\u901a\u653b\u51fb"!=e.actionType&&"\u8fde\u51fb\u653b\u51fb"!=e.actionType&&"\u53cd\u51fb\u653b\u51fb"!=e.actionType&&"\u53cd\u9707\u653b\u51fb"!=e.actionType||this.playNormalAttack(e,t,i),"\u66b4\u51fb\u653b\u51fb"!=e.actionType&&"\u81f4\u547d\u653b\u51fb"!=e.actionType||this.playNormalAttackSpecial(e,t,i),"\u5168\u529b\u4e00\u51fb"==e.actionType&&this.playSkillSmyj(e,t,i),"\u529b\u5288\u534e\u5c71"==e.actionType&&this.playSkillLphs(e,t,i),"\u4e94\u96f7\u8f70\u9876"!=e.actionType&&"\u4e94\u96f7\u8f70\u9876(\u66b4)"!=e.actionType||this.playSkillWlhd(e,t,i),"\u4e58\u98ce\u7834\u6d6a"!=e.actionType&&"\u4e58\u98ce\u7834\u6d6a(\u66b4)"!=e.actionType||this.playSkillHfhy(e,t,i),"\u5996\u706b\u71ce\u539f"!=e.actionType&&"\u5996\u706b\u71ce\u539f(\u66b4)"!=e.actionType||this.playSkillYhly(e,t,i),"\u5deb\u86ca\u6781\u6bd2"==e.actionType&&this.playSkillWgjd(e,t,i),"\u6bd2\u53d1\u4f5c"==e.actionType&&this.playSkillWgjdFa(e,t,i),"\u6392\u5c71\u5012\u6d77"==e.actionType&&this.playSkillPsdh(e,t,i),"\u753b\u5730\u4e3a\u7262"==e.actionType&&this.playSkillHdwl(e,t,i),"\u56db\u9762\u695a\u6b4c"==e.actionType&&this.playSkillSmcg(e,t,i),"\u8d81\u706b\u6253\u52ab"==e.actionType&&this.playSkillChdj(e,t,i),"\u91d1\u7985\u8131\u58f3"==e.actionType&&this.playSkillJctq(e,t,i),"\u51cc\u6ce2\u5fae\u6b65"==e.actionType&&this.playSkillLbwb(e,t,i),"\u5999\u624b\u56de\u6625"==e.actionType&&this.playSkillMshc(e,t,i),"\u6c14\u51b2\u6597\u725b"==e.actionType&&this.playSkillQcdn(e,t,i),"\u56fa\u82e5\u91d1\u6c64"==e.actionType&&this.playSkillGrjt(e,t,i),"\u4f7f\u7528\u836f\u54c1"==e.actionType&&this.playUseDrug(e,t,i),"\u9003\u8dd1\u5931\u8d25"==e.actionType)this.boutPanelNode.active=!0,null!=(o=this.findPerson(e.actionCombatPersonId))&&(this.isSelfTeam(o)?this.boutLabel.string="\u9003\u8dd1\u5931\u8d25":this.boutLabel.string="\u5bf9\u65b9\u9003\u8dd1\u5931\u8d25"),this.scheduleOnce(function(){this.boutPanelNode.active=!1,this.scheduleOnce(function(){++i<t.length?this.playCombatBout(t,i):this.isCombatOver||network.getCombatResult(this.combat.combatId,this.combat.teamOf)},.5)},1);if("\u4f7f\u7528\u6280\u80fd\u7cbe\u529b\u4e0d\u591f"==e.actionType)this.boutPanelNode.active=!0,null!=(o=this.findPerson(e.actionCombatPersonId))&&(this.boutLabel.string=o.personName+e.actionType),this.scheduleOnce(function(){this.boutPanelNode.active=!1,this.scheduleOnce(function(){++i<t.length?this.playCombatBout(t,i):this.isCombatOver||network.getCombatResult(this.combat.combatId,this.combat.teamOf)},.5)},1);if("\u62db\u5c06"==e.actionType)this.boutPanelNode.active=!0,this.selfPersonLayout.enabled=!0,this.foePersonLayout.enabled=!0,null!=(o=this.findPerson(e.actionCombatPersonId))&&(this.boutLabel.string=o.personName+e.actionType,this.isSelfTeam(o)?this.initSelfTeam(e.effectList):this.initFoeTeam(e.effectList)),this.scheduleOnce(function(){this.boutPanelNode.active=!1,this.selfPersonLayout.enabled=!1,this.foePersonLayout.enabled=!1,this.scheduleOnce(function(){++i<t.length?this.playCombatBout(t,i):this.isCombatOver||network.getCombatResult(this.combat.combatId,this.combat.teamOf)},.5)},1);"\u9003\u8dd1\u6210\u529f"==e.actionType&&(this.isCombatOver||network.getCombatResult(this.combat.combatId,this.combat.teamOf))}else this.isCombatOver||network.getCombatResult(this.combat.combatId,this.combat.teamOf)},playNormalAttack:function(t,i,o){var e=this.findPerson(t.actionCombatPersonId),a=this.findPerson(t.targetCombatPersonId);if(null!=e&&null!=a){this.boutPanelNode.active=!0,this.boutLabel.string=e.personName+t.actionType,this.isSelfTeam(e)?(this.foeTeamLayout.node.zIndex=0,this.selfTeamLayout.node.zIndex=1):(this.foeTeamLayout.node.zIndex=1,this.selfTeamLayout.node.zIndex=0);var n=e.node.x,s=e.node.y;e.playCj();var l=a.node.parent.convertToWorldSpaceAR(cc.v2(a.node.x,a.node.y)),h=e.node.parent.convertToNodeSpaceAR(l);e.playMove(.3,h.x-100,h.y,function(){e.playGj(function(){e.playCj(),e.playMove(.3,n,s,function(){e.playDj(),this.boutPanelNode.active=!1,this.scheduleOnce(function(){++o<i.length?this.playCombatBout(i,o):(this.selfPersonLayout.enabled=!0,this.foePersonLayout.enabled=!0,this.isCombatOver||network.getCombatResult(this.combat.combatId,this.combat.teamOf))},.5)}.bind(this))}.bind(this));for(var a=0;a<t.effectList.length;a++){var l=t.effectList[a],h=this.findPersonInfo(l.combatPersonId);h.hpCurrent=l.hpCurrent,h.mpCurrent=l.mpCurrent,h.conditionList=l.conditionList;var d=this.findPerson(l.combatPersonId);d.setHpBar(d.hpLimit,l.hpCurrent),d.setMpBar(d.mpLimit,l.mpCurrent),d.setConditionList(l.conditionList),"\u51cfHP"==l.type&&(d.playHint1(l.effectOfType),d.playHit(),d.playAd(function(t){0==t.hpCurrent?t.playSw():t.playDj()}.bind(this))),"\u672a\u4e2d"==l.type&&d.playMiss()}}.bind(this))}},playNormalAttackSpecial:function(t,i,o){var e=this.findPerson(t.actionCombatPersonId),a=this.findPerson(t.targetCombatPersonId);if(null!=e&&null!=a){this.boutPanelNode.active=!0,this.boutLabel.string=e.personName+t.actionType,this.isSelfTeam(e)?(this.foeTeamLayout.node.zIndex=0,this.selfTeamLayout.node.zIndex=1):(this.foeTeamLayout.node.zIndex=1,this.selfTeamLayout.node.zIndex=0);var n=e.node.x,s=e.node.y;e.playCj();var l=a.node.parent.convertToWorldSpaceAR(cc.v2(a.node.x,a.node.y)),h=e.node.parent.convertToNodeSpaceAR(l);e.playMove(.3,h.x-100,h.y,function(){this.combatMap.node.active=!1,e.playGj(function(){this.combatMap.node.active=!0,e.playCj(),e.playMove(.3,n,s,function(){e.playDj(),this.boutPanelNode.active=!1,this.scheduleOnce(function(){++o<i.length?this.playCombatBout(i,o):(this.selfPersonLayout.enabled=!0,this.foePersonLayout.enabled=!0,this.isCombatOver||network.getCombatResult(this.combat.combatId,this.combat.teamOf))},.5)}.bind(this))}.bind(this));for(var a=0;a<t.effectList.length;a++){var l=t.effectList[a],h=this.findPersonInfo(l.combatPersonId);h.hpCurrent=l.hpCurrent,h.mpCurrent=l.mpCurrent,h.conditionList=l.conditionList;var d=this.findPerson(l.combatPersonId);d.setHpBar(d.hpLimit,l.hpCurrent),d.setMpBar(d.mpLimit,l.mpCurrent),d.setConditionList(l.conditionList),"\u51cfHP"==l.type&&(d.playHint1(l.effectOfType),d.playHit(),d.playAd(function(t){0==t.hpCurrent?t.playSw():t.playDj()}.bind(this))),"\u672a\u4e2d"==l.type&&d.playMiss()}}.bind(this))}},playUseDrug:function(t,i,o){var e=this.findPerson(t.actionCombatPersonId),a=this.findPerson(t.targetCombatPersonId);if(null!=e&&null!=a){this.boutPanelNode.active=!0,this.boutLabel.string=e.personName+t.actionType;for(var n=0;n<t.effectList.length;n++){var s=t.effectList[n],l=this.findPersonInfo(s.combatPersonId);l.hpCurrent=s.hpCurrent,l.mpCurrent=s.mpCurrent,l.conditionList=s.conditionList;var h=this.findPerson(s.combatPersonId);h.setHpBar(h.hpLimit,s.hpCurrent),h.setMpBar(h.mpLimit,s.mpCurrent),h.setConditionList(s.conditionList),h.effect=s,h.playConditionHit(!0,function(t){"\u52a0HP"==t.effect.type?h.playHint2(t.effect.effectOfType):h.playHint3(t.effect.effectOfType),0!=t.hpCurrent&&t.playDj(),a.combatPersonId==t.combatPersonId&&(this.boutPanelNode.active=!1,this.scheduleOnce(function(){++o<i.length?this.playCombatBout(i,o):(this.selfPersonLayout.enabled=!0,this.foePersonLayout.enabled=!0,this.isCombatOver||network.getCombatResult(this.combat.combatId,this.combat.teamOf))},.5))}.bind(this))}}},playSkillSmyj:function(t,i,o){var e=this.findPerson(t.actionCombatPersonId),a=this.findPerson(t.targetCombatPersonId);if(null!=e&&null!=a){this.boutPanelNode.active=!0,this.boutLabel.string=e.personName+"\u4f7f\u7528\u6280\u80fd"+t.actionType;var n=0;this.isSelfTeam(e)?(this.foePersonLayout.node.zIndex=0,this.selfTeamLayout.node.zIndex=1,n=-100):(this.foePersonLayout.node.zIndex=1,this.selfTeamLayout.node.zIndex=0,n=100);var s=e.node.x,l=e.node.y;this.combatMap.node.active=!1,this.visualPanel.playMove(.2,n,0,function(){e.playJn(function(){this.visualPanel.playMove(.4,-n,0,function(){a.playXlyjHit(function(){for(var a=0;a<t.effectList.length;a++){var n=t.effectList[a],h=this.findPersonInfo(n.combatPersonId);h.hpCurrent=n.hpCurrent,h.mpCurrent=n.mpCurrent,h.conditionList=n.conditionList;var d=this.findPerson(n.combatPersonId);d.setHpBar(d.hpLimit,n.hpCurrent),d.setMpBar(d.mpLimit,n.mpCurrent),d.setConditionList(n.conditionList),"\u51cfHP"==n.type&&(d.playHint1(n.effectOfType),d.playHit(),d.playAd(function(t){0==t.hpCurrent?t.playSw():t.playDj()}.bind(this)))}e.node.setPosition(s,l),e.playDj(),this.visualPanel.playMove(.2,0,0,function(){this.combatMap.node.active=!0,this.boutPanelNode.active=!1,this.scheduleOnce(function(){++o<i.length?this.playCombatBout(i,o):(this.selfPersonLayout.enabled=!0,this.foePersonLayout.enabled=!0,this.isCombatOver||network.getCombatResult(this.combat.combatId,this.combat.teamOf))},.5)}.bind(this))}.bind(this));var n=a.node.parent.convertToWorldSpaceAR(cc.v2(a.node.x,a.node.y)),h=e.node.parent.convertToNodeSpaceAR(n);e.playGj(),e.node.setPosition(h.x+200,h.y)}.bind(this))}.bind(this))}.bind(this))}},playSkillLphs:function(t,i,o){var e=this.findPerson(t.actionCombatPersonId),a=this.findPerson(t.targetCombatPersonId);if(null!=e&&null!=a){this.boutPanelNode.active=!0,this.boutLabel.string=e.personName+"\u4f7f\u7528\u6280\u80fd"+t.actionType;var n=0;this.isSelfTeam(e)?(this.foePersonLayout.node.zIndex=0,this.selfTeamLayout.node.zIndex=1,n=-100):(this.foePersonLayout.node.zIndex=1,this.selfTeamLayout.node.zIndex=0,n=100);var s=e.node.x,l=e.node.y;this.combatMap.node.active=!1,this.visualPanel.playMove(.2,n,0,function(){e.playJn(function(){this.visualPanel.playMove(.4,-n,0,function(){a.playLphsHit(function(){for(var a=0;a<t.effectList.length;a++){var n=t.effectList[a],h=this.findPersonInfo(n.combatPersonId);h.hpCurrent=n.hpCurrent,h.mpCurrent=n.mpCurrent,h.conditionList=n.conditionList;var d=this.findPerson(n.combatPersonId);if(d.setHpBar(d.hpLimit,n.hpCurrent),d.setMpBar(d.mpLimit,n.mpCurrent),d.setConditionList(n.conditionList),"\u51cfHP,\u51cfMP"==n.type){var c=n.effectOfType.split(",")[0];d.playHint1(c),d.playHit(),d.playAd(function(t){0==t.hpCurrent?t.playSw():t.playDj()}.bind(this))}}e.node.setPosition(s,l),e.playDj(),this.visualPanel.playMove(.2,0,0,function(){this.combatMap.node.active=!0,this.boutPanelNode.active=!1,this.scheduleOnce(function(){++o<i.length?this.playCombatBout(i,o):(this.selfPersonLayout.enabled=!0,this.foePersonLayout.enabled=!0,this.isCombatOver||network.getCombatResult(this.combat.combatId,this.combat.teamOf))},.5)}.bind(this))}.bind(this));var n=a.node.parent.convertToWorldSpaceAR(cc.v2(a.node.x,a.node.y)),h=e.node.parent.convertToNodeSpaceAR(n);e.playGj(),e.node.setPosition(h.x-100,h.y)}.bind(this))}.bind(this))}.bind(this))}},playSkillWlhd:function(t,i,o){var e=this.findPerson(t.actionCombatPersonId),a=this.findPerson(t.targetCombatPersonId);if(null!=e&&null!=a){this.boutPanelNode.active=!0,this.boutLabel.string=e.personName+"\u4f7f\u7528\u6280\u80fd"+t.actionType;var n=0;this.isSelfTeam(e)?(this.foeTeamLayout.node.zIndex=0,this.selfTeamLayout.node.zIndex=1,n=-100):(this.foeTeamLayout.node.zIndex=1,this.selfTeamLayout.node.zIndex=0,n=100);var s=e.node.x,l=e.node.y;this.combatMap.node.active=!1,this.visualPanel.playMove(.2,n,0,function(){e.playJn(function(){this.visualPanel.playMove(.4,-n,0,function(){a.playWlhdHit(function(){for(var a=0;a<t.effectList.length;a++){var n=t.effectList[a],h=this.findPersonInfo(n.combatPersonId);h.hpCurrent=n.hpCurrent,h.mpCurrent=n.mpCurrent,h.conditionList=n.conditionList;var d=this.findPerson(n.combatPersonId);d.setHpBar(d.hpLimit,n.hpCurrent),d.setMpBar(d.mpLimit,n.mpCurrent),d.setConditionList(n.conditionList),"\u51cfHP"==n.type&&(d.playHint1(n.effectOfType),d.playHit(),d.playAd(function(t){0==t.hpCurrent?t.playSw():t.playDj()}.bind(this)))}e.node.setPosition(s,l),e.playDj(),this.visualPanel.playMove(.2,0,0,function(){this.combatMap.node.active=!0,this.boutPanelNode.active=!1,this.scheduleOnce(function(){++o<i.length?this.playCombatBout(i,o):(this.selfPersonLayout.enabled=!0,this.foePersonLayout.enabled=!0,this.isCombatOver||network.getCombatResult(this.combat.combatId,this.combat.teamOf))},.5)}.bind(this))}.bind(this))}.bind(this))}.bind(this))}.bind(this))}},playSkillHfhy:function(t,i,o){var e=this.findPerson(t.actionCombatPersonId),a=this.findPerson(t.targetCombatPersonId);if(null!=e&&null!=a){this.boutPanelNode.active=!0,this.boutLabel.string=e.personName+"\u4f7f\u7528\u6280\u80fd"+t.actionType;var n=0;this.isSelfTeam(e)?(this.foeTeamLayout.node.zIndex=0,this.selfTeamLayout.node.zIndex=1,this.skillHfhy.node.scaleX=1,n=-100):(this.foeTeamLayout.node.zIndex=1,this.selfTeamLayout.node.zIndex=0,this.skillHfhy.node.scaleX=-1,n=100),this.combatMap.node.active=!1,this.visualPanel.playMove(.2,n,0,function(){e.playJn(function(){this.visualPanel.playMove(.4,-n,0,function(){this.skillHfhy.node.x=0,this.skillHfhy.play(function(){this.skillHfhy.node.x=2e3;for(var a=0;a<t.effectList.length;a++){var n=t.effectList[a],s=this.findPersonInfo(n.combatPersonId);s.hpCurrent=n.hpCurrent,s.mpCurrent=n.mpCurrent,s.conditionList=n.conditionList;var l=this.findPerson(n.combatPersonId);l.setHpBar(l.hpLimit,n.hpCurrent),l.setMpBar(l.mpLimit,n.mpCurrent),l.setConditionList(n.conditionList),"\u51cfHP"==n.type&&(l.playHint1(n.effectOfType),l.playHit(),l.playAd(function(t){0==t.hpCurrent?t.playSw():t.playDj()}.bind(this)))}e.playDj(),this.visualPanel.playMove(.2,0,0,function(){this.combatMap.node.active=!0,this.boutPanelNode.active=!1,this.scheduleOnce(function(){++o<i.length?this.playCombatBout(i,o):(this.selfPersonLayout.enabled=!0,this.foePersonLayout.enabled=!0,this.isCombatOver||network.getCombatResult(this.combat.combatId,this.combat.teamOf))},.5)}.bind(this))}.bind(this))}.bind(this))}.bind(this))}.bind(this))}},playSkillWgjd:function(t,i,o){var e=this.findPerson(t.actionCombatPersonId),a=this.findPerson(t.targetCombatPersonId);if(null!=e&&null!=a){this.boutPanelNode.active=!0,this.boutLabel.string=e.personName+"\u4f7f\u7528\u6280\u80fd"+t.actionType;var n=0;this.isSelfTeam(e)?(this.foeTeamLayout.node.zIndex=0,this.selfTeamLayout.node.zIndex=1,this.skillWgjd.node.scaleX=1,n=-100):(this.foeTeamLayout.node.zIndex=1,this.selfTeamLayout.node.zIndex=0,this.skillWgjd.node.scaleX=-1,n=100),this.combatMap.node.active=!1,this.visualPanel.playMove(.2,n,0,function(){e.playJn(function(){this.visualPanel.playMove(.4,-n,0,function(){this.skillWgjd.node.x=0,this.skillWgjd.play(function(){this.skillWgjd.node.x=4e3;for(var a=0;a<t.effectList.length;a++){var n=t.effectList[a],s=this.findPersonInfo(n.combatPersonId);s.hpCurrent=n.hpCurrent,s.mpCurrent=n.mpCurrent,s.conditionList=n.conditionList;var l=this.findPerson(n.combatPersonId);l.setHpBar(l.hpLimit,n.hpCurrent),l.setMpBar(l.mpLimit,n.mpCurrent),l.setConditionList(n.conditionList),"\u6bd2"==n.type&&(l.playHint1(n.effectOfType),l.playHit(),l.playAd(function(t){0==t.hpCurrent?t.playSw():t.playDj()}.bind(this)))}e.playDj(),this.visualPanel.playMove(.2,0,0,function(){this.combatMap.node.active=!0,this.boutPanelNode.active=!1,this.scheduleOnce(function(){++o<i.length?this.playCombatBout(i,o):(this.selfPersonLayout.enabled=!0,this.foePersonLayout.enabled=!0,this.isCombatOver||network.getCombatResult(this.combat.combatId,this.combat.teamOf))},.5)}.bind(this))}.bind(this))}.bind(this))}.bind(this))}.bind(this))}},playSkillWgjdFa:function(t,i,o){this.boutPanelNode.active=!0,this.boutLabel.string=t.actionType,this.scheduleOnce(function(){this.boutPanelNode.active=!1;for(var i=0;i<t.effectList.length;i++){var o=t.effectList[i],e=this.findPersonInfo(o.combatPersonId);e.hpCurrent=o.hpCurrent,e.mpCurrent=o.mpCurrent,e.conditionList=o.conditionList;var a=this.findPerson(o.combatPersonId);a.setHpBar(a.hpLimit,o.hpCurrent),a.setMpBar(a.mpLimit,o.mpCurrent),a.setConditionList(o.conditionList),"\u51cfHP"==o.type&&(a.playHint1(o.effectOfType),a.playHit(),a.playAd(function(t){0==t.hpCurrent?t.playSw():t.playDj()}.bind(this)))}},.5),this.scheduleOnce(function(){++o<i.length?this.playCombatBout(i,o):(this.selfPersonLayout.enabled=!0,this.foePersonLayout.enabled=!0,this.isCombatOver||network.getCombatResult(this.combat.combatId,this.combat.teamOf))},1)},playSkillYhly:function(t,i,o){var e=this.findPerson(t.actionCombatPersonId),a=this.findPerson(t.targetCombatPersonId);if(null!=e&&null!=a){this.boutPanelNode.active=!0,this.boutLabel.string=e.personName+"\u4f7f\u7528\u6280\u80fd"+t.actionType;var n=0;this.isSelfTeam(e)?(this.foeTeamLayout.node.zIndex=0,this.selfTeamLayout.node.zIndex=1,this.skillYhly.node.scaleX=1,n=-100):(this.foeTeamLayout.node.zIndex=1,this.selfTeamLayout.node.zIndex=0,this.skillYhly.node.scaleX=-1,n=100),this.combatMap.node.active=!1,this.visualPanel.playMove(.2,n,0,function(){e.playJn(function(){this.visualPanel.playMove(.4,-n,0,function(){this.skillYhly.node.x=0,this.skillYhly.play(function(){this.skillYhly.node.x=3e3;for(var a=0;a<t.effectList.length;a++){var n=t.effectList[a],s=this.findPersonInfo(n.combatPersonId);s.hpCurrent=n.hpCurrent,s.mpCurrent=n.mpCurrent,s.conditionList=n.conditionList;var l=this.findPerson(n.combatPersonId);l.setHpBar(l.hpLimit,n.hpCurrent),l.setMpBar(l.mpLimit,n.mpCurrent),l.setConditionList(n.conditionList),"\u51cfHP"==n.type&&(l.playHint1(n.effectOfType),l.playHit(),l.playAd(function(t){0==t.hpCurrent?t.playSw():t.playDj()}.bind(this)))}e.playDj(),this.visualPanel.playMove(.2,0,0,function(){this.combatMap.node.active=!0,this.boutPanelNode.active=!1,this.scheduleOnce(function(){++o<i.length?this.playCombatBout(i,o):(this.selfPersonLayout.enabled=!0,this.foePersonLayout.enabled=!0,this.isCombatOver||network.getCombatResult(this.combat.combatId,this.combat.teamOf))},.5)}.bind(this))}.bind(this))}.bind(this))}.bind(this))}.bind(this))}},playSkillPsdh:function(t,i,o){var e=this.findPerson(t.actionCombatPersonId),a=this.findPerson(t.targetCombatPersonId);if(null!=e&&null!=a){this.boutPanelNode.active=!0,this.boutLabel.string=e.personName+"\u4f7f\u7528\u6280\u80fd"+t.actionType;var n=0;this.isSelfTeam(e)?(this.foeTeamLayout.node.zIndex=0,this.selfTeamLayout.node.zIndex=1,this.skillPsdh.node.scaleX=1,n=-100):(this.foeTeamLayout.node.zIndex=1,this.selfTeamLayout.node.zIndex=0,this.skillPsdh.node.scaleX=-1,n=100),this.combatMap.node.active=!1,this.visualPanel.playMove(.2,n,0,function(){e.playJn(function(){this.visualPanel.playMove(.4,-n,0,function(){this.skillPsdh.node.x=0,this.skillPsdh.play(function(){this.skillPsdh.node.x=1e3;for(var a=0;a<t.effectList.length;a++){var n=t.effectList[a],s=this.findPersonInfo(n.combatPersonId);s.hpCurrent=n.hpCurrent,s.mpCurrent=n.mpCurrent,s.conditionList=n.conditionList;var l=this.findPerson(n.combatPersonId);if(l.setHpBar(l.hpLimit,n.hpCurrent),l.setMpBar(l.mpLimit,n.mpCurrent),l.setConditionList(n.conditionList),"\u51cfHP,\u51cfMP"==n.type){var h=n.effectOfType.split(",")[0];l.playHint1(h),l.playHit(),l.playAd(function(t){0==t.hpCurrent?t.playSw():t.playDj()}.bind(this))}}e.playDj(),this.visualPanel.playMove(.2,0,0,function(){this.combatMap.node.active=!0,this.boutPanelNode.active=!1,this.scheduleOnce(function(){++o<i.length?this.playCombatBout(i,o):(this.selfPersonLayout.enabled=!0,this.foePersonLayout.enabled=!0,this.isCombatOver||network.getCombatResult(this.combat.combatId,this.combat.teamOf))},.5)}.bind(this))}.bind(this))}.bind(this))}.bind(this))}.bind(this))}},playSkillHdwl:function(t,i,o){var e=this.findPerson(t.actionCombatPersonId),a=this.findPerson(t.targetCombatPersonId);if(null!=e&&null!=a){this.boutPanelNode.active=!0,this.boutLabel.string=e.personName+"\u4f7f\u7528\u6280\u80fd"+t.actionType;var n=0;this.isSelfTeam(e)?(this.foeTeamLayout.node.zIndex=0,this.selfTeamLayout.node.zIndex=1,n=-100):(this.foeTeamLayout.node.zIndex=1,this.selfTeamLayout.node.zIndex=0,n=100),this.combatMap.node.active=!1,this.visualPanel.playMove(.2,n,0,function(){e.playJn(function(){this.visualPanel.playMove(.4,-n,0,function(){for(var n=0;n<t.effectList.length;n++){var s=t.effectList[n],l=this.findPersonInfo(s.combatPersonId);l.hpCurrent=s.hpCurrent,l.mpCurrent=s.mpCurrent,l.conditionList=s.conditionList;var h=this.findPerson(s.combatPersonId);h.setHpBar(h.hpLimit,s.hpCurrent),h.setMpBar(h.mpLimit,s.mpCurrent),h.effect=s,"\u56f4"!=s.type&&"\u672a\u4e2d"!=s.type||h.playConditionHit(!1,function(t){t.setConditionList(t.effect.conditionList),"\u672a\u4e2d"==t.effect.type&&t.playMiss(),a.combatPersonId==t.combatPersonId&&(e.playDj(),this.visualPanel.playMove(.2,0,0,function(){this.combatMap.node.active=!0,this.boutPanelNode.active=!1,this.scheduleOnce(function(){++o<i.length?this.playCombatBout(i,o):(this.selfPersonLayout.enabled=!0,this.foePersonLayout.enabled=!0,this.isCombatOver||network.getCombatResult(this.combat.combatId,this.combat.teamOf))},.5)}.bind(this)))}.bind(this))}}.bind(this))}.bind(this))}.bind(this))}},playSkillSmcg:function(t,i,o){var e=this.findPerson(t.actionCombatPersonId),a=this.findPerson(t.targetCombatPersonId);if(null!=e&&null!=a){this.boutPanelNode.active=!0,this.boutLabel.string=e.personName+"\u4f7f\u7528\u6280\u80fd"+t.actionType;var n=0;this.isSelfTeam(e)?(this.foeTeamLayout.node.zIndex=0,this.selfTeamLayout.node.zIndex=1,n=-100):(this.foeTeamLayout.node.zIndex=1,this.selfTeamLayout.node.zIndex=0,n=100),this.combatMap.node.active=!1,this.visualPanel.playMove(.2,n,0,function(){e.playJn(function(){this.visualPanel.playMove(.4,-n,0,function(){for(var n=0;n<t.effectList.length;n++){var s=t.effectList[n],l=this.findPersonInfo(s.combatPersonId);l.hpCurrent=s.hpCurrent,l.mpCurrent=s.mpCurrent,l.conditionList=s.conditionList;var h=this.findPerson(s.combatPersonId);h.setHpBar(h.hpLimit,s.hpCurrent),h.setMpBar(h.mpLimit,s.mpCurrent),h.effect=s,"\u5c01"!=s.type&&"\u672a\u4e2d"!=s.type||h.playConditionHit(!1,function(t){t.setConditionList(t.effect.conditionList),"\u672a\u4e2d"==t.effect.type&&t.playMiss(),a.combatPersonId==t.combatPersonId&&(e.playDj(),this.visualPanel.playMove(.2,0,0,function(){this.combatMap.node.active=!0,this.boutPanelNode.active=!1,this.scheduleOnce(function(){++o<i.length?this.playCombatBout(i,o):(this.selfPersonLayout.enabled=!0,this.foePersonLayout.enabled=!0,this.isCombatOver||network.getCombatResult(this.combat.combatId,this.combat.teamOf))},.5)}.bind(this)))}.bind(this))}}.bind(this))}.bind(this))}.bind(this))}},playSkillChdj:function(t,i,o){var e=this.findPerson(t.actionCombatPersonId),a=this.findPerson(t.targetCombatPersonId);if(null!=e&&null!=a){this.boutPanelNode.active=!0,this.boutLabel.string=e.personName+"\u4f7f\u7528\u6280\u80fd"+t.actionType;var n=0;this.isSelfTeam(e)?(this.foeTeamLayout.node.zIndex=0,this.selfTeamLayout.node.zIndex=1,n=-100):(this.foeTeamLayout.node.zIndex=1,this.selfTeamLayout.node.zIndex=0,n=100),this.combatMap.node.active=!1,this.visualPanel.playMove(.2,n,0,function(){e.playJn(function(){this.visualPanel.playMove(.4,-n,0,function(){for(var n=0;n<t.effectList.length;n++){var s=t.effectList[n],l=this.findPersonInfo(s.combatPersonId);l.hpCurrent=s.hpCurrent,l.mpCurrent=s.mpCurrent,l.conditionList=s.conditionList;var h=this.findPerson(s.combatPersonId);h.setHpBar(h.hpLimit,s.hpCurrent),h.setMpBar(h.mpLimit,s.mpCurrent),h.effect=s,"\u4e71"!=s.type&&"\u672a\u4e2d"!=s.type||h.playConditionHit(!1,function(t){t.setConditionList(t.effect.conditionList),"\u672a\u4e2d"==t.effect.type&&t.playMiss(),a.combatPersonId==t.combatPersonId&&(e.playDj(),this.visualPanel.playMove(.2,0,0,function(){this.combatMap.node.active=!0,this.boutPanelNode.active=!1,this.scheduleOnce(function(){++o<i.length?this.playCombatBout(i,o):(this.selfPersonLayout.enabled=!0,this.foePersonLayout.enabled=!0,this.isCombatOver||network.getCombatResult(this.combat.combatId,this.combat.teamOf))},.5)}.bind(this)))}.bind(this))}}.bind(this))}.bind(this))}.bind(this))}},playSkillJctq:function(t,i,o){var e=this.findPerson(t.actionCombatPersonId),a=this.findPerson(t.targetCombatPersonId);if(null!=e&&null!=a){this.boutPanelNode.active=!0,this.boutLabel.string=e.personName+"\u4f7f\u7528\u6280\u80fd"+t.actionType;var n=0;this.isSelfTeam(e)?(this.foeTeamLayout.node.zIndex=0,this.selfTeamLayout.node.zIndex=1,n=-100):(this.foeTeamLayout.node.zIndex=1,this.selfTeamLayout.node.zIndex=0,n=100),this.combatMap.node.active=!1,this.visualPanel.playMove(.2,n,0,function(){e.playJn(function(){for(var n=0;n<t.effectList.length;n++){var s=t.effectList[n],l=this.findPersonInfo(s.combatPersonId);l.hpCurrent=s.hpCurrent,l.mpCurrent=s.mpCurrent,l.conditionList=s.conditionList;var h=this.findPerson(s.combatPersonId);h.setHpBar(h.hpLimit,s.hpCurrent),h.setMpBar(h.mpLimit,s.mpCurrent),h.effect=s,"\u89e3"!=s.type&&"\u672a\u4e2d"!=s.type||h.playConditionHit(!0,function(t){t.setConditionList(t.effect.conditionList),"\u672a\u4e2d"==t.effect.type&&t.playMiss(),a.combatPersonId==t.combatPersonId&&(e.playDj(),this.visualPanel.playMove(.2,0,0,function(){this.combatMap.node.active=!0,this.boutPanelNode.active=!1,this.scheduleOnce(function(){++o<i.length?this.playCombatBout(i,o):(this.selfPersonLayout.enabled=!0,this.foePersonLayout.enabled=!0,this.isCombatOver||network.getCombatResult(this.combat.combatId,this.combat.teamOf))},.5)}.bind(this)))}.bind(this))}}.bind(this))}.bind(this))}},playSkillLbwb:function(t,i,o){var e=this.findPerson(t.actionCombatPersonId),a=this.findPerson(t.targetCombatPersonId);if(null!=e&&null!=a){this.boutPanelNode.active=!0,this.boutLabel.string=e.personName+"\u4f7f\u7528\u6280\u80fd"+t.actionType;var n=0;this.isSelfTeam(e)?(this.foeTeamLayout.node.zIndex=0,this.selfTeamLayout.node.zIndex=1,n=-100):(this.foeTeamLayout.node.zIndex=1,this.selfTeamLayout.node.zIndex=0,n=100),this.combatMap.node.active=!1,this.visualPanel.playMove(.2,n,0,function(){e.playJn(function(){for(var n=0;n<t.effectList.length;n++){var s=t.effectList[n],l=this.findPersonInfo(s.combatPersonId);l.hpCurrent=s.hpCurrent,l.mpCurrent=s.mpCurrent,l.conditionList=s.conditionList;var h=this.findPerson(s.combatPersonId);h.setHpBar(h.hpLimit,s.hpCurrent),h.setMpBar(h.mpLimit,s.mpCurrent),h.effect=s,"\u901f"==s.type&&h.playConditionHit(!0,function(t){t.setConditionList(t.effect.conditionList),a.combatPersonId==t.combatPersonId&&(e.playDj(),this.visualPanel.playMove(.2,0,0,function(){this.combatMap.node.active=!0,this.boutPanelNode.active=!1,this.scheduleOnce(function(){++o<i.length?this.playCombatBout(i,o):(this.selfPersonLayout.enabled=!0,this.foePersonLayout.enabled=!0,this.isCombatOver||network.getCombatResult(this.combat.combatId,this.combat.teamOf))},.5)}.bind(this)))}.bind(this))}}.bind(this))}.bind(this))}},playSkillQcdn:function(t,i,o){var e=this.findPerson(t.actionCombatPersonId),a=this.findPerson(t.targetCombatPersonId);if(null!=e&&null!=a){this.boutPanelNode.active=!0,this.boutLabel.string=e.personName+"\u4f7f\u7528\u6280\u80fd"+t.actionType;var n=0;this.isSelfTeam(e)?(this.foeTeamLayout.node.zIndex=0,this.selfTeamLayout.node.zIndex=1,n=-100):(this.foeTeamLayout.node.zIndex=1,this.selfTeamLayout.node.zIndex=0,n=100),this.combatMap.node.active=!1,this.visualPanel.playMove(.2,n,0,function(){e.playJn(function(){for(var n=0;n<t.effectList.length;n++){var s=t.effectList[n],l=this.findPersonInfo(s.combatPersonId);l.hpCurrent=s.hpCurrent,l.mpCurrent=s.mpCurrent,l.conditionList=s.conditionList;var h=this.findPerson(s.combatPersonId);h.setHpBar(h.hpLimit,s.hpCurrent),h.setMpBar(h.mpLimit,s.mpCurrent),h.effect=s,"\u653b"==s.type&&h.playConditionHit(!0,function(t){t.setConditionList(t.effect.conditionList),a.combatPersonId==t.combatPersonId&&(e.playDj(),this.visualPanel.playMove(.2,0,0,function(){this.combatMap.node.active=!0,this.boutPanelNode.active=!1,this.scheduleOnce(function(){++o<i.length?this.playCombatBout(i,o):(this.selfPersonLayout.enabled=!0,this.foePersonLayout.enabled=!0,this.isCombatOver||network.getCombatResult(this.combat.combatId,this.combat.teamOf))},.5)}.bind(this)))}.bind(this))}}.bind(this))}.bind(this))}},playSkillGrjt:function(t,i,o){var e=this.findPerson(t.actionCombatPersonId),a=this.findPerson(t.targetCombatPersonId);if(null!=e&&null!=a){this.boutPanelNode.active=!0,this.boutLabel.string=e.personName+"\u4f7f\u7528\u6280\u80fd"+t.actionType;var n=0;this.isSelfTeam(e)?(this.foeTeamLayout.node.zIndex=0,this.selfTeamLayout.node.zIndex=1,n=-100):(this.foeTeamLayout.node.zIndex=1,this.selfTeamLayout.node.zIndex=0,n=100),this.combatMap.node.active=!1,this.visualPanel.playMove(.2,n,0,function(){e.playJn(function(){for(var n=0;n<t.effectList.length;n++){var s=t.effectList[n],l=this.findPersonInfo(s.combatPersonId);l.hpCurrent=s.hpCurrent,l.mpCurrent=s.mpCurrent,l.conditionList=s.conditionList;var h=this.findPerson(s.combatPersonId);h.setHpBar(h.hpLimit,s.hpCurrent),h.setMpBar(h.mpLimit,s.mpCurrent),h.effect=s,"\u56fa"==s.type&&h.playConditionHit(!0,function(t){t.setConditionList(t.effect.conditionList),a.combatPersonId==t.combatPersonId&&(e.playDj(),this.visualPanel.playMove(.2,0,0,function(){this.combatMap.node.active=!0,this.boutPanelNode.active=!1,this.scheduleOnce(function(){++o<i.length?this.playCombatBout(i,o):(this.selfPersonLayout.enabled=!0,this.foePersonLayout.enabled=!0,this.isCombatOver||network.getCombatResult(this.combat.combatId,this.combat.teamOf))},.5)}.bind(this)))}.bind(this))}}.bind(this))}.bind(this))}},playSkillMshc:function(t,i,o){var e=this.findPerson(t.actionCombatPersonId),a=this.findPerson(t.targetCombatPersonId);if(null!=e&&null!=a){this.boutPanelNode.active=!0,this.boutLabel.string=e.personName+"\u4f7f\u7528\u6280\u80fd"+t.actionType;var n=0;this.isSelfTeam(e)?(this.foeTeamLayout.node.zIndex=0,this.selfTeamLayout.node.zIndex=1,n=-100):(this.foeTeamLayout.node.zIndex=1,this.selfTeamLayout.node.zIndex=0,n=100),this.combatMap.node.active=!1,this.visualPanel.playMove(.2,n,0,function(){e.playJn(function(){for(var n=0;n<t.effectList.length;n++){var s=t.effectList[n],l=this.findPersonInfo(s.combatPersonId);l.hpCurrent=s.hpCurrent,l.mpCurrent=s.mpCurrent,l.conditionList=s.conditionList;var h=this.findPerson(s.combatPersonId);h.setHpBar(h.hpLimit,s.hpCurrent),h.setMpBar(h.mpLimit,s.mpCurrent),h.effect=s,"\u52a0HP"==s.type&&h.playConditionHit(!0,function(t){t.setConditionList(t.effect.conditionList),t.playHint2(t.effect.effectOfType),0!=t.hpCurrent&&t.playDj(),a.combatPersonId==t.combatPersonId&&(e.playDj(),this.visualPanel.playMove(.2,0,0,function(){this.combatMap.node.active=!0,this.boutPanelNode.active=!1,this.scheduleOnce(function(){++o<i.length?this.playCombatBout(i,o):(this.selfPersonLayout.enabled=!0,this.foePersonLayout.enabled=!0,this.isCombatOver||network.getCombatResult(this.combat.combatId,this.combat.teamOf))},.5)}.bind(this)))}.bind(this))}}.bind(this))}.bind(this))}},initSelfTeam:function(t){this.combat.selfHorse?(this.selfHorse.node.active=!0,this.selfHorse.draw=this.combat.selfHorse.bodyDraw):this.selfHorse.node.active=!1;for(var i=t.length;i<this.selfPersonLayout.node.childrenCount;i++){(o=this.selfPersonLayout.node.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];i<this.selfPersonLayout.node.childrenCount?o=this.selfPersonLayout.node.children[i]:(o=cc.instantiate(this.combatPersonPrefab)).parent=this.selfPersonLayout.node,o.personComp=o.getComponent(s),o.personComp.init(e,!0),this.combat.selfHorse?o.x=i%2==0?150:0:1==t.length?o.x=80:o.x=i%2==0?150:0}},initFoeTeam:function(t){this.combat.foeHorse?(this.foeHorse.node.active=!0,this.foeHorse.draw=this.combat.foeHorse.bodyDraw):this.foeHorse.node.active=!1;for(var i=t.length;i<this.foePersonLayout.node.childrenCount;i++){(o=this.foePersonLayout.node.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];i<this.foePersonLayout.node.childrenCount?o=this.foePersonLayout.node.children[i]:(o=cc.instantiate(this.combatPersonPrefab)).parent=this.foePersonLayout.node,o.personComp=o.getComponent(s),o.personComp.init(e,!1),this.combat.foeHorse?o.x=i%2==0?150:0:1==t.length?o.x=80:o.x=i%2==0?150:0}},isSelfTeam:function(t){return t.node.parent==this.selfPersonLayout.node},findPersonMy:function(){for(var t=0;t<this.selfPersonLayout.node.childrenCount;t++){var i=this.selfPersonLayout.node.children[t];if(i.personComp=i.getComponent(s),"player"==i.personComp.combatPersonType)return i.personComp}return null},findPerson:function(t){for(var i=0;i<this.selfPersonLayout.node.childrenCount;i++){var o=this.selfPersonLayout.node.children[i];if(o.personComp=o.getComponent(s),t==o.personComp.combatPersonId)return o.personComp}for(i=0;i<this.foePersonLayout.node.childrenCount;i++){var e=this.foePersonLayout.node.children[i];if(e.personComp=e.getComponent(s),t==e.personComp.combatPersonId)return e.personComp}return null},findPersonInfo:function(t){var i=this.findPerson(t);return i?i.personInfo:null},autoCombat:function(){if("\u666e\u901a\u653b\u51fb"==this.operationType||-1!=this.operationType.indexOf("\u6280\u80fd,")||-1!=this.operationType.indexOf("\u7269\u54c1,")){this.backOperationButton.node.active=!1;for(var t=0;t<this.selfPersonLayout.node.childrenCount;t++){(i=this.selfPersonLayout.node.children[t]).personComp=i.getComponent(s),i.personComp.setOnClickCallback(null)}for(t=0;t<this.foePersonLayout.node.childrenCount;t++){var i;(i=this.foePersonLayout.node.children[t]).personComp=i.getComponent(s),i.personComp.setOnClickCallback(null)}this.operationTargetPerson.setChoose(!1),this.operationTargetPerson=null,this.operationType="",this.personInfoPanel.node.active=!1,this.operationPerson.setChoose(!0),this.operationPanel.node.active=!0,this.operationPersonIndex>0&&(this.backOperationButton.node.active=!0)}else"\u6280\u80fd\u9009\u62e9"==this.operationType&&(this.backOperationButton.node.active=!1,this.skillOperationPanel.node.active=!1,this.operationPanel.node.active=!0,this.operationType="",this.operationPersonIndex>0&&(this.backOperationButton.node.active=!0));var o=this.context.findFragment("CombatDrugChoose");cc.log(o),o&&this.context.quitFragment(o);o=this.context.findFragment("CombatAdjutantChoose");cc.log(o),o&&this.context.quitFragment(o);var e=application.getCombatOperationList();for(t=this.operationPersonIndex;t<this.selfPersonLayout.node.childrenCount;t++)if(this.operationPerson=this.selfPersonLayout.node.children[t].getComponent(s),this.operationPerson.setChoose(!1),"player"==this.operationPerson.combatPersonType||this.operationPerson.hpCurrent>0){for(var a=null,n=0;n<e.length;n++){var l=e[n];if(l.tag&&l.tag==this.operationPerson.type+","+this.operationPerson.idOfType){if(-1!=l.operationType.indexOf("\u6280\u80fd,")){var h=l.operationType.split(",")[2];if("\u91d1\u7985\u8131\u58f3"!=h&&"\u51cc\u6ce2\u5fae\u6b65"!=h&&"\u6c14\u51b2\u6597\u725b"!=h&&"\u56fa\u82e5\u91d1\u6c64"!=h&&"\u5999\u624b\u56de\u6625"!=h)for(var d=this.operationPerson.personInfo,c=0;c<d.skillInfoList.length;c++){var r=d.skillInfoList[c];if(r.skillName==h){this.operationTargetPerson=null;for(var g=[],m=0;m<this.foePersonLayout.node.childrenCount;m++){(D=this.foePersonLayout.node.children[m].getComponent(s)).hpCurrent>0&&g.push(D)}if(g.length>0){var p=Math.floor(Math.random()*g.length);this.operationTargetPerson=g[p]}this.operationTargetPerson&&(a={tag:this.operationPerson.type+","+this.operationPerson.idOfType,combatPersonId:this.operationPerson.combatPersonId,targetCombatPersonId:this.operationTargetPerson.combatPersonId,operationType:"\u6280\u80fd,"+r.combatSkillId+","+r.skillName});break}}}"\u9632\u5fa1"==l.operationType&&(a={tag:this.operationPerson.type+","+this.operationPerson.idOfType,combatPersonId:this.operationPerson.combatPersonId,targetCombatPersonId:this.operationPerson.combatPersonId,operationType:"\u9632\u5fa1"})}}if(!a){this.operationTargetPerson=null;for(g=[],n=0;n<this.foePersonLayout.node.childrenCount;n++){var D;(D=this.foePersonLayout.node.children[n].getComponent(s)).hpCurrent>0&&g.push(D)}if(g.length>0){p=Math.floor(Math.random()*g.length);this.operationTargetPerson=g[p]}this.operationTargetPerson&&(a={tag:this.operationPerson.type+","+this.operationPerson.idOfType,combatPersonId:this.operationPerson.combatPersonId,targetCombatPersonId:this.operationTargetPerson.combatPersonId,operationType:"\u666e\u901a\u653b\u51fb"})}this.operationList.push(a)}this.operationPerson=null,this.operationTargetPerson=null,this.operationType="",this.operationPanel.node.active=!1,this.autoOperationButton.node.active=!1,this.backOperationButton.node.active=!1,this.unschedule(this.timerCallback),this.unschedule(this.autoOperationCallback),this.timerLabel.string="\u7b49\u5f85\u654c\u4eba\u64cd\u4f5c...",this.boutPanelNode.active=!1,cc.log("\u544a\u8bc9\u670d\u52a1\u5668\u6211\u7684\u64cd\u4f5c\uff01\uff01\uff01"),cc.log(this.operationList),network.createCombatBout(this.combat.combatId,this.boutLabel.boutCount,this.operationList,this.timer),application.setCombatOperationList(this.operationList)},onAutoCombatClickCallback:function(t){this.isAutoOperation=application.getCombatIsAutoOperation(),this.isAutoOperation?(application.setCombatIsAutoOperation(!1),this.autoOperationLabel.string="\u81ea\u52a8",this.unschedule(this.autoOperationCallback)):(application.setCombatIsAutoOperation(!0),this.autoOperationLabel.string="\u5173\u95ed",this.autoCombat())}}),cc._RF.pop()},{CombatHorse:"CombatHorse",CombatMap:"CombatMap",CombatOperation:"CombatOperation",CombatPerson:"CombatPerson",CombatPersonInfo:"CombatPersonInfo",CombatSkillOperation:"CombatSkillOperation",CombatVisual:"CombatVisual",Fragment:"Fragment",SkillHfhy:"SkillHfhy",SkillPsdh:"SkillPsdh",SkillWgjd:"SkillWgjd",SkillYhly:"SkillYhly"}],CommonItem:[function(t,i,o){"use strict";cc._RF.push(i,"bcad3j3dxtNo4fDyH/L6hz+","CommonItem"),cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label,nameLabelOutline:cc.LabelOutline,infoLabel:cc.Label,actionButton:cc.Button,actionLabel:cc.Label},start:function(){},setName:function(t){this.nameLabel.string=t},getName:function(){return this.nameLabel.string},setInfo:function(t){this.infoLabel.string=t},setAction:function(t){this.actionLabel.string=t},getAction:function(){return this.actionLabel.string},setActionColor:function(t){var i=cc.Color.BLACK;this.actionButton.node.color=i.fromHEX(t)},setActionEnable:function(t){this.actionButton.node.active=t},setOnNameClickCallback:function(t){this.nameClickCallback=t},setNameColor:function(t){var i=cc.Color.BLACK;this.nameLabelOutline.color=i.fromHEX(t)},setOnActionClickCallback:function(t){this.actionClickCallback=t},onNameClickCallback:function(t){null!=this.nameClickCallback&&this.nameClickCallback(this)},onActionClickCallback:function(t){null!=this.actionClickCallback&&this.actionClickCallback(this)}}),cc._RF.pop()},{}],Condition:[function(t,i,o){"use strict";cc._RF.push(i,"cad71ytABtDI6WatIuOZFnA","Condition"),cc.Class({extends:cc.Component,properties:{conditionAnimation:cc.Animation},start:function(){},init:function(t){"\u56f4"==t.type&&this.conditionAnimation.play("CombatConditionWei"),"\u5c01"==t.type&&this.conditionAnimation.play("CombatConditionFeng"),"\u4e71"==t.type&&this.conditionAnimation.play("CombatConditionLuan"),"\u653b"==t.type&&this.conditionAnimation.play("CombatConditionGong"),"\u56fa"==t.type&&this.conditionAnimation.play("CombatConditionGu"),"\u901f"==t.type&&this.conditionAnimation.play("CombatConditionSu"),"\u6bd2"==t.type&&this.conditionAnimation.play("CombatConditionDu")}}),cc._RF.pop()},{}],Config:[function(t,i,o){"use strict";cc._RF.push(i,"f3417iqa0RMfYAdsuOb0YY6","Config"),window.config={},cc._RF.pop()},{}],CountyList:[function(t,i,o){"use strict";cc._RF.push(i,"dcfd6DO3XtOL5uI87Bhqc2g","CountyList");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{listNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.countyList()},onBackClickCallback:function(t){this.quitFragment()},onQuitFragmentCallback:function(t,i){"RegionList"==t&&i&&this.quitFragment(!0)},initData:function(){if(null!=this.data)for(var t=this.data.countyList,i=0;i<t.length;i++){var o=t[i],e=cc.instantiate(this.commonItemPrefab);e.commonItemComp=e.getComponent(a),e.commonItemComp.id=o.id,e.commonItemComp.name=o.name,e.commonItemComp.setName(o.name),e.commonItemComp.setInfo(o.capitalRegionName),e.commonItemComp.setAction("\u9009\u62e9"),e.commonItemComp.setOnActionClickCallback(function(t){var i={countyId:t.id};this.launchFragment("RegionList",i)}.bind(this)),e.parent=this.listNode}},countyList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/county/list",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],DanDetail:[function(t,i,o){"use strict";cc._RF.push(i,"2c676tf2+9EeYOw0LJq18BT","DanDetail");var e=t("Fragment"),a=t("DanExplainItem");cc.Class({extends:e,properties:{listNode:cc.Node,danExplainItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.danDetail()},initData:function(){for(var t=0;t<this.listNode.childrenCount;t++){(o=this.listNode.children[t]).destroy()}if(null!=this.data){var i=this.data;for(t=0;t<i.explainList.length;t++){var o,e=i.explainList[t];(o=cc.instantiate(this.danExplainItemPrefab)).danExplainItemComp=o.getComponent(a),o.danExplainItemComp.explain=e,o.parent=this.listNode}}},onBackClickCallback:function(t){this.quitFragment()},danDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/dan/detail",{},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{DanExplainItem:"DanExplainItem",Fragment:"Fragment"}],DanExplainItem:[function(t,i,o){"use strict";cc._RF.push(i,"dbe39tABmlDkoOm2kc6H8t+","DanExplainItem"),cc.Class({extends:cc.Component,properties:{_explain:{default:""},explain:{get:function(){return this._explain},set:function(t){var i=this._explain;this._explain=t.toString(),this._explain!==i&&this._updateRenderData()}}},onLoad:function(){this.labelComp=this.getComponent(cc.Label)},start:function(){this._updateRenderData()},_updateRenderData:function(){null!=this.labelComp&&(this.labelComp.string=this._explain)}}),cc._RF.pop()},{}],Dan:[function(t,i,o){"use strict";cc._RF.push(i,"58d23DdDfpHfpQ1v0DGxeo2","Dan");var e=t("Fragment");cc.Class({extends:e,properties:{danLabel:cc.Label,minGradeNameEditbox:cc.EditBox,maxGradeNameEditbox:cc.EditBox},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerDanPrepare()},onQuitFragmentCallback:function(t,i){"Combat"==t&&(i?network.getLastCombat():this.playerDanPrepare())},onBackClickCallback:function(t){this.quitFragment()},initData:function(){var t=this.data;if(null!=t){var i=application.getMain().gradeName+10;i>100&&(i=100),this.maxGradeNameEditbox.string=i+"",this.danLabel.string=t.danName+"("+t.danScore+"\u5206)"}},onDescriptionClickCallback:function(t){this.launchFragment("DanDetail")},playerDanPrepare:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/danPrepare",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},onCombatContestDanClickCallback:function(t){if(application.getMain().gradeName<30)return this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u7684\u7b49\u7ea7\u4e0d\u591f30\u7ea7\uff0c\u65e0\u6cd5\u53c2\u52a0\u6392\u4f4d\u8d5b\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),void this.hintDialogNode.hintDialogComp.show();var i=this.minGradeNameEditbox.string,o=this.maxGradeNameEditbox.string;cc.log(i+","+o),util.isNumber(i)&&util.isNumber(o)?parseInt(i)>parseInt(o)?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u7b49\u7ea7\u8303\u56f4\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.loadDialogNode.loadDialogComp.show(),network.combatContestDan(i,o)):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u7b49\u7ea7\u8303\u56f4\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},onWsMessage:function(t){"combatContestDan"==t.action&&(this.loadDialogNode.loadDialogComp.dismiss(),1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setTitle("\u6e29\u99a8\u63d0\u793a"),this.hintDialogNode.hintDialogComp.setContent("\u6b63\u5728\u5339\u914d\u5bf9\u624b\u8fdb\u884c\u8f83\u91cf\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\uff0c5\u79d2\u540e\u53ef\u81ea\u884c\u53d6\u6d88\u9080\u8bf7\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonEnable(!0),this.hintDialogNode.hintDialogComp.setRightButtonInteractable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),network.combatContestDanCancel()}.bind(this)),this.hintDialogNode.hintDialogComp.show(),this.hintDialogNode.hintDialogComp.scheduleCallback=function(){this.setRightButtonInteractable(!0)},this.hintDialogNode.hintDialogComp.scheduleOnce(this.hintDialogNode.hintDialogComp.scheduleCallback,5)):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())),"combatCreate"==t.action&&(this.loadDialogNode.loadDialogComp.dismiss(),this.hintDialogNode.hintDialogComp.dismiss())}}),cc._RF.pop()},{Fragment:"Fragment"}],DigGoodsItem:[function(t,i,o){"use strict";cc._RF.push(i,"41d05G+26lBfbCeSj5Lmw8Y","DigGoodsItem"),cc.Class({extends:cc.Component,properties:{timeLabel:cc.Label,contentLabel:cc.Label,playerNameLabel:cc.Label},start:function(){},load:function(t,i){this.context=t,this.playerId=i.playerId,this.playerNameLabel.string=i.playerName,this.timeLabel.string=i.createTime.substring(11,16),this.contentLabel.string=this.placeholder(i.playerName)+i.content},setOnNameClickCallback:function(t){this.nameClickCallback=t},onNameClickCallback:function(t){null!=this.nameClickCallback&&this.nameClickCallback(this)},placeholder:function(t){for(var i=t.length,o="\u3000\u3000\u3000 ",e=0;e<i;e++)o+="\u3000";return o}}),cc._RF.pop()},{}],Dig:[function(t,i,o){"use strict";cc._RF.push(i,"2ef8a3IdIFEOZbm4utvg7yx","Dig");var e=t("Fragment"),a=t("DigGoodsItem");cc.Class({extends:e,properties:{probabilityLabel:cc.Label,hintLabel:cc.Label,digStartNode:cc.Node,digNode:cc.Node,digHintLabel:cc.Label,dig1Button:cc.Button,dig1Label:cc.Label,dig2Button:cc.Button,dig2Label:cc.Label,dig3Button:cc.Button,dig3Label:cc.Label,dig4Button:cc.Button,dig4Label:cc.Label,dig5Button:cc.Button,dig5Label:cc.Label,dig6Button:cc.Button,dig6Label:cc.Label,dig7Button:cc.Button,dig7Label:cc.Label,dig8Button:cc.Button,dig8Label:cc.Label,dig9Button:cc.Button,dig9Label:cc.Label,listNode:cc.Node,digGoodsItemPrefab:cc.Prefab},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy(),this.unschedule(this.autoDigCallback)},start:function(){this.playerDigDetail()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){var t=this.data;if(null!=t){1==t.status&&(this.hintLabel.string="\u6bcf\u5929\u53ef\u6316\u5b9d100\u6b21\uff0c\u6316\u5b9d\u6709\u673a\u4f1a\u83b7\u5f97\u5404\u79cd\u4e30\u539a\u7684\u5956\u52b1\uff0c\u5f00\u542f\u6316\u5b9d\u540e\u5c06\u81ea\u52a8\u6316\u5b9d\uff0c\u60a8\u4eca\u5929\u5269\u4f59\u6316\u5b9d\u6b21\u6570\uff1a"+t.digSurplusCount,this.probabilityLabel.string="\u6316\u5b9d\u9047\u5b9d\u7387\u4e3a"+t.probability+"%\uff0c\u7b49\u7ea7\u52a0\u6210"+t.probabilityAdd+"%",this.isOpenAuto?this.scheduleOnce(function(){this.autoDig()},1):(this.digStartNode.active=!0,this.digNode.active=!1),this.initDigButton(t.dig1,this.dig1Button,this.dig1Label),this.initDigButton(t.dig2,this.dig2Button,this.dig2Label),this.initDigButton(t.dig3,this.dig3Button,this.dig3Label),this.initDigButton(t.dig4,this.dig4Button,this.dig4Label),this.initDigButton(t.dig5,this.dig5Button,this.dig5Label),this.initDigButton(t.dig6,this.dig6Button,this.dig6Label),this.initDigButton(t.dig7,this.dig7Button,this.dig7Label),this.initDigButton(t.dig8,this.dig8Button,this.dig8Label),this.initDigButton(t.dig9,this.dig9Button,this.dig9Label)),2==t.status&&(this.hintLabel.string="\u60a8\u4eca\u5929\u7684\u6316\u5b9d\u6b21\u6570\u5df2\u7528\u5b8c\uff01",this.digStartNode.active=!1,this.digNode.active=!1);for(var i=t.digRecordList,o=0;o<this.listNode.childrenCount;o++){(e=this.listNode.children[o]).destroy()}for(o=0;o<i.length;o++){var e,n=i[o];(e=cc.instantiate(this.digGoodsItemPrefab)).digGoodsItemComp=e.getComponent(a),e.digGoodsItemComp.load(this,n),e.digGoodsItemComp.setOnNameClickCallback(function(t){if(application.getPlayerId()==t.playerId)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:t.playerId};this.launchFragment("PlayerOtherDetail",i)}}.bind(this)),e.parent=this.listNode}}},initDigButton:function(t,i,o){if(o.string=t,"\u672a\u6316"==t){i.interactable=!0;var e=cc.Color.BLACK;o.node.color=e.fromHEX("#FFFFFF")}else if("\u6316\u7a7a"==t){i.interactable=!1;e=cc.Color.BLACK;o.node.color=e.fromHEX("#FFFFFF")}else{i.interactable=!1;e=cc.Color.BLACK;o.node.color=e.fromHEX("#FFE109")}},onDigClickCallback:function(t,i){this.playerDig(i)},onStartDigClickback:function(t){this.isOpenAuto=!0,this.digStartNode.active=!1,this.digNode.active=!0,this.autoDig()},autoDig:function(){this.autoDigTimer=2,this.autoDigCallback=function(){this.autoDigTimer--,0==this.autoDigTimer?(this.unschedule(this.autoDigCallback),this.playerDig()):this.digHintLabel.string="\u60a8\u6b63\u5728\u4f11\u606f\uff0c"+this.autoDigTimer+"\u79d2\u540e\u7ee7\u7eed\u6316\u5b9d\u3002"},this.autoDigCallback(),this.schedule(this.autoDigCallback,1)},playerDigDetail:function(){this.loadDialogNode.loadDialogComp.show();var t=application.getMain();network.sendGameHttpPost("/player/digDetail",{playerId:t.playerId,gradeName:t.gradeName},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerDig:function(){this.loadDialogNode.loadDialogComp.show();var t=application.getMain();network.sendGameHttpPost("/player/dig",{playerId:t.playerId,gradeName:t.gradeName},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.digHintLabel.string=t.codeName,this.resetMain()):t&&2==t.code?(this.digHintLabel.string=t.codeName,this.playerDigDetail()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.quitFragment()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.playerDigDetail()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{DigGoodsItem:"DigGoodsItem",Fragment:"Fragment"}],DrugDetail:[function(t,i,o){"use strict";cc._RF.push(i,"0cca6VVRbZCRpn/6zAPKW52","DrugDetail");var e=t("Fragment");cc.Class({extends:e,properties:{titleLabel:cc.Label,nameLabel:cc.Label,priceLabel:cc.Label,priceNode:cc.Node,gradeNameLabel:cc.Label,typeLabel:cc.Label,effectOfTypeLabel:cc.Label,descriptionLabel:cc.Label,buyNode:cc.Node,silverLabel:cc.Label,buyNumberEditbox:cc.EditBox},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.titleLabel.string=this.getLaunchData().action,"\u836f\u54c1\u8d2d\u4e70"==this.titleLabel.string?this.buyNode.active=!0:this.buyNode.active=!1,this.isShowPrice=this.getLaunchData().isShowPrice,null!=this.isShowPrice&&void 0!=this.isShowPrice||(this.isShowPrice=!0),this.isShowPrice?this.priceNode.opacity=255:this.priceNode.opacity=0,this.drugId=this.getLaunchData().drugId,this.drugDetail()},initData:function(){var t=this.data;if(null!=t){this.nameLabel.string=t.name,this.priceLabel.string=t.price+"\u94f6\u4e24",this.gradeNameLabel.string=t.gradeName+"\u7ea7",this.typeLabel.string=t.type,this.effectOfTypeLabel.string="+"+t.effectOfType,this.descriptionLabel.string="\u3000\u3000"+t.description;var i=application.getMain();this.silverLabel.string="\u60a8\u62e5\u6709"+i.playerSilver+"\u94f6\u4e24"}},onMainChange:function(){var t=application.getMain();this.silverLabel.string="\u60a8\u62e5\u6709"+t.playerSilver+"\u94f6\u4e24"},onBackClickCallback:function(t){this.quitFragment()},onBuyClickCallback:function(t){var i=this.buyNumberEditbox.string;util.isNumber(i)?this.drugPlayerBuy(i):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u8d2d\u4e70\u6570\u91cf\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},drugDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/drug/detail",{drugId:this.drugId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},drugPlayerBuy:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/drug/playerBuy",{drugId:this.drugId,playerId:application.getPlayerId(),buyNumber:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],DrugList:[function(t,i,o){"use strict";cc._RF.push(i,"49a65oJHRJDOJDJg2WxKX8j","DrugList");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{drugListNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.drugType=this.getLaunchData().drugType,this.drugList()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){var t=this.data.drugList;if(null!=t)for(var i=0;i<t.length;i++){var o=t[i],e=cc.instantiate(this.commonItemPrefab);e.commonItemComp=e.getComponent(a),e.commonItemComp.id=o.id,e.commonItemComp.setName(o.name),e.commonItemComp.setInfo(o.price+"\u94f6\u4e24"),e.commonItemComp.setAction("\u8d2d\u4e70"),"\u52a0HP"==this.drugType&&e.commonItemComp.setNameColor("#FF1A1A"),"\u52a0MP"==this.drugType&&e.commonItemComp.setNameColor("#2B88F1"),e.commonItemComp.setOnNameClickCallback(function(t){var i={action:"\u836f\u54c1\u8be6\u60c5",drugId:t.id};this.launchFragment("DrugDetail",i)}.bind(this)),e.commonItemComp.setOnActionClickCallback(function(t){var i={action:"\u836f\u54c1\u8d2d\u4e70",drugId:t.id};this.launchFragment("DrugDetail",i)}.bind(this)),e.parent=this.drugListNode}},drugList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/drug/list",{drugType:this.drugType},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],FaceItem:[function(t,i,o){"use strict";cc._RF.push(i,"431f5rdT/9D7qZ5zyxXaeHp","FaceItem");var e=t("PersonFace");cc.Class({extends:cc.Component,properties:{personFace:e},start:function(){},load:function(t){this.personFace.draw=t.draw,this.draw=t.draw,this.id=t.id,this.level=t.level},onChangeClickCallback:function(t){this.changeClickCallback&&this.changeClickCallback(this)},setOnChangeClickCallback:function(t){this.changeClickCallback=t}}),cc._RF.pop()},{PersonFace:"PersonFace"}],FaceList:[function(t,i,o){"use strict";cc._RF.push(i,"151707lCmtIZaPjsMo3DFhi","FaceList");var e=t("Fragment"),a=t("FaceItem");cc.Class({extends:e,properties:{listNode:cc.Node,faceItemPrefab:cc.Prefab,level1Button:cc.Button,level2Button:cc.Button,level3Button:cc.Button,level4Button:cc.Button},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.onLevelClickCallback(null,1)},onLevelClickCallback:function(t,i){this.level=i,1==this.level&&(this.level1Button.interactable=!1,this.level2Button.interactable=!0,this.level3Button.interactable=!0,this.level4Button.interactable=!0),2==this.level&&(this.level1Button.interactable=!0,this.level2Button.interactable=!1,this.level3Button.interactable=!0,this.level4Button.interactable=!0),3==this.level&&(this.level1Button.interactable=!0,this.level2Button.interactable=!0,this.level3Button.interactable=!1,this.level4Button.interactable=!0),4==this.level&&(this.level1Button.interactable=!0,this.level2Button.interactable=!0,this.level3Button.interactable=!0,this.level4Button.interactable=!1),this.faceList()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){var t=this.data;if(null!=t){for(var i=0;i<this.listNode.childrenCount;i++){(o=this.listNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.faceItemPrefab)).faceItemComp=o.getComponent(a),o.faceItemComp.load(e),o.faceItemComp.setOnChangeClickCallback(function(t){var i="\u60a8\u786e\u5b9a\u8981\u4f7f\u75281\u4e2a";1==t.level&&(i+="\u521d\u7ea7\u6613\u5bb9\u88c5"),2==t.level&&(i+="\u9ad8\u7ea7\u6613\u5bb9\u88c5"),3==t.level&&(i+="\u7279\u7ea7\u6613\u5bb9\u88c5"),4==t.level&&(i+="\u795e\u7ea7\u6613\u5bb9\u88c5"),i+="\u6765\u6539\u53d8\u6210\u5f53\u524d\u9009\u4e2d\u5bb9\u8c8c\u5417\uff1f",this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.id=t.id,this.hintDialogNode.hintDialogComp.setContent(i),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.faceChange(t.id)}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this)),o.parent=this.listNode}}},faceList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/face/list",{playerId:application.getPlayerId(),level:this.level},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},faceChange:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/face/change",{playerId:application.getPlayerId(),faceId:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.quitFragment(!0)}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{FaceItem:"FaceItem",Fragment:"Fragment"}],Fragment:[function(t,i,o){"use strict";cc._RF.push(i,"bf6ef2S0+hE47PbYJzfUbKY","Fragment"),cc.Class({extends:cc.Component,properties:{},getLaunchData:function(){return this.launchData},getQuitData:function(){return this.quitData},onQuitFragmentCallback:function(t,i){},onNetowrkMessage:function(t){},onMainChange:function(){},notifyMainChange:function(){this.context.onMainChange()},launchFragment:function(t,i){this.context.launchFragment(t,i)},quitFragment:function(t){this.context.quitFragment(this,t)}}),cc._RF.pop()},{}],FriendChat:[function(t,i,o){"use strict";cc._RF.push(i,"29bdcPEjohD5r1N5tObdjPF","FriendChat");var e=t("Fragment"),a=t("ChatFriendItem");cc.Class({extends:e,properties:{chatContentEditBox:cc.EditBox,hintLabel:cc.Label,listNode:cc.Node,chatFriendItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},onQuitFragmentCallback:function(t,i){},start:function(){this.friendPlayerId=this.getLaunchData().friendPlayerId,this.loadDialogNode.loadDialogComp.show(),network.chatFriendPrepare(this.friendPlayerId)},onBackClickCallback:function(t){this.quitFragment()},onWsMessage:function(t){if("chatFriendPrepare"==t.action&&(this.loadDialogNode.loadDialogComp.dismiss(),1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.quitFragment(!0)}.bind(this)),this.hintDialogNode.hintDialogComp.show())),"chatFriend"==t.action)if(1==t.code){var i=t.data;if(i.friendId==this.data.friendId){var o=cc.instantiate(this.chatFriendItemPrefab);o.chatFriendItemComp=o.getComponent(a),o.chatFriendItemComp.load(this,i),o.parent=this.listNode}}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show();if("notify"==t.action){var e=t.data;if(null!=e.link&&""!=e.link){var n=e.link.split(",");"friend"==n[0]&&"chat"==n[1]&&n[2]==this.data.friendId&&this.context.mainNotify.read(e.id)}}},initData:function(){var t=this.data;if(t){this.context.mainNotify.notify&&this.context.mainNotify.notify.link=="friend,chat,"+t.friendId&&this.context.mainNotify.read(this.context.mainNotify.notify.id),this.hintLabel.string="\u4e0e\u3010"+t.friendPlayerName+"\u3011\u804a\u5929\u4e2d";for(var i=0;i<this.listNode.childrenCount;i++){this.listNode.children[i].destroy()}var o=t.chatList;for(i=1;i<=o.length;i++){var e=o[o.length-i],n=cc.instantiate(this.chatFriendItemPrefab);n.chatFriendItemComp=n.getComponent(a),n.chatFriendItemComp.load(this,e),n.parent=this.listNode}}},onSendClickCallback:function(t){var i=this.chatContentEditBox.string;""==i.trim()||i.length<1?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u5185\u5bb9\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.chatContentEditBox.string="",network.sendChatFriend(this.data.friendId,escape(i)))},onRefreshClickCallback:function(){this.loadDialogNode.loadDialogComp.show(),network.chatFriendPrepare(this.friendPlayerId)}}),cc._RF.pop()},{ChatFriendItem:"ChatFriendItem",Fragment:"Fragment"}],Friend:[function(t,i,o){"use strict";cc._RF.push(i,"e5e4e4ffEFCe7yruvDd1Uoc","Friend");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{friendButton:cc.Button,latelyButton:cc.Button,blacklistButton:cc.Button,foeButton:cc.Button,listNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},onQuitFragmentCallback:function(t,i){"PlayerOtherDetail"==t&&(this.loadDialogNode.loadDialogComp.show(),network.getChatFriendList(this.classify)),"FriendChat"==t&&(this.loadDialogNode.loadDialogComp.show(),network.getChatFriendList(this.classify))},start:function(){this.onFriendClickCallback()},onBackClickCallback:function(t){this.quitFragment()},onSearchClickCallback:function(t){this.launchFragment("PlayerSearch")},onFriendClickCallback:function(t){this.classify="friend",this.friendButton.interactable=!1,this.latelyButton.interactable=!0,this.blacklistButton.interactable=!0,this.foeButton.interactable=!0,this.loadDialogNode.loadDialogComp.show(),network.getChatFriendList(this.classify)},onLatelyClickCallback:function(t){this.classify="lately",this.friendButton.interactable=!0,this.latelyButton.interactable=!1,this.blacklistButton.interactable=!0,this.foeButton.interactable=!0,this.loadDialogNode.loadDialogComp.show(),network.getChatFriendList(this.classify)},onBlacklistClickCallback:function(t){this.classify="blacklist",this.friendButton.interactable=!0,this.latelyButton.interactable=!0,this.blacklistButton.interactable=!1,this.foeButton.interactable=!0,this.loadDialogNode.loadDialogComp.show(),network.getChatFriendList(this.classify)},onFoeClickCallback:function(t){this.classify="foe",this.friendButton.interactable=!0,this.latelyButton.interactable=!0,this.blacklistButton.interactable=!0,this.foeButton.interactable=!1,this.loadDialogNode.loadDialogComp.show(),network.getChatFriendList(this.classify)},onWsMessage:function(t){"chatFriendList"==t.action&&(this.loadDialogNode.loadDialogComp.dismiss(),this.data=t.data,this.initData()),"removeChatFoe"==t.action&&network.getChatFriendList(this.classify)},initData:function(){var t=this.data;if(t){for(var i=0;i<this.listNode.childrenCount;i++){this.listNode.children[i].destroy()}var o=t;for(i=0;i<o.length;i++){var e=o[i],n=cc.instantiate(this.commonItemPrefab);n.commonItemComp=n.getComponent(a),n.commonItemComp.id=e.id,n.commonItemComp.playerId=e.playerId,n.commonItemComp.setName(e.playerName),n.commonItemComp.setInfo(e.playerGradeName+"\u7ea7"+e.jobName),e.isOnline?(n.commonItemComp.setNameColor("#FF1A1A"),n.commonItemComp.setActionColor("#FF1A1A")):(n.commonItemComp.setNameColor("#2B88F1"),n.commonItemComp.setActionColor("#2B88F1")),n.commonItemComp.setOnNameClickCallback(function(t){var i={otherPlayerId:t.playerId};this.launchFragment("PlayerOtherDetail",i)}.bind(this)),"blacklist"==this.classify?n.commonItemComp.setActionEnable(!1):"foe"==this.classify?(n.commonItemComp.setActionEnable(!0),n.commonItemComp.setAction("\u9057\u5fd8"),n.commonItemComp.setOnActionClickCallback(function(t){this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.playerId=t.playerId,this.hintDialogNode.hintDialogComp.setContent("\u5fcd\u4e00\u65f6\u98ce\u5e73\u6d6a\u9759\uff0c\u9000\u4e00\u6b65\u6d77\u9614\u5929\u7a7a\uff0c\u662f\u5426\u9057\u5fd8\u5bf9\u65b9\u5bf9\u4f60\u505a\u51fa\u7684\u6076\u52a3\u884c\u4e3a\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.loadDialogNode.loadDialogComp.show(),network.removeChatFoe(t.playerId)}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))):(n.commonItemComp.setActionEnable(!0),n.commonItemComp.setAction("\u804a\u5929"),n.commonItemComp.setOnActionClickCallback(function(t){var i={friendPlayerId:t.playerId};this.launchFragment("FriendChat",i)}.bind(this))),n.parent=this.listNode}}}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],GameInstanceItem:[function(t,i,o){"use strict";cc._RF.push(i,"8d420iiIsZJNaaS1NpJ1mrr","GameInstanceItem"),cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label,descriptionLabel:cc.Label},start:function(){},load:function(t){cc.log(t),this.id=t.id,this.nameLabel.string=t.name+"("+t.status+")",this.descriptionLabel.string=t.description,this.status=t.status},onGameInstanceClickCallback:function(t){this.gameInstanceClickCallback&&this.gameInstanceClickCallback(this)},setOnGameInstanceClickCallback:function(t){this.gameInstanceClickCallback=t}}),cc._RF.pop()},{}],GameInstanceTaskDetail:[function(t,i,o){"use strict";cc._RF.push(i,"5a0f3UZg/NIPYy51U8vvYJo","GameInstanceTaskDetail");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{gameInstanceFinishLabel:cc.Label,gameInstanceNode:cc.Node,titleLabel:cc.Label,descriptionLabel:cc.Label,regionNameLabel:cc.Label,monsterNode:cc.Node,monsterListNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.gameInstanceTaskDetail()},initData:function(){if(null!=this.data){var t=this.data;if(this.titleLabel.string=t.title,this.descriptionLabel.string="\u3000\u3000"+t.description,this.regionNameLabel.string=t.regionName,this.data.monsterGroupList){this.monsterNode.active=!0;for(var i=this.data.monsterGroupList,o=0;o<i.length;o++){var e=i[o],n=cc.instantiate(this.commonItemPrefab);n.commonItemComp=n.getComponent(a),n.commonItemComp.id=e.id,n.commonItemComp.regionId=e.regionId,n.commonItemComp.setName(e.name),n.commonItemComp.setInfo(e.regionName),n.commonItemComp.setAction("\u524d\u5f80"),n.commonItemComp.setOnNameClickCallback(function(t){var i={monsterGroupId:t.id};this.launchFragment("MonsterGroup",i)}.bind(this)),n.commonItemComp.setOnActionClickCallback(function(t){this.move(t.regionId)}.bind(this)),n.parent=this.monsterListNode}}else this.monsterNode.active=!1}},onBackClickCallback:function(t){this.quitFragment()},onMoveClickCallback:function(t){this.data&&this.data.regionId&&this.move(this.data.regionId)},onQuitClickCallback:function(t){this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u662f\u5426\u79bb\u5f00\u6b64\u526f\u672c\u6218\u573a\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.gameInstanceQuit()}.bind(this)),this.hintDialogNode.hintDialogComp.show()},gameInstanceTaskDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/gameInstance/taskDetail",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.gameInstanceNode.active=!0,this.gameInstanceFinishLabel.node.active=!1,this.data=t.data,this.initData()):t&&2==t.code?(this.gameInstanceNode.active=!1,this.gameInstanceFinishLabel.node.active=!0):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},move:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main/move",{playerId:application.getPlayerId(),regionId:t,moveType:"gameInstanceMove"},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.quitFragment(!0)}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))},gameInstanceQuit:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/gameInstance/quit",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?this.resetMain():(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.quitFragment(!0)}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],GameInstance:[function(t,i,o){"use strict";cc._RF.push(i,"c0707mXkHlC/LwK4s+66V7V","GameInstance");var e=t("Fragment"),a=t("GameInstanceItem");cc.Class({extends:e,properties:{listNode:cc.Node,gameInstanceItemPrefab:cc.Prefab},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.gameInstanceList()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){var t=this.data.gameInstanceList;if(null!=t)for(var i=0;i<t.length;i++){var o=t[i],e=cc.instantiate(this.gameInstanceItemPrefab);e.cameInstanceItemComp=e.getComponent(a),e.cameInstanceItemComp.load(o),e.cameInstanceItemComp.setOnGameInstanceClickCallback(function(t){"\u672a\u5f00\u59cb"==t.status&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.id=t.id,this.hintDialogNode.hintDialogComp.setContent("\u662f\u5426\u5f00\u59cb\u6b64\u526f\u672c\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.gameInstanceJoin(t.id)}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"\u5df2\u5b8c\u6210"==t.status&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u6b64\u526f\u672c\u4eca\u5929\u5df2\u5b8c\u6210\uff0c\u8bf7\u660e\u5929\u518d\u6765\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"\u8fdb\u884c\u4e2d"==t.status&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.id=t.id,this.hintDialogNode.hintDialogComp.setContent("\u662f\u5426\u7ee7\u7eed\u6b64\u526f\u672c\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.gameInstanceJoin(t.id)}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this)),e.parent=this.listNode}},gameInstanceList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/gameInstance/list",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},gameInstanceJoin:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/gameInstance/join",{playerId:application.getPlayerId(),gameInstanceId:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?this.resetMain():(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.quitFragment(!0)}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment",GameInstanceItem:"GameInstanceItem"}],GemCompoundChoose:[function(t,i,o){"use strict";cc._RF.push(i,"7775bEzMChD5a61RK8iJALj","GemCompoundChoose");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{listNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerGemChoose()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){for(var t=0;t<this.listNode.childrenCount;t++){(o=this.listNode.children[t]).destroy()}var i=this.data.playerGemList;if(null!=i)for(t=0;t<i.length;t++){var o,e=i[t];if(!(e.gemGradeName>=10))(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.id=e.id,o.commonItemComp.gemId=e.gemId,o.commonItemComp.setName(e.gemGradeName+"\u7ea7"+e.gemName),o.commonItemComp.setInfo("\u6570\u91cf("+e.number+")"),o.commonItemComp.setAction("\u9009\u62e9"),o.commonItemComp.setOnNameClickCallback(function(t){var i={action:"\u5b9d\u77f3\u8be6\u60c5",gemId:t.gemId,isShowPrice:!1};this.launchFragment("GemDetail",i)}.bind(this)),o.commonItemComp.setOnActionClickCallback(function(t){var i={playerGoodsId:t.id};this.quitFragment(i)}.bind(this)),o.parent=this.listNode}},playerGemChoose:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/gemChoose",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],GemCompound:[function(t,i,o){"use strict";cc._RF.push(i,"b5d735DgW5FdKT3IROOe3/4","GemCompound");var e=t("Fragment");cc.Class({extends:e,properties:{gemNameLabel:cc.Label,gemNumberNode:cc.Node,gemNumberLabel:cc.Label,hintLabel:cc.Label,confirmNode:cc.Node},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.initData()},onQuitFragmentCallback:function(t,i){"GemCompoundChoose"==t&&null!=i&&(this.playerGoodsId=i.playerGoodsId,this.gemCompoundPrepare())},initData:function(){var t=this.data;t?(this.gemNumberNode.active=!0,this.hintLabel.node.active=!0,this.gemNameLabel.string=t.gemGradeName+"\u7ea7"+t.gemName,this.gemNumberLabel.string=t.number+"\u5757",t.number>=2?(this.hintLabel.string="\u4f60\u5c06\u8981\u5408\u6210"+(t.gemGradeName+1)+"\u7ea7"+t.gemName+"\uff0c\u9700\u8981\u82b1\u8d39"+100*(t.gemGradeName+1)+"\u94f6\u4e24",this.confirmNode.active=!0):(this.hintLabel.string="\u65e0\u6cd5\u5408\u6210\uff0c\u76f8\u540c\u5b9d\u77f3\u4e0d\u591f2\u4e2a",this.confirmNode.active=!1)):(this.gemNumberNode.active=!1,this.hintLabel.active=!1,this.confirmNode.active=!1)},onChooseGemClickCallback:function(t){this.launchFragment("GemCompoundChoose")},onCompoundClickCallback:function(t){this.gemCompound()},onBackClickCallback:function(t){this.quitFragment()},gemCompoundPrepare:function(){this.playerGoodsId&&(this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/gem/compoundPrepare",{playerId:application.getPlayerId(),playerGoodsId:this.playerGoodsId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this)))},gemCompound:function(){this.playerGoodsId&&(this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/gem/compound",{playerId:application.getPlayerId(),playerGoodsId:this.playerGoodsId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this)))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.gemCompoundPrepare()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],GemDetail:[function(t,i,o){"use strict";cc._RF.push(i,"1e6533+WvJORL5E/gCsO05l","GemDetail");var e=t("Fragment");cc.Class({extends:e,properties:{titleLabel:cc.Label,nameLabel:cc.Label,priceLabel:cc.Label,priceNode:cc.Node,gradeNameLabel:cc.Label,descriptionLabel:cc.Label,buyNode:cc.Node,silverLabel:cc.Label,buyNumberEditbox:cc.EditBox},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.titleLabel.string=this.getLaunchData().action,"\u5b9d\u77f3\u8d2d\u4e70"==this.titleLabel.string?this.buyNode.active=!0:this.buyNode.active=!1,this.isShowPrice=this.getLaunchData().isShowPrice,null!=this.isShowPrice&&void 0!=this.isShowPrice||(this.isShowPrice=!0),this.isShowPrice?this.priceNode.opacity=255:this.priceNode.opacity=0,this.gemId=this.getLaunchData().gemId,this.gemDetail()},initData:function(){var t=this.data;if(null!=t){this.nameLabel.string=t.name,this.priceLabel.string=t.price+"\u94f6\u4e24",this.gradeNameLabel.string=t.gradeName+"\u7ea7",this.descriptionLabel.string="\u3000\u3000"+t.description;var i=application.getMain();this.silverLabel.string="\u60a8\u62e5\u6709"+i.playerSilver+"\u94f6\u4e24"}},onMainChange:function(){var t=application.getMain();this.silverLabel.string="\u60a8\u62e5\u6709"+t.playerSilver+"\u94f6\u4e24"},onBackClickCallback:function(t){this.quitFragment()},onBuyClickCallback:function(t){var i=this.buyNumberEditbox.string;util.isNumber(i)?this.gemPlayerBuy(i):(this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u8d2d\u4e70\u6570\u91cf\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},gemDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/gem/detail",{gemId:this.gemId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},gemPlayerBuy:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/gem/playerBuy",{gemId:this.gemId,playerId:application.getPlayerId(),buyNumber:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],GemList:[function(t,i,o){"use strict";cc._RF.push(i,"43f6fCd5l9LwapIJoXe2jeH","GemList");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{gemListNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.gemList()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){var t=this.data.gemList;if(null!=t)for(var i=0;i<t.length;i++){var o=t[i],e=cc.instantiate(this.commonItemPrefab);e.commonItemComp=e.getComponent(a),e.commonItemComp.id=o.id,e.commonItemComp.setName(o.gradeName+"\u7ea7"+o.name),e.commonItemComp.setInfo(o.price+"\u94f6\u4e24"),e.commonItemComp.setAction("\u8d2d\u4e70"),e.commonItemComp.setOnNameClickCallback(function(t){var i={action:"\u5b9d\u77f3\u8be6\u60c5",gemId:t.id};this.launchFragment("GemDetail",i)}.bind(this)),e.commonItemComp.setOnActionClickCallback(function(t){var i={action:"\u5b9d\u77f3\u8d2d\u4e70",gemId:t.id};this.launchFragment("GemDetail",i)}.bind(this)),e.parent=this.gemListNode}},gemList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/gem/list",{},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],GivingRelief:[function(t,i,o){"use strict";cc._RF.push(i,"5314cfqsmhBBowCct1vbdWT","GivingRelief");var e=t("Fragment");cc.Class({extends:e,properties:{contentEditBox:cc.EditBox},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},onBackClickCallback:function(t){this.quitFragment()},onGivingReliefClickCallback:function(t,i){var o=this.contentEditBox.string;""==o.trim()||o.length<1?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u5185\u5bb9\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u786e\u5b9a\u8fdb\u884c\u6563\u8d22\u6551\u6d4e\u5417\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerGivingRelief(i,o)}.bind(this)),this.hintDialogNode.hintDialogComp.show())},playerGivingRelief:function(t,i){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/givingRelief",{playerId:application.getPlayerId(),type:t,content:escape(i)},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],Government:[function(t,i,o){"use strict";cc._RF.push(i,"785f38K3uZHPpU73YW6pl5a","Government");var e=t("Fragment");cc.Class({extends:e,properties:{},onAdjutantClickCallback:function(t){this.launchFragment("AdjutantList")},onSkillClickCallback:function(t){this.launchFragment("Skill")},onPlayerAdjutantJobChangeClickCallback:function(t){this.launchFragment("PlayerAdjutantJobChange")},onHorseClickCallback:function(t){this.launchFragment("Horse")},onPlayerStateChangeClickCallback:function(t){this.launchFragment("PlayerStateChange")},onBackClickCallback:function(t){this.quitFragment()},onNetowrkMessage:function(t){}}),cc._RF.pop()},{Fragment:"Fragment"}],GroceriesDetail:[function(t,i,o){"use strict";cc._RF.push(i,"6b864gCJ3NMWqmv4NPAi97p","GroceriesDetail");var e=t("Fragment");cc.Class({extends:e,properties:{titleLabel:cc.Label,nameLabel:cc.Label,priceLabel:cc.Label,descriptionLabel:cc.Label,buyNode:cc.Node,silverLabel:cc.Label,buyNumberEditbox:cc.EditBox},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.titleLabel.string=this.getLaunchData().action,"\u6742\u8d27\u8d2d\u4e70"==this.titleLabel.string?this.buyNode.active=!0:this.buyNode.active=!1,this.loadDialogNode.loadDialogComp.show(),network.getGroceriesDetail(this.getLaunchData().groceriesId)},initData:function(){var t=this.groceriesDetail;if(null!=t){this.groceriesId=t.groceriesId,this.nameLabel.string=t.groceriesName,this.priceLabel.string=t.groceriesPrice+"\u94f6\u4e24",this.descriptionLabel.string="\u3000\u3000"+t.groceriesDescription;var i=application.getMain();this.silverLabel.string="\u60a8\u62e5\u6709"+i.playerSilver+"\u94f6\u4e24"}},onMainChange:function(){var t=application.getMain();this.silverLabel.string="\u60a8\u62e5\u6709"+t.playerSilver+"\u94f6\u4e24"},onBackClickCallback:function(t){this.quitFragment()},onBuyClickCallback:function(t){var i=this.buyNumberEditbox.string;util.isNumber(i)?(this.loadDialogNode.loadDialogComp.show(),network.buyGroceries(this.groceriesId,i)):(this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u8d2d\u4e70\u6570\u91cf\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},onNetowrkMessage:function(t){if("groceriesDetail"==t.action&&(this.loadDialogNode.loadDialogComp.dismiss(),this.groceriesDetail=t.data,this.initData()),"buyGroceries"==t.action){if(this.loadDialogNode.loadDialogComp.dismiss(),1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange()}this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}}}),cc._RF.pop()},{Fragment:"Fragment"}],GroupLoginItem:[function(t,i,o){"use strict";cc._RF.push(i,"47f82TdNCdGLJEymup5aVdI","GroupLoginItem");var e=t("MapMini");cc.Class({extends:cc.Component,properties:{chooseNode:cc.Node,nameLabel:cc.Label,mapMini:e},start:function(){},load:function(t){this.httpServerUrl=t.httpServerUrl,this.wsServerUrl=t.wsServerUrl,this.nameLabel.string=t.name,this.mapMini.draw=t.icon,this.setChoose(!1)},setChoose:function(t){if(this.isChoose=t,this.isChoose){var i=cc.Color.BLACK;this.chooseNode.color=i.fromHEX("#FFFFFF")}else{i=cc.Color.BLACK;this.chooseNode.color=i.fromHEX("#919191")}},setOnClickCallback:function(t){this.clickCallback=t},onClickCallback:function(t){null!=this.clickCallback&&this.clickCallback(this)}}),cc._RF.pop()},{MapMini:"MapMini"}],GroupLogin:[function(t,i,o){"use strict";cc._RF.push(i,"8d626l2G6VJV755mznbs7iQ","GroupLogin");var e=t("GroupLoginItem"),a=t("LoadDialog"),n=t("HintDialog");cc.Class({extends:cc.Component,properties:{groupListNode:cc.Node,groupLoginItemPrefab:cc.Prefab,hintDialogPrefab:cc.Prefab,loadDialogPrefab:cc.Prefab},onLoad:function(){network.addScene(this),this.loadDialogNode=cc.instantiate(this.loadDialogPrefab),this.loadDialogNode.parent=this.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent(a),this.hintDialogNode=cc.instantiate(this.hintDialogPrefab),this.hintDialogNode.parent=this.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent(n),this.userId=application.getUserId(),cc.log(this.userId)},onDestroy:function(){network.removeScene(this)},start:function(){this.getGroupList()},getGroupList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendHttpPost("/getGroupList",{code:application.mainVersionCode},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){for(var i=t.data,o=0;o<this.groupListNode.childrenCount;o++){(a=this.groupListNode.children[o]).destroy()}for(o=0;o<i.length;o++){var a,n=i[o];(a=cc.instantiate(this.groupLoginItemPrefab)).groupLoginItemComp=a.getComponent(e),a.groupLoginItemComp.load(n),a.groupLoginItemComp.setOnClickCallback(function(t){this.targetGroup.setChoose(!1),this.targetGroup=t,this.targetGroup.setChoose(!0)}.bind(this)),a.parent=this.groupListNode,0==o&&(this.targetGroup=a.groupLoginItemComp)}this.scheduleOnce(function(){null!=this.targetGroup&&this.targetGroup.setChoose(!0)},.5)}}.bind(this))},onGroupLoginClickCallback:function(t){null!=this.targetGroup?(network.setGameHttpServerUrl(this.targetGroup.httpServerUrl),network.setGameWsServerUrl(this.targetGroup.wsServerUrl),cc.director.loadScene("PlayerLogin")):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u8bf7\u5148\u9009\u62e9\u5206\u533a\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},onBackClickCallback:function(t){cc.director.loadScene("Guide")}}),cc._RF.pop()},{GroupLoginItem:"GroupLoginItem",HintDialog:"HintDialog",LoadDialog:"LoadDialog"}],Guide:[function(t,i,o){"use strict";cc._RF.push(i,"363a5+dOBhEGoPhIXxSUSFn","Guide"),cc.Class({extends:cc.Component,properties:{},start:function(){},onPlayerGameClickCallback:function(t){cc.director.loadScene("UserLogin")},onUserRegisterClickCallback:function(t){cc.director.loadScene("UserRegister")},onAboutClickCallback:function(){cc.sys.openURL("https://www.xcgame520.club")},onCloseClickCallback:function(){cc.game.end()}}),cc._RF.pop()},{}],HintDialog:[function(t,i,o){"use strict";cc._RF.push(i,"1f59aZ82LND2pplOwEjIADf","HintDialog"),cc.Class({extends:cc.Component,properties:{titleLabel:cc.Label,contentLabel:cc.Label,leftButton:cc.Button,leftNameLabel:cc.Label,rightButton:cc.Button,rightNameLabel:cc.Label},onLoad:function(){this.animComp=this.getComponent(cc.Animation),this.node.active=!1,this.node.x=0,this.node.y=0},setTitle:function(t){this.titleLabel.string=t},setContent:function(t){this.contentLabel.string="\u3000\u3000"+t},setContentNoIndent:function(t){this.contentLabel.string=t},show:function(){this.node.active=!0,this.animComp.play()},dismiss:function(){this.node.active=!1},setLeftButtonEnable:function(t){this.leftButton.node.active=t},setRightButtonEnable:function(t){this.rightButton.node.active=t},setRightButtonInteractable:function(t){this.rightButton.interactable=t},setLeftButtonInteractable:function(t){this.leftButton.interactable=t},setLeftButtonName:function(t){this.leftNameLabel.string=t},setRightButtonName:function(t){this.rightNameLabel.string=t},setLeftClickCallback:function(t){this.leftClickCallback=t},setRightClickCallback:function(t){this.rightClickCallback=t},onLeftClickCallback:function(t){null!=this.leftClickCallback&&this.leftClickCallback(this)},onRightClickCallback:function(t){null!=this.rightClickCallback&&this.rightClickCallback(this)},reset:function(){this.node.active=!1,this.node.x=0,this.node.y=0,this.setLeftButtonEnable(!0),this.setRightButtonEnable(!0),this.setLeftButtonInteractable(!0),this.setRightButtonInteractable(!0),this.setLeftClickCallback(null),this.setRightClickCallback(null),this.setTitle("\u6e29\u99a8\u63d0\u793a"),this.setLeftButtonName("\u53d6\u6d88"),this.setLeftButtonName("\u786e\u5b9a")}}),cc._RF.pop()},{}],Home:[function(t,i,o){"use strict";cc._RF.push(i,"f94a9iY15pLkY21dPQWiYeO","Home");var e=t("Fragment"),a=t("PersonHead"),n=t("MainTab"),s=t("MainNpcItem"),l=t("MainFacilityItem"),h=t("MainMoveItem"),d=t("MainMoveBack"),c=t("MainActionItem");cc.Class({extends:e,properties:{playerInfoPageNode:cc.Node,mapGroupPageNode:cc.Node,playerNameLabel:cc.Label,playerInfoLabel:cc.Label,playerPersonHead:a,playerGoldLabel:cc.Label,playerSilverLabel:cc.Label,upGradeNeedExLabel:cc.Label,hpProgresBar:cc.ProgressBar,mpProgresBar:cc.ProgressBar,npcPageNode:cc.Node,facilityPageNode:cc.Node,movePageNode:cc.Node,actionPageNode:cc.Node,npcTab:n,facilityTab:n,moveTab:n,actionTab:n,npcListNode:cc.Node,npcItemPrefab:cc.Prefab,autoMonsterButton:cc.Button,facilityListNode:cc.Node,facilityItemPrefab:cc.Prefab,moveListNode:cc.Node,moveItemPrefab:cc.Prefab,moveBackItemPrefab:cc.Prefab,actionListNode:cc.Node,actionItemPrefab:cc.Prefab,help1PersonHead:a,help2PersonHead:a,help3PersonHead:a,tabTitleSprite:cc.Sprite,npcSpriteFrame:cc.SpriteFrame,moveSpriteFrame:cc.SpriteFrame,facilitySpriteFrame:cc.SpriteFrame,actionSpriteFrame:cc.SpriteFrame,mainPlayerListNode:cc.Node,mainPlayerCountLabel:cc.Label,personHeadPrefab:cc.Prefab,countyNameLabel:cc.Label},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},onWsMessage:function(t){"combatCreate"==t.action&&this.loadDialogNode.loadDialogComp.dismiss(),"lastCombat"==t.action&&(cc.log("asdasdasdas"),this.resetMain()),"createGameInstanceTaskBossCombat"!=t.action&&"createGameInstanceMonsterCombat"!=t.action||(this.loadDialogNode.loadDialogComp.dismiss(),this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},start:function(){network.getLastCombat(),this.onNpcTabClickCallBack(),this.initData()},onQuitFragmentCallback:function(t,i){if("Station"!=t&&"PlayerTask"!=t&&"GamePlayerTaskDetail"!=t&&"Battleground"!=t||!i||(this.onNpcTabClickCallBack(),0==this.main.npcList.length&&(this.onFacilityTabClickCallBack(),0==this.main.facilityList.length&&this.onMoveTabClickCallBack())),"Combat"==t&&i&&network.getLastCombat(),"Task"==t&&i){if("\u4efb\u52a1boss"==i.type){var o=i.taskBossGroupId;this.loadDialogNode.loadDialogComp.show(),network.createTaskBossCombat(o)}if("\u526f\u672c\u4efb\u52a1Boss"==i.type){o=i.taskBossGroupId;this.loadDialogNode.loadDialogComp.show(),network.createGameInstanceTaskBossCombat(o)}if("\u6bcf\u65e5\u4efb\u52a1boss"==i.type){o=i.taskBossGroupId;this.loadDialogNode.loadDialogComp.show(),network.createTaskEverydayBossCombat(o)}}},initData:function(){this.main=application.getMain();var t=this.main;if(null!=t){this.playerNameLabel.string=t.playerName,null==t.help1AdjutantHeadDraw?this.help1PersonHead.node.active=!1:(this.help1PersonHead.node.active=!0,this.help1PersonHead.draw=t.help1AdjutantHeadDraw),null==t.help2AdjutantHeadDraw?this.help2PersonHead.node.active=!1:(this.help2PersonHead.node.active=!0,this.help2PersonHead.draw=t.help2AdjutantHeadDraw),null==t.help3AdjutantHeadDraw?this.help3PersonHead.node.active=!1:(this.help3PersonHead.node.active=!0,this.help3PersonHead.draw=t.help3AdjutantHeadDraw),this.playerPersonHead.draw=t.roleHeadDraw,this.playerInfoLabel.string=t.gradeName+"\u7ea7"+t.jobName,this.playerGoldLabel.string=t.playerGold,this.playerSilverLabel.string=t.playerSilver,this.upGradeNeedExLabel.string=t.upGradeNeedEx+"",this.hpProgresBar.progress=t.hpCurrent/t.hpLimit,this.mpProgresBar.progress=t.mpCurrent/t.mpLimit;for(var i=0;i<this.npcListNode.childrenCount;i++){(o=this.npcListNode.children[i]).destroy()}this.monsterGroupList=[];for(i=0;i<t.npcList.length;i++){var o,e=t.npcList[i];(o=cc.instantiate(this.npcItemPrefab)).npcComp=o.getComponent(s),o.npcComp.load(e,i),"monsterGroup"==e.type&&this.monsterGroupList.push(e),o.npcComp.setOnNameClickCallback(function(t){if("monsterGroup"==t.type){var i={monsterGroupId:t.id,monsterGroupType:t.type};this.launchFragment("MonsterGroup",i)}if("gameInstanceMonsterGroup"==t.type){i={monsterGroupId:t.id,monsterGroupType:t.type};this.launchFragment("MonsterGroup",i)}}.bind(this)),o.npcComp.setOnTypeClickCallback(function(t){if("monsterGroup"==t.type&&(this.loadDialogNode.loadDialogComp.show(),network.createMonsterCombat(t.id)),"gameInstanceMonsterGroup"==t.type&&(this.loadDialogNode.loadDialogComp.show(),network.createGameInstanceMonsterCombat(t.id)),"npc"==t.type)if(t.link)this.launchFragment(t.link);else{var i={npcId:t.id};this.launchFragment("Npc",i)}if("task"==t.type||"gameInstanceTask"==t.type||"taskEveryday"==t.type){i={taskFlowId:t.id,taskType:t.type};this.launchFragment("Task",i)}}.bind(this)),o.parent=this.npcListNode}this.monsterGroupList.length>0?this.autoMonsterButton.node.active=!0:this.autoMonsterButton.node.active=!1;for(i=0;i<this.facilityListNode.childrenCount;i++){(n=this.facilityListNode.children[i]).destroy()}for(i=0;i<t.facilityList.length;i++){var n,r=t.facilityList[i];(n=cc.instantiate(this.facilityItemPrefab)).facilityComp=n.getComponent(l),n.facilityComp.load(r),n.facilityComp.setOnClickCallback(function(t){("\u5b98\u5e9c"==t.name&&this.launchFragment("Government"),"\u533b\u9986"==t.name&&this.launchFragment("Hospital"),"\u94b1\u5e84"==t.name&&this.launchFragment("Bank"),"\u6b66\u5668\u5e97"==t.name&&this.launchFragment("Arsenal"),"\u94c1\u5320\u94fa"==t.name&&this.launchFragment("Smithy"),"\u9986\u9a7f"==t.name&&this.launchFragment("Station"),"\u5e7f\u573a"==t.name&&this.launchFragment("Plaza"),"\u6218\u573a"==t.name&&this.launchFragment("Battleground"),"\u77ff\u6d1e"==t.name&&this.launchFragment("Dig"),"\u5b9d\u85cf"==t.name)&&(application.getMain().gradeName<10?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u7684\u7b49\u7ea7\u4e0d\u591f10\u7ea7\uff0c\u65e0\u6cd5\u53c2\u52a0\u62a2\u5b9d\u6d3b\u52a8\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):this.launchFragment("RobTreasure"))}.bind(this)),n.parent=this.facilityListNode}this.countyNameLabel.string=t.countyName;for(i=0;i<this.moveListNode.childrenCount;i++){(m=this.moveListNode.children[i]).destroy()}for(i=0;i<t.moveList.length;i++){(g=t.moveList[i]).moveType=t.moveType,(m=cc.instantiate(this.moveItemPrefab)).moveComp=m.getComponent(h),m.moveComp.load(g),m.moveComp.setOnClickCallback(function(t){this.move(t.toRegionId,t.moveType)}.bind(this)),m.parent=this.moveListNode}var g,m;if(t.countyCapitalRegionId!=t.regionId)(g={}).id=t.regionId,g.toRegionId=t.countyCapitalRegionId,g.toRegionName="\u8fd4\u56de"+t.countyCapitalRegionName,g.toRegionDraw=t.countyCapitalRegionDraw,g.moveType=t.moveType,(m=cc.instantiate(this.moveBackItemPrefab)).moveComp=m.getComponent(d),m.moveComp.load(g),m.moveComp.setOnClickCallback(function(t){this.move(t.toRegionId,t.moveType)}.bind(this)),m.parent=this.moveListNode;for(i=0;i<this.actionListNode.childrenCount;i++){(p=this.actionListNode.children[i]).destroy()}for(i=0;i<t.actionList.length;i++){var p,D=t.actionList[i];(p=cc.instantiate(this.actionItemPrefab)).actionComp=p.getComponent(c),p.actionComp.load(D),p.actionComp.setOnClickCallback(function(t){"\u72b6\u6001"==t.name&&this.launchFragment("PlayerDetail"),"\u80cc\u5305"==t.name&&this.launchFragment("Backpack"),"\u526f\u5c06"==t.name&&this.launchFragment("PlayerAdjutantList"),"\u6218\u9a6c"==t.name&&this.launchFragment("PlayerHorseList"),"\u4efb\u52a1"==t.name&&this.launchFragment("PlayerTask"),"\u5b9d\u5e93"==t.name&&this.launchFragment("TreasureList"),"\u6392\u884c"==t.name&&this.launchFragment("Rank"),"\u64c2\u53f0"==t.name&&this.launchFragment("Arena"),"\u6559\u6d3e"==t.name&&this.launchFragment("SectList"),"\u8bad\u7ec3"==t.name&&this.launchFragment("Training"),"\u597d\u53cb"==t.name&&this.launchFragment("Friend"),"\u8865\u7ed9"==t.name&&this.launchFragment("Vip"),"\u6253\u8d4f"==t.name&&this.launchFragment("Pay"),"\u767b\u51fa"==t.name&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u5c06\u8fd4\u56de\u5230\u767b\u5f55\u9875\u9762\uff0c\u662f\u5426\u767b\u51fa\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),cc.director.loadScene("Guide"),network.gameWsDisconnect()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this)),p.parent=this.actionListNode}this.mainPlayerCountLabel.string="\u66f4\u591a("+t.inTheRegionPlayerCount+")";for(i=0;i<this.mainPlayerListNode.childrenCount;i++){this.mainPlayerListNode.children[i].destroy()}var C=t.playerList;for(i=0;i<C.length;i++){var u=C[i],b=cc.instantiate(this.personHeadPrefab);b.personHeadComp=b.getComponent(a),b.personHeadComp.id=u.id,b.personHeadComp.draw=u.headDraw,b.personHeadComp.playerInfo=u,b.personHeadComp.setOnClickCallback(function(t){this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.id=t.id,this.hintDialogNode.hintDialogComp.setTitle("\u73a9\u5bb6\u4fe1\u606f"),this.hintDialogNode.hintDialogComp.setContentNoIndent(t.playerInfo.name+"  "+t.playerInfo.gradeName+"\u7ea7"+t.playerInfo.jobName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u67e5\u770b\u8be6\u60c5"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){if(t.dismiss(),application.getPlayerId()==t.id)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:t.id};this.launchFragment("PlayerOtherDetail",i)}}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this)),b.parent=this.mainPlayerListNode}if(0==t.npcList.length?this.npcTab.setDisable(!0):this.npcTab.setDisable(!1),0==t.facilityList.length?this.facilityTab.setDisable(!0):this.facilityTab.setDisable(!1),0==t.npcList.length)this.onFacilityTabClickCallBack(),0==t.facilityList.length&&this.onMoveTabClickCallBack();else for(i=0;i<t.npcList.length;i++){if((e=t.npcList[i]).remind){this.onNpcTabClickCallBack();break}}}},onMainChange:function(){this.initData()},onNpcTabClickCallBack:function(t){"npc"!=this.openTabName&&(this.openTabName="npc",this.npcTab.setCheck(!0),this.facilityTab.setCheck(!1),this.moveTab.setCheck(!1),this.actionTab.setCheck(!1),this.playerInfoPageNode.active=!0,this.mapGroupPageNode.active=!1,this.npcPageNode.active=!0,this.facilityPageNode.active=!1,this.movePageNode.active=!1,this.actionPageNode.active=!1,this.tabTitleSprite.spriteFrame=this.npcSpriteFrame)},onFacilityTabClickCallBack:function(t){"facility"!=this.openTabName&&(this.openTabName="facility",this.npcTab.setCheck(!1),this.facilityTab.setCheck(!0),this.moveTab.setCheck(!1),this.actionTab.setCheck(!1),this.playerInfoPageNode.active=!0,this.mapGroupPageNode.active=!1,this.npcPageNode.active=!1,this.facilityPageNode.active=!0,this.movePageNode.active=!1,this.actionPageNode.active=!1,this.tabTitleSprite.spriteFrame=this.facilitySpriteFrame)},onMoveTabClickCallBack:function(t){"move"!=this.openTabName&&(this.openTabName="move",this.npcTab.setCheck(!1),this.facilityTab.setCheck(!1),this.moveTab.setCheck(!0),this.actionTab.setCheck(!1),this.playerInfoPageNode.active=!1,this.mapGroupPageNode.active=!0,this.npcPageNode.active=!1,this.facilityPageNode.active=!1,this.movePageNode.active=!0,this.actionPageNode.active=!1,this.tabTitleSprite.spriteFrame=this.moveSpriteFrame)},onFunctionTabClickCallBack:function(t){"function"!=this.openTabName&&(this.openTabName="function",this.npcTab.setCheck(!1),this.facilityTab.setCheck(!1),this.moveTab.setCheck(!1),this.actionTab.setCheck(!0),this.playerInfoPageNode.active=!0,this.mapGroupPageNode.active=!1,this.npcPageNode.active=!1,this.facilityPageNode.active=!1,this.movePageNode.active=!1,this.actionPageNode.active=!0,this.tabTitleSprite.spriteFrame=this.actionSpriteFrame)},onInRegionClickCallback:function(t){var i={regionId:this.main.regionId};this.launchFragment("MainPlayerList",i)},move:function(t,i){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main/move",{playerId:application.getPlayerId(),regionId:t,moveType:i},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))},onAutoMonsterClickCallback:function(t){var i={monsterGroupList:this.monsterGroupList};this.launchFragment("MonsterAuto",i)}}),cc._RF.pop()},{Fragment:"Fragment",MainActionItem:"MainActionItem",MainFacilityItem:"MainFacilityItem",MainMoveBack:"MainMoveBack",MainMoveItem:"MainMoveItem",MainNpcItem:"MainNpcItem",MainTab:"MainTab",PersonHead:"PersonHead"}],HorseDetail:[function(t,i,o){"use strict";cc._RF.push(i,"6c7f9D2FyJMOrtb/4r1eUc1","HorseDetail");var e=t("Fragment"),a=t("HorseFace");cc.Class({extends:e,properties:{nameLabel:cc.Label,levelLabel:cc.Label,horseFace:a,growthRateLabel:cc.Label,physiqueRateLabel:cc.Label,mindRateLabel:cc.Label,strengthRateLabel:cc.Label,agilityRateLabel:cc.Label,descriptionLabel:cc.Label},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.horseId=this.getLaunchData().horseId,this.horseDetail()},initData:function(){if(null!=this.data){var t=this.data;this.nameLabel.string=t.name,this.levelLabel.string=t.level+"\u9636",this.growthRateLabel.string=t.minGrowthRate+"-"+t.maxGrowthRate,this.physiqueRateLabel.string=t.minPhysiqueRate+"-"+t.maxPhysiqueRate,this.mindRateLabel.string=t.minMindRate+"-"+t.maxMindRate,this.strengthRateLabel.string=t.minStrengthRate+"-"+t.maxStrengthRate,this.agilityRateLabel.string=t.minAgilityRate+"-"+t.maxAgilityRate,this.descriptionLabel.string="\u3000\u3000"+t.description,this.horseFace.draw=t.faceDraw}},onBackClickCallback:function(t){this.quitFragment()},horseDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/horse/detail",{horseId:this.horseId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment",HorseFace:"HorseFace"}],HorseFace:[function(t,i,o){"use strict";cc._RF.push(i,"b439bq4CQdM16U3Obk93+9L","HorseFace"),cc.Class({extends:cc.Component,properties:{_draw:{default:""},draw:{get:function(){return this._draw},set:function(t){var i=this._draw;this._draw=t.toString(),this._draw!==i&&this._updateRenderData()}}},onLoad:function(){this.spriteComp=this.getComponent(cc.Sprite)},start:function(){this._updateRenderData()},_updateRenderData:function(){this.spriteComp&&this._draw&&cc.loader.loadRes("textures/horse/face/"+this._draw,cc.SpriteFrame,function(t,i){null==t&&(this.spriteComp.spriteFrame=i)}.bind(this))}}),cc._RF.pop()},{}],HorseRecruit:[function(t,i,o){"use strict";cc._RF.push(i,"47e156Pi59JTKVb+dDU9brH","HorseRecruit");var e=t("Fragment");cc.Class({extends:e,properties:{ptxflNumLabel:cc.Label,gjxflNumLabel:cc.Label},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.horsePlayerRecruitPrepare()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){if(null!=this.data){var t=this.data;this.ptxflNumLabel.string="\u666e\u901a\u9a6f\u670d\u4ee4("+t.ptxflTreasureNum+")",this.gjxflNumLabel.string="\u9ad8\u7ea7\u9a6f\u670d\u4ee4("+t.gjxflTreasureNum+")"}},onRecruitClickCallback:function(t,i){this.adjutantPlayerRecruit(i)},horsePlayerRecruitPrepare:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/horse/playerRecruitPrepare",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},adjutantPlayerRecruit:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/horse/playerRecruit",{recruitType:t,playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.horsePlayerRecruitPrepare()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],Horse:[function(t,i,o){"use strict";cc._RF.push(i,"838317hk11NT5uOLVeIDLil","Horse");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{listNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.horsePlayerList()},onBackClickCallback:function(t){this.quitFragment()},onRecruitClickCallback:function(t){this.launchFragment("HorseRecruit")},initData:function(){var t=this.data.horseList;if(null!=t){for(var i=0;i<this.listNode.childrenCount;i++){this.listNode.children[i].destroy()}for(i=0;i<t.length;i++){var o=t[i],e=cc.instantiate(this.commonItemPrefab);e.commonItemComp=e.getComponent(a),e.commonItemComp.id=o.id,e.commonItemComp.setName(o.name),e.commonItemComp.setInfo(o.level+"\u9636"),e.commonItemComp.setActionEnable(!1),e.commonItemComp.setOnActionClickCallback(function(t){}.bind(this)),e.commonItemComp.setOnNameClickCallback(function(t){var i={horseId:t.id};this.launchFragment("HorseDetail",i)}.bind(this)),e.parent=this.listNode}}},horsePlayerList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/horse/playerList",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],HospitalBag:[function(t,i,o){"use strict";cc._RF.push(i,"459045x8jpD5aqpCkrY21pq","HospitalBag");var e=t("Fragment");cc.Class({extends:e,properties:{hpBagLabel:cc.Label,mpBagLabel:cc.Label,silverLabel:cc.Label,buyNumberEditbox:cc.EditBox},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.drugBag()},initData:function(){var t=this.data;null!=t&&(this.hpBagLabel.string=t.hpBag+"",this.mpBagLabel.string=t.mpBag+"",this.silverLabel.string="\u60a8\u62e5\u6709"+t.sliver+"\u94f6\u4e24")},onBackClickCallback:function(t){this.quitFragment()},onBuyClickCallback:function(t,i){var o=this.buyNumberEditbox.string;util.isNumber(o)?("hp"==i&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u786e\u5b9a\u8981\u82b1\u8d39"+o+"\u94f6\u4e24\u6765\u8865\u5145"+10*o+"\u70b9\u6c14\u8840\u50a8\u5907\u5417\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.drugBagBuy(o,"hp")}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"mp"==i&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u786e\u5b9a\u8981\u82b1\u8d39"+o+"\u94f6\u4e24\u6765\u8865\u5145"+10*o+"\u70b9\u7cbe\u529b\u50a8\u5907\u5417\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.drugBagBuy(o,"mp")}.bind(this)),this.hintDialogNode.hintDialogComp.show())):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u8865\u5145\u94f6\u4e24\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},drugBag:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/drug/bag",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},drugBagBuy:function(t,i){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/drug/bagBuy",{type:i,playerId:application.getPlayerId(),buyNumber:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.drugBag()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],Hospital:[function(t,i,o){"use strict";cc._RF.push(i,"d70bfBbzIZPNpPR1d6ZP4x6","Hospital");var e=t("Fragment");cc.Class({extends:e,properties:{freeTreatmentNode:cc.Node,treatmentNode:cc.Node},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},start:function(){this.initData()},onMainChange:function(){this.initData()},initData:function(){application.getMain().gradeName>10?(this.treatmentNode.active=!0,this.freeTreatmentNode.active=!1):(this.treatmentNode.active=!1,this.freeTreatmentNode.active=!0)},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},onAddHpDrugClickCallback:function(t){this.launchFragment("DrugList",{drugType:"\u52a0HP"})},onAddMpDrugClickCallback:function(t){this.launchFragment("DrugList",{drugType:"\u52a0MP"})},onBagClickCallback:function(t){this.launchFragment("HospitalBag")},onDrugSellClickCallback:function(t){this.launchFragment("PlayerDrugSellChoose")},onBackClickCallback:function(t){this.quitFragment()},onFreeTreatmentClickCallback:function(){this.drugFreeTreatment()},onTreatmentClickCallback:function(){this.drugTreatment()},drugFreeTreatment:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/drug/freeTreatment",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},drugTreatment:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/drug/treatment",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],KitDetail:[function(t,i,o){"use strict";cc._RF.push(i,"e8380Z7QRJIMby1jWcimjNl","KitDetail");var e=t("Fragment");cc.Class({extends:e,properties:{titleLabel:cc.Label,nameLabel:cc.Label,priceLabel:cc.Label,gradeNameLabel:cc.Label,constraintGradeNameLabel:cc.Label,effectLabel:cc.Label,descriptionLabel:cc.Label,buyNode:cc.Node,silverLabel:cc.Label,buyNumberEditbox:cc.EditBox},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.titleLabel.string=this.getLaunchData().action,"\u88c5\u5907\u8d2d\u4e70"==this.titleLabel.string?this.buyNode.active=!0:this.buyNode.active=!1,this.kitId=this.getLaunchData().kitId,this.kitDetail()},initData:function(){var t=this.data;if(null!=t){this.nameLabel.string=t.name,this.priceLabel.string=t.price+"\u94f6\u4e24",this.gradeNameLabel.string=t.gradeName+"\u7ea7",this.constraintGradeNameLabel.string=t.constraintGradeName+"\u7ea7";for(var i=JSON.parse(t.effectList),o="",e=0;e<i.length;e++){e>0&&(o+="\n");var a=i[e];o=o+a.type+"+"+a.effectOfType}this.effectLabel.string=o,this.descriptionLabel.string="    "+t.description;var n=application.getMain();this.silverLabel.string="\u60a8\u62e5\u6709"+n.playerSilver+"\u94f6\u4e24"}},onMainChange:function(){var t=application.getMain();this.silverLabel.string="\u60a8\u62e5\u6709"+t.playerSilver+"\u94f6\u4e24"},onBackClickCallback:function(t){this.quitFragment()},onBuyClickCallback:function(t){var i=this.buyNumberEditbox.string;util.isNumber(i)?this.kitPlayerBuy(i):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u8d2d\u4e70\u6570\u91cf\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},kitDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/kit/detail",{kitId:this.kitId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},kitPlayerBuy:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/kit/playerBuy",{kitId:this.kitId,playerId:application.getPlayerId(),buyNumber:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],KitList:[function(t,i,o){"use strict";cc._RF.push(i,"9768fqoP/hKeasb8cnVaoze","KitList");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{titleLabel:cc.Label,kitListNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.titleLabel.string=this.getLaunchData().action,this.kitClassify=this.getLaunchData().kitClassify,this.getLaunchData().type?this.type=this.getLaunchData().type:this.type="",this.kitList()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){var t=this.data.kitList;if(null!=t)for(var i=0;i<t.length;i++){var o=t[i],e=cc.instantiate(this.commonItemPrefab);e.commonItemComp=e.getComponent(a),e.commonItemComp.id=o.id,e.commonItemComp.setName(o.name),e.commonItemComp.setInfo(o.price+"\u94f6\u4e24"),e.commonItemComp.setAction("\u8d2d\u4e70"),e.commonItemComp.setOnNameClickCallback(function(t){var i={action:"\u88c5\u5907\u8be6\u60c5",kitId:t.id};this.launchFragment("KitDetail",i)}.bind(this)),e.commonItemComp.setOnActionClickCallback(function(t){var i={action:"\u88c5\u5907\u8d2d\u4e70",kitId:t.id};this.launchFragment("KitDetail",i)}.bind(this)),e.parent=this.kitListNode}},kitList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/kit/list",{playerId:application.getPlayerId(),kitClassify:this.kitClassify,type:this.type},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],KitType:[function(t,i,o){"use strict";cc._RF.push(i,"72f8a1v7zNPyoQbhy+mBBcO","KitType");var e=t("Fragment");cc.Class({extends:e,properties:{titleLabel:cc.Label},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy()},start:function(){this.titleLabel.string=this.getLaunchData().action},onBackClickCallback:function(t){this.quitFragment()},onTypeClickCallback:function(t,i){var o={action:this.getLaunchData().action,kitClassify:this.getLaunchData().kitClassify,type:i};this.launchFragment("KitList",o)}}),cc._RF.pop()},{Fragment:"Fragment"}],LoadDialog:[function(t,i,o){"use strict";cc._RF.push(i,"2212dbYsGtBCrvXcP6X+O8S","LoadDialog"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.animComp=this.getComponent(cc.Animation),this.node.active=!1,this.node.x=0,this.node.y=0},show:function(){this.node.active=!0,this.animComp.play()},dismiss:function(){this.animComp.stop(),this.node.active=!1}}),cc._RF.pop()},{}],MainActionItem:[function(t,i,o){"use strict";cc._RF.push(i,"93bfc1qmkdIwqAYGDI2pBoh","MainActionItem"),cc.Class({extends:cc.Component,properties:{mName:"\u529f\u80fd",nameLabel:cc.Label},start:function(){},load:function(t){this.name=t.name,this.nameLabel.string=this.name},setOnClickCallback:function(t){this.clickCallback=t},onClickCallback:function(t){null!=this.clickCallback&&this.clickCallback(this)}}),cc._RF.pop()},{}],MainChat:[function(t,i,o){"use strict";cc._RF.push(i,"a3ef5NOtHdJoIXbPV+Ah/w4","MainChat"),cc.Class({extends:cc.Component,properties:{sendChatButton:cc.Button,chatItemPrefab:cc.Prefab,chatSystemItemPrefab:cc.Prefab,worldLabel:cc.Label,organizationLabel:cc.Label,businessLabel:cc.Label,systemLabel:cc.Label,worldSprite:cc.Sprite,organizationSprite:cc.Sprite,businessSprite:cc.Sprite,systemSprite:cc.Sprite,chatPanelNode:cc.Node,worldNode:cc.Node,worldChatScrollView:cc.ScrollView,worldChatListNode:cc.Node,organizationNode:cc.Node,organizationChatScrollView:cc.ScrollView,organizationChatListNode:cc.Node,businessNode:cc.Node,businessChatScrollView:cc.ScrollView,businessChatListNode:cc.Node,systemNode:cc.Node,systemChatScrollView:cc.ScrollView,systemChatListNode:cc.Node,chatDialogPrefab:cc.Prefab},onLoad:function(){this.chatPanelNode.height=cc.winSize.height-90,this.chatDialogNode=cc.instantiate(this.chatDialogPrefab),this.chatDialogNode.parent=this.context.node,this.chatDialogNode.chatDialogComp=this.chatDialogNode.getComponent("ChatDialog"),this.hintDialogNode=this.context.hintDialogNode,this.isTypeCombat=!1},start:function(){this.type="\u4e16",this.initView()},initView:function(){if("\u4e16"==this.type){var t=cc.Color.BLACK;this.worldLabel.node.color=t.fromHEX("#FFFFFF"),this.worldSprite.node.active=!0,this.organizationSprite.node.active=!1,this.businessSprite.node.active=!1,this.systemSprite.node.active=!1,this.worldNode.active=!0,this.organizationNode.active=!1,this.businessNode.active=!1,this.systemNode.active=!1,this.worldNode.opacity=255,this.organizationNode.opacity=0,this.businessNode.opacity=0,this.systemNode.opacity=0}if("\u6d3e"==this.type){t=cc.Color.BLACK;this.organizationLabel.node.color=t.fromHEX("#FFFFFF"),this.worldSprite.node.active=!1,this.organizationSprite.node.active=!0,this.businessSprite.node.active=!1,this.systemSprite.node.active=!1,this.worldNode.active=!1,this.organizationNode.active=!0,this.businessNode.active=!1,this.systemNode.active=!1,this.worldNode.opacity=0,this.organizationNode.opacity=255,this.businessNode.opacity=0,this.systemNode.opacity=0}if("\u5546"==this.type){t=cc.Color.BLACK;this.businessLabel.node.color=t.fromHEX("#FFFFFF"),this.worldSprite.node.active=!1,this.organizationSprite.node.active=!1,this.businessSprite.node.active=!0,this.systemSprite.node.active=!1,this.worldNode.active=!1,this.organizationNode.active=!1,this.businessNode.active=!0,this.systemNode.active=!1,this.worldNode.opacity=0,this.organizationNode.opacity=0,this.businessNode.opacity=255,this.systemNode.opacity=0}if("\u7cfb"==this.type){t=cc.Color.BLACK;this.systemLabel.node.color=t.fromHEX("#FFFFFF"),this.worldSprite.node.active=!1,this.organizationSprite.node.active=!1,this.businessSprite.node.active=!1,this.systemSprite.node.active=!0,this.worldNode.active=!1,this.organizationNode.active=!1,this.businessNode.active=!1,this.systemNode.active=!0,this.worldNode.opacity=0,this.organizationNode.opacity=0,this.businessNode.opacity=0,this.systemNode.opacity=255}},onTypeClickCallback:function(t,i){this.type=i,this.initView()},onChatPanelClickCallback:function(t){if(!this.isTypeCombat&&!this.isOpenChatPanel){this.isOpenChatPanel=!0,this.sendChatButton.node.active=!1,this.worldChatScrollView.enabled=!0,this.organizationChatScrollView.enabled=!0,this.businessChatScrollView.enabled=!0,this.systemChatScrollView.enabled=!0;var i=cc.moveTo(.2,0,0);this.chatPanelNode.runAction(i)}},onChatPanelQuitClickCallback:function(t){this.isOpenChatPanel&&(this.worldChatScrollView.scrollToTop(.1),this.organizationChatScrollView.scrollToTop(.1),this.businessChatScrollView.scrollToTop(.1),this.systemChatScrollView.scrollToTop(.1),this.scheduleOnce(function(){this.worldChatScrollView.enabled=!1,this.organizationChatScrollView.enabled=!1,this.businessChatScrollView.enabled=!1,this.systemChatScrollView.enabled=!1;var t=cc.callFunc(function(){this.isOpenChatPanel=!1,this.sendChatButton.node.active=!0},this,0),i=cc.sequence(cc.moveTo(.2,0,-1097),t);this.chatPanelNode.runAction(i)},.1))},setTypeOfCombat:function(){this.isTypeCombat=!0,this.sendChatButton.node.active=!0,this.chatPanelNode.y=-1132,this.worldChatScrollView.enabled=!1,this.organizationChatScrollView.enabled=!1,this.businessChatScrollView.enabled=!1,this.systemChatScrollView.enabled=!1},resetTypeOfCombat:function(){this.isTypeCombat=!1,this.isOpenChatPanel?(this.sendChatButton.node.active=!1,this.worldChatScrollView.enabled=!0,this.organizationChatScrollView.enabled=!0,this.businessChatScrollView.enabled=!0,this.systemChatScrollView.enabled=!0,this.chatPanelNode.y=0):(this.sendChatButton.node.active=!0,this.worldChatScrollView.enabled=!1,this.organizationChatScrollView.enabled=!1,this.businessChatScrollView.enabled=!1,this.systemChatScrollView.enabled=!1,this.chatPanelNode.y=-1097)},initWorldChat:function(){for(var t=0;t<this.worldChatListNode.childrenCount;t++){this.worldChatListNode.children[t].destroy()}for(t=1;t<=this.context.worldChatList.length;t++){var i=this.context.worldChatList[this.context.worldChatList.length-t],o=cc.instantiate(this.chatItemPrefab);o.chatItemComp=o.getComponent("ChatItem"),o.chatItemComp.load(this.context,i),o.parent=this.worldChatListNode,o.chatItemComp.setFaceClickCallback(function(t){if(this.worldChatScrollView.enabled)if(application.getPlayerId()==t.playerId)this.context.launchFragment("PlayerDetail");else{var i={otherPlayerId:t.playerId};this.context.launchFragment("PlayerOtherDetail",i)}}.bind(this))}},initMarketChat:function(){for(var t=0;t<this.businessChatListNode.childrenCount;t++){this.businessChatListNode.children[t].destroy()}for(t=1;t<=this.context.marketChatList.length;t++){var i=this.context.marketChatList[this.context.marketChatList.length-t],o=cc.instantiate(this.chatItemPrefab);o.chatItemComp=o.getComponent("ChatItem"),o.chatItemComp.load(this.context,i),o.parent=this.businessChatListNode,o.chatItemComp.setFaceClickCallback(function(t){if(this.worldChatScrollView.enabled)if(application.getPlayerId()==t.playerId)this.context.launchFragment("PlayerDetail");else{var i={otherPlayerId:t.playerId};this.context.launchFragment("PlayerOtherDetail",i)}}.bind(this))}},initSectChat:function(){for(var t=0;t<this.organizationChatListNode.childrenCount;t++){this.organizationChatListNode.children[t].destroy()}for(t=1;t<=this.context.sectChatList.length;t++){var i=this.context.sectChatList[this.context.sectChatList.length-t],o=cc.instantiate(this.chatItemPrefab);o.chatItemComp=o.getComponent("ChatItem"),o.chatItemComp.load(this.context,i),o.parent=this.organizationChatListNode,o.chatItemComp.setFaceClickCallback(function(t){if(this.organizationChatScrollView.enabled)if(application.getPlayerId()==t.playerId)this.context.launchFragment("PlayerDetail");else{var i={otherPlayerId:t.playerId};this.context.launchFragment("PlayerOtherDetail",i)}}.bind(this))}},initSystemChat:function(){for(var t=0;t<this.systemChatListNode.childrenCount;t++){this.systemChatListNode.children[t].destroy()}for(t=1;t<=this.context.systemChatList.length;t++){var i=this.context.systemChatList[this.context.systemChatList.length-t],o=cc.instantiate(this.chatSystemItemPrefab);o.chatSystemItemComp=o.getComponent("ChatSystemItem"),o.chatSystemItemComp.load(this.context,i),o.parent=this.systemChatListNode}},addWorldChat:function(t){if("\u4e16"!=this.type){var i=cc.Color.BLACK;this.worldLabel.node.color=i.fromHEX("#FF0000")}var o=cc.instantiate(this.chatItemPrefab);o.chatItemComp=o.getComponent("ChatItem"),o.chatItemComp.load(this.context,t),o.parent=this.worldChatListNode,o.chatItemComp.setFaceClickCallback(function(t){if(this.worldChatScrollView.enabled)if(application.getPlayerId()==t.playerId)this.context.launchFragment("PlayerDetail");else{var i={otherPlayerId:t.playerId};this.context.launchFragment("PlayerOtherDetail",i)}}.bind(this)),this.worldChatListNode.childrenCount>50&&this.worldChatListNode.children[0].destroy()},addMarketChat:function(t){if("\u5546"!=this.type){var i=cc.Color.BLACK;this.businessLabel.node.color=i.fromHEX("#FF0000")}var o=cc.instantiate(this.chatItemPrefab);o.chatItemComp=o.getComponent("ChatItem"),o.chatItemComp.load(this.context,t),o.parent=this.businessChatListNode,o.chatItemComp.setFaceClickCallback(function(t){if(this.worldChatScrollView.enabled)if(application.getPlayerId()==t.playerId)this.context.launchFragment("PlayerDetail");else{var i={otherPlayerId:t.playerId};this.context.launchFragment("PlayerOtherDetail",i)}}.bind(this)),this.businessChatListNode.childrenCount>50&&this.businessChatListNode.children[0].destroy()},addSectChat:function(t){if("\u6d3e"!=this.type){var i=cc.Color.BLACK;this.organizationLabel.node.color=i.fromHEX("#FF0000")}var o=cc.instantiate(this.chatItemPrefab);o.chatItemComp=o.getComponent("ChatItem"),o.chatItemComp.load(this.context,t),o.parent=this.organizationChatListNode,o.chatItemComp.setFaceClickCallback(function(t){if(this.organizationChatScrollView.enabled)if(application.getPlayerId()==t.playerId)this.context.launchFragment("PlayerDetail");else{var i={otherPlayerId:t.playerId};this.context.launchFragment("PlayerOtherDetail",i)}}.bind(this)),this.organizationChatListNode.childrenCount>50&&this.organizationChatListNode.children[0].destroy()},addSystemChat:function(t){if("\u7cfb"!=this.type){var i=cc.Color.BLACK;this.systemLabel.node.color=i.fromHEX("#FF0000")}var o=cc.instantiate(this.chatSystemItemPrefab);o.chatItemComp=o.getComponent("ChatSystemItem"),o.chatItemComp.load(this.context,t),o.parent=this.systemChatListNode,this.systemChatListNode.childrenCount>50&&this.systemChatListNode.children[0].destroy()},onChatClickCallback:function(t){if("\u7cfb"==this.type)return this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u6b64\u9891\u9053\u65e0\u6cd5\u53d1\u8a00\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),void this.hintDialogNode.hintDialogComp.show();this.chatDialogNode.chatDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.chatDialogNode.chatDialogComp.setRightClickCallback(function(t,i){if(t.dismiss(),""==i.trim()||i.length<1)this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u5185\u5bb9\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show();else{var o;if("\u4e16"==this.type)(o=application.getMain()).gradeName>=10?network.sendChatWorld(escape(i)):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u7b49\u7ea7\u5927\u4e8e\u7b49\u4e8e10\u7ea7\u624d\u80fd\u5728\u4e16\u754c\u9891\u9053\u53d1\u8a00\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show());if("\u5546"==this.type)(o=application.getMain()).gradeName>=10?network.sendChatMarket(escape(i)):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u7684\u7b49\u7ea7\u4e0d\u591f10\u7ea7\uff0c\u4e0d\u80fd\u5728\u5546\u4e1a\u9891\u9053\u53d1\u8a00\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show());if("\u6d3e"==this.type)(o=application.getMain()).sectId?network.sendChatSect(o.sectId,escape(i)):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u672a\u52a0\u5165\u6559\u6d3e\uff0c\u65e0\u6cd5\u5728\u6559\u6d3e\u9891\u9053\u53d1\u8a00\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}}.bind(this)),this.chatDialogNode.chatDialogComp.show()}}),cc._RF.pop()},{}],MainFacilityItem:[function(t,i,o){"use strict";cc._RF.push(i,"7824cVGmVNJoLFfYREOoCh3","MainFacilityItem"),cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label,iconSprite:cc.Sprite},start:function(){},load:function(t){this.name=t.name,this.draw=t.draw,this.nameLabel.string=this.name,this.iconSprite&&this.draw&&cc.loader.loadRes("textures/facility/"+this.draw,cc.SpriteFrame,function(t,i){this.iconSprite.spriteFrame=null==t&&i?i:null}.bind(this))},onClickCallback:function(t){null!=this.clickCallback&&this.clickCallback(this)},setOnClickCallback:function(t){this.clickCallback=t}}),cc._RF.pop()},{}],MainMoveBack:[function(t,i,o){"use strict";cc._RF.push(i,"96c8b0khy1LLru/R/Gw1gES","MainMoveBack");var e=t("MapIcon");cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label,lightSprite:cc.Sprite,moveMapIcon:e},onLoad:function(){this.startClickCallback=function(){this.lightSprite.node.active=!0},this.endClickCallback=function(){this.lightSprite.node.active=!1,null!=this.clickCallback&&this.clickCallback(this)},this.cancelClickCallback=function(){this.lightSprite.node.active=!1,null!=this.clickCallback&&this.clickCallback(this)}},start:function(){},onEnable:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.startClickCallback,this),this.node.on(cc.Node.EventType.TOUCH_END,this.endClickCallback,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.cancelClickCallback,this)},onDisable:function(){this.node.off(cc.Node.EventType.TOUCH_START,this.startClickCallback,this),this.node.off(cc.Node.EventType.TOUCH_END,this.endClickCallback,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.cancelClickCallback,this)},load:function(t){this.id=t.id,this.orientation=t.orientation,this.toRegionId=t.toRegionId,this.toRegionName=t.toRegionName,this.toRegionDraw=t.toRegionDraw,this.moveType=t.moveType,this.nameLabel.string=this.toRegionName,this.moveMapIcon.draw=this.toRegionDraw},setOnClickCallback:function(t){this.clickCallback=t}}),cc._RF.pop()},{MapIcon:"MapIcon"}],MainMoveItem:[function(t,i,o){"use strict";cc._RF.push(i,"bd7edoaHEVNdZQH/I6KFTic","MainMoveItem");var e=t("MapIcon");cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label,arrowSprite:cc.Sprite,lightSprite:cc.Sprite,moveMapIcon:e},onLoad:function(){this.startClickCallback=function(){this.lightSprite.node.active=!0},this.endClickCallback=function(){this.lightSprite.node.active=!1,null!=this.clickCallback&&this.clickCallback(this)},this.cancelClickCallback=function(){this.lightSprite.node.active=!1,null!=this.clickCallback&&this.clickCallback(this)}},start:function(){},onEnable:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.startClickCallback,this),this.node.on(cc.Node.EventType.TOUCH_END,this.endClickCallback,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.cancelClickCallback,this)},onDisable:function(){this.node.off(cc.Node.EventType.TOUCH_START,this.startClickCallback,this),this.node.off(cc.Node.EventType.TOUCH_END,this.endClickCallback,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.cancelClickCallback,this)},load:function(t){this.id=t.id,this.orientation=t.orientation,this.toRegionId=t.toRegionId,this.toRegionName=t.toRegionName,this.toRegionDraw=t.toRegionDraw,this.moveType=t.moveType,"\u5de6"==this.orientation&&(this.arrowSprite.node.rotation=-90),"\u4e0a"==this.orientation&&(this.arrowSprite.node.rotation=0),"\u53f3"==this.orientation&&(this.arrowSprite.node.rotation=90),"\u4e0b"==this.orientation&&(this.arrowSprite.node.rotation=180),this.nameLabel.string=this.toRegionName,this.moveMapIcon.draw=this.toRegionDraw},setOnClickCallback:function(t){this.clickCallback=t}}),cc._RF.pop()},{MapIcon:"MapIcon"}],MainNotify:[function(t,i,o){"use strict";cc._RF.push(i,"822d1GYLutC3p2PPxW6PJAq","MainNotify"),cc.Class({extends:cc.Component,properties:{iconAnimation:cc.Animation},start:function(){},play:function(t,i,o,e){this.node.active=!0,this.context=t,this.notify=i,this.hintDialogNode=o,this.loadDialogNode=e,"system"==this.notify.type&&this.iconAnimation.play("MainNotifySystem"),"friend"==this.notify.type&&this.iconAnimation.play("MainNotifyFriend"),"call"==this.notify.type&&this.iconAnimation.play("MainNotifyCall")},read:function(t){t==this.notify.id&&(this.iconAnimation.stop(),this.node.active=!1),network.readNotify(t)},onClickCallback:function(t){if("Home"==this.context.openFragmentName)if(this.iconAnimation.stop(),this.node.active=!1,network.readNotify(this.notify.id),null!=this.notify.link&&""!=this.notify.link){var i=this.notify.link.split(",");if("player"==i[0]&&"upGrade"==i[1]&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(this.notify.content),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u5206\u914d"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.context.launchFragment("PlayerAbility")}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"playerAdjutant"==i[0]&&"upGrade"==i[1]&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(this.notify.content),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u5206\u914d"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss();var o={playerAdjutantId:i[2]};this.context.launchFragment("PlayerAdjutantAbility",o)}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"player"==i[0]&&"contestInvite"==i[1]&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(this.notify.content),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u62d2\u7edd"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss(),network.noTakeCombatContestInvite(i[2])}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonEnable(!0),this.hintDialogNode.hintDialogComp.setRightButtonName("\u63a5\u53d7"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.loadDialogNode.loadDialogComp.show(),network.takeCombatContestInvite(i[2])}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"recreation"==i[0]&&"dice"==i[1]&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(this.notify.content),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"sect"==i[0]&&"ratify"==i[1]&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(this.notify.content),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss();var o=application.getMain();o.sectId=i[2],application.setMain(o),network.getHistoryChatSectList()}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"sect"==i[0]&&"expel"==i[1]&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(this.notify.content),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss();var i=application.getMain();i.sectId=0,application.setMain(i),network.getHistoryChatSectList()}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"sect"==i[0]&&"dismiss"==i[1]&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(this.notify.content),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss();var i=application.getMain();i.sectId=0,application.setMain(i),network.getHistoryChatSectList()}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"sect"==i[0]&&"combatAward"==i[1]&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(this.notify.content),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"personage"==i[0]&&"combatAward"==i[1]&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(this.notify.content),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"player"==i[0]&&"training"==i[1]&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(this.notify.content),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"player"==i[0]&&"dead"==i[1]&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(this.notify.content),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"friend"==i[0]&&"apply"==i[1]&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(this.notify.content),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u62d2\u7edd"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss(),network.chatFriendReject(i[2])}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonEnable(!0),this.hintDialogNode.hintDialogComp.setRightButtonName("\u540c\u610f"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),network.chatFriendConsent(i[2])}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"friend"==i[0]&&"consent"==i[1]&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(this.notify.content),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"friend"==i[0]&&"reject"==i[1]&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(this.notify.content),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"friend"==i[0]&&"chat"==i[1]){var o={friendPlayerId:this.notify.content};this.context.launchFragment("FriendChat",o)}if("friend"==i[0]&&"stop"==i[1]&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(this.notify.content),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"market"==i[0]&&"deal"==i[1]&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(this.notify.content),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"bank"==i[0]&&"exchange"==i[1]&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(this.notify.content),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"player"==i[0]&&"robTreasure"==i[1]&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(this.notify.content),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonEnable(!0),this.hintDialogNode.hintDialogComp.setRightButtonName("\u524d\u5f80"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.move(i[2])}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"givingRelief"==i[0]){this.resetMain();var e=(a=JSON.parse(this.notify.content)).content1+unescape(a.content2)+a.content3;this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(e),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u53bb\u611f\u8c22\u4ed6"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss();var o={friendPlayerId:i[1]};this.context.launchFragment("FriendChat",o)}.bind(this)),this.hintDialogNode.hintDialogComp.show()}if("call"==i[0]){var a;e=(a=JSON.parse(this.notify.content)).content1+unescape(a.content2);this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setTitle("\u5343\u91cc\u4f20\u97f3"),this.hintDialogNode.hintDialogComp.setContentNoIndent(e),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u8054\u7cfb\u4ed6"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss();var o={friendPlayerId:i[1]};this.context.launchFragment("FriendChat",o)}.bind(this)),this.hintDialogNode.hintDialogComp.show()}}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(this.notify.content),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()},move:function(t){network.sendGameHttpPost("/main/move",{playerId:application.getPlayerId(),regionId:t},function(t){if(t&&1==t.code){var i=t.data;application.setMain(i),this.context.onMainChange()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))},resetMain:function(){network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(t&&1==t.code){var i=t.data;application.setMain(i),this.context.onMainChange()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{}],MainNpcItem:[function(t,i,o){"use strict";cc._RF.push(i,"a7df9bUHaJCoryQEBevHUoj","MainNpcItem"),cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label,typeLabel:cc.Label,typeNode:cc.Node,remindAnimation:cc.Animation},start:function(){},load:function(t,i){this.id=t.id,this.type=t.type,this.name=t.name,this.remind=t.remind,this.link=t.link,this.index=i,this.nameLabel.string=this.name,"taskMain"==this.type&&(this.typeLabel.string="\u5bf9\u8bdd"),"npc"==this.type&&(this.typeLabel.string="\u5bf9\u8bdd"),"monsterGroup"==this.type&&(this.typeLabel.string="\u6218\u6597"),"gameInstanceMonsterGroup"==this.type&&(this.typeLabel.string="\u6218\u6597"),this.index%2==0?this.typeNode.x=100:this.typeNode.x=200,this.remind?this.remindAnimation.node.active=!0:this.remindAnimation.node.active=!1},onTypeClickCallback:function(t){null!=this.typeClickCallback&&this.typeClickCallback(this)},onNameClickCallback:function(t){null!=this.nameClickCallback&&this.nameClickCallback(this)},setOnTypeClickCallback:function(t){this.typeClickCallback=t},setOnNameClickCallback:function(t){this.nameClickCallback=t}}),cc._RF.pop()},{}],MainPlayerList:[function(t,i,o){"use strict";cc._RF.push(i,"a58ccclakJO0aqgn+9eWOs6","MainPlayerList");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{titleLable:cc.Label,playerListNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.regionId=this.getLaunchData().regionId,this.mainPlayerList()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){if(null!=this.data){for(var t=this.data.playerList,i=0;i<this.playerListNode.childrenCount;i++){(o=this.playerListNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.setName(e.name),o.commonItemComp.setInfo(e.gradeName+"\u7ea7"+e.jobName),o.commonItemComp.id=e.id,o.commonItemComp.setOnNameClickCallback(function(t){if(application.getPlayerId()==t.id)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:t.id};this.launchFragment("PlayerOtherDetail",i)}}.bind(this)),o.commonItemComp.setActionEnable(!1),o.parent=this.playerListNode}}},mainPlayerList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main/playerList",{playerId:application.getPlayerId(),regionId:this.regionId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],MainTab:[function(t,i,o){"use strict";cc._RF.push(i,"fa4df8DweREFL6EknGmVgHd","MainTab"),cc.Class({extends:cc.Component,properties:{isDisable:!1,isCheck:!0,checkSpriteFrame:cc.SpriteFrame,noCheckSpriteFrame:cc.SpriteFrame,disableSpriteFrame:cc.SpriteFrame},onLoad:function(){this.spriteComp=this.getComponent(cc.Sprite),this.buttonComp=this.getComponent(cc.Button)},start:function(){this.setCheck(this.isCheck),this.setDisable(this.isDisable)},setCheck:function(t){this.isCheck=t,null!=this.spriteComp&&(this.isDisable?this.spriteComp.spriteFrame=this.disableSpriteFrame:this.isCheck?this.spriteComp.spriteFrame=this.checkSpriteFrame:this.spriteComp.spriteFrame=this.noCheckSpriteFrame)},setDisable:function(t){this.isDisable=t,null!=this.buttonComp&&(this.buttonComp.interactable=!this.isDisable),this.setCheck(this.isCheck)}}),cc._RF.pop()},{}],Main:[function(t,i,o){"use strict";cc._RF.push(i,"bf666jqA9ZBS5RXhmca3Eeo","Main");var e=t("Fragment"),a=t("MapMini"),n=t("MainNotify"),s=t("MainChat");cc.Class({extends:cc.Component,properties:{fragmentListNode:cc.Node,fragmentList:[e],mapMini:a,mapNameLabel:cc.Label,hintDialogPrefab:cc.Prefab,loadDialogPrefab:cc.Prefab,mainNotify:n,mainChat:s},onLoad:function(){network.addScene(this);for(var t=0;t<this.fragmentList.length;t++){this.fragmentList[t].context=this}this.hintDialogNode=cc.instantiate(this.hintDialogPrefab),this.hintDialogNode.parent=this.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.loadDialogPrefab),this.loadDialogNode.parent=this.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.openFragmentName="Home",this.mainChat.context=this,this.mainChat.node.zIndex=1},onDestroy:function(){network.removeScene(this)},start:function(){this.initData(),network.getHistoryChatWorldList(),network.getHistoryChatSystemList(),network.getHistoryChatSectList(),network.getHistoryChatMarketList(),network.notify(),cc.log("ping\u670d\u52a1\u5668"),network.ping()},onWsMessage:function(t){if("ping"==t.action&&1==t.code&&this.scheduleOnce(function(){cc.log("ping\u670d\u52a1\u5668"),network.ping()},15),"waigua"==t.action&&(this.hintDialogNode.zIndex=99,this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),cc.game.end()}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"notify"==t.action&&this.mainNotify.play(this,t.data,this.hintDialogNode,this.loadDialogNode),"chatWorldList"==t.action&&(this.worldChatList=t.data,this.mainChat.initWorldChat()),"chatMarketList"==t.action&&(this.marketChatList=t.data,this.mainChat.initMarketChat()),"chatSectList"==t.action&&(this.sectChatList=t.data,this.mainChat.initSectChat()),"chatSystemList"==t.action&&(this.systemChatList=t.data,this.mainChat.initSystemChat()),"chatWorld"==t.action){this.worldChatList.splice(0,0,t.data),this.worldChatList.length>50&&this.worldChatList.pop();var i=t.data;this.mainChat.addWorldChat(i)}if("chatMarket"==t.action){this.marketChatList.splice(0,0,t.data),this.marketChatList.length>50&&this.marketChatList.pop();i=t.data;this.mainChat.addMarketChat(i)}if("chatSect"==t.action){this.sectChatList.splice(0,0,t.data),this.sectChatList.length>50&&this.sectChatList.pop();i=t.data;this.mainChat.addSectChat(i)}if("chatSystem"==t.action){this.systemChatList.splice(0,0,t.data),this.systemChatList.length>50&&this.systemChatList.pop();i=t.data;this.mainChat.addSystemChat(i)}if("combatCreate"==t.action&&1==t.code){if(this.mapNameLabel.string=t.data.regionName,"pk"==t.data.combatType){for(var o=[],e=0;e<this.fragmentList.length;e++){var a=(l=this.fragmentList[e]).node.name;if("Home"==a)o.push(l);else{l.node.destroy();var n="fragments/"+a;cc.log("\u91ca\u653e\uff1a"+n),cc.loader.releaseRes(n)}}this.fragmentList=o}var s=t.data;this.launchFragment("Combat",s)}"takeCombatContestInvite"==t.action&&(this.loadDialogNode.loadDialogComp.dismiss(),this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show());for(e=0;e<this.fragmentList.length;e++){var l;(l=this.fragmentList[e]).onWsMessage&&l.onWsMessage(t)}},onWsClose:function(){this.hintDialogNode.zIndex=99,this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u4e0e\u670d\u52a1\u5668\u65ad\u5f00\u8fde\u63a5\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),cc.director.loadScene("UserLogin")}.bind(this)),this.hintDialogNode.hintDialogComp.show()},initData:function(){var t=application.getMain();null!=t&&(this.mapMini.draw=t.regionMiniDraw,this.mapNameLabel.string=t.regionName)},onMainChange:function(){this.initData();for(var t=0;t<this.fragmentList.length;t++){this.fragmentList[t].onMainChange()}},launchFragment:function(t,i){if(this.openFragmentName!=t){this.openFragmentName=t,this.loadDialogNode.loadDialogComp.show();var o="fragments/"+t;cc.log("\u52a0\u8f7d\uff1a"+o),cc.loader.loadRes(o,function(t,i,o){cc.log("\u52a0\u8f7d\u8fdb\u5ea6\uff1a"+t+"/"+i)}.bind(this),function(o,a){if(this.loadDialogNode.loadDialogComp.dismiss(),null==o){var n=cc.instantiate(a);n.name=t,n.fragmentComp=n.getComponent(e),n.fragmentComp.context=this,n.fragmentComp.launchData=i,n.parent=this.fragmentListNode,n.on(cc.Node.EventType.MOUSE_DOWN,function(t){cc.log("Mouse down"),t.stopPropagation()},this),n.on(cc.Node.EventType.TOUCH_START,function(t){cc.log("Mouse down"),t.stopPropagation()},this),this.fragmentList.push(n.fragmentComp),"Combat"==t?(this.mainChat.node.zIndex=1,this.mainChat.setTypeOfCombat()):this.mainChat.node.zIndex=-1}else cc.log(o)}.bind(this))}},quitFragment:function(t,i){var o=this.fragmentList.indexOf(t);if(-1!=o){this.fragmentList.splice(o,1),t.node.destroy();var e=t.node.name,a="fragments/"+e;cc.log("\u91ca\u653e\uff1a"+a),cc.loader.releaseRes(a);var n=this.fragmentList[this.fragmentList.length-1];n.quitData=i,this.openFragmentName=n.node.name,cc.log("\u56de\u5230\uff1a"+this.openFragmentName),"Combat"==e&&this.mainChat.resetTypeOfCombat(),"Home"!=this.openFragmentName&&"Combat"!=this.openFragmentName?this.mainChat.node.zIndex=-1:this.mainChat.node.zIndex=1,n.onQuitFragmentCallback(e,i)}},findFragment:function(t){for(var i=0;i<this.fragmentList.length;i++){var o=this.fragmentList[i];if(o.node.name==t)return o}return null},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.onMainChange()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment",MainChat:"MainChat",MainNotify:"MainNotify",MapMini:"MapMini"}],MapIcon:[function(t,i,o){"use strict";cc._RF.push(i,"0f668szCj5EgIc5WKS4EYw/","MapIcon"),cc.Class({extends:cc.Component,properties:{_draw:{default:""},draw:{get:function(){return this._draw},set:function(t){var i=this._draw;this._draw=t.toString(),this._draw!==i&&this._updateRenderData()}}},onLoad:function(){this.spriteComp=this.getComponent(cc.Sprite),this.spriteComp.spriteFrame=null},start:function(){this._updateRenderData()},_updateRenderData:function(){this.spriteComp&&this._draw&&cc.loader.loadRes("textures/mapIcon/"+this._draw,cc.SpriteFrame,function(t,i){this.spriteComp.spriteFrame=null==t?i:null}.bind(this))}}),cc._RF.pop()},{}],MapMini:[function(t,i,o){"use strict";cc._RF.push(i,"da3e4nMyPVGSZ36DnTrAT1y","MapMini"),cc.Class({extends:cc.Component,properties:{_draw:{default:""},draw:{get:function(){return this._draw},set:function(t){var i=this._draw;this._draw=t.toString(),this._draw!==i&&this._updateRenderData()}}},onLoad:function(){this.spriteComp=this.getComponent(cc.Sprite),this.spriteComp.spriteFrame=null},start:function(){this._updateRenderData()},_updateRenderData:function(){this.spriteComp&&this._draw&&cc.loader.loadRes("textures/mapMini/"+this._draw,cc.SpriteFrame,function(t,i){this.spriteComp.spriteFrame=null==t?i:null}.bind(this))}}),cc._RF.pop()},{}],MarketDetailMy:[function(t,i,o){"use strict";cc._RF.push(i,"a2fdfSOyrtB+pJyBPb0AugW","MarketDetailMy");var e=t("Fragment"),a=t("MarketGoodsItem");cc.Class({extends:e,properties:{titleLabel:cc.Label,numberLabel:cc.Label,nameEditBox:cc.EditBox,listNode:cc.Node,marketGoodsItemPrefab:cc.Prefab,newGoodsButton:cc.Button,status1Button:cc.Button,status0Button:cc.Button},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.marketDetailMy()},initData:function(){for(var t=0;t<this.listNode.childrenCount;t++){(e=this.listNode.children[t]).destroy()}var i=this.data;if(null!=i){this.nameEditBox.string=i.name,0==i.status?(this.titleLabel.string="\u6211\u7684\u644a\u4f4d(\u672a\u51fa\u644a)",this.status1Button.node.active=!0,this.status0Button.node.active=!1):(this.titleLabel.string="\u6211\u7684\u644a\u4f4d(\u5df2\u51fa\u644a)",this.status1Button.node.active=!1,this.status0Button.node.active=!0);var o=i.marketGoodsList;for(t=0;t<o.length;t++){var e,n=o[t];(e=cc.instantiate(this.marketGoodsItemPrefab)).marketGoodsItemComp=e.getComponent(a),e.marketGoodsItemComp.id=n.id,e.marketGoodsItemComp.type=n.type,e.marketGoodsItemComp.idOfType=n.idOfType,e.marketGoodsItemComp.setName(n.name),e.marketGoodsItemComp.setInfo(n.info),e.marketGoodsItemComp.setPrice(n.price+"\u91d1\u7816"),e.marketGoodsItemComp.setOnNameClickCallback(function(t){if("playerAdjutant"==t.type){var i={playerAdjutantId:t.idOfType};this.launchFragment("PlayerAdjutantDetailOther",i)}if("playerHorse"==t.type){i={playerHorseId:t.idOfType,isShowDismissal:!1};this.launchFragment("PlayerHorseDetail",i)}if("playerKit"==t.type){var o={action:"\u88c5\u5907\u8be6\u60c5",playerKitId:t.idOfType};this.launchFragment("PlayerKitDetail",o)}}.bind(this)),e.marketGoodsItemComp.setAction("\u4e0b\u67b6"),e.marketGoodsItemComp.setOnActionClickCallback(function(t){this.marketRemoveGoods(t.id)}.bind(this)),e.parent=this.listNode}this.numberLabel.string=o.length+"/5",o.length>=5?this.newGoodsButton.node.active=!1:this.newGoodsButton.node.active=!0}},onQuitFragmentCallback:function(t,i){"MarketGoodsChoose"==t&&i&&this.marketDetailMy()},onChooseClickCallback:function(t){this.launchFragment("MarketGoodsChoose")},onBackClickCallback:function(t){this.quitFragment()},onStatus1ClickCallBack:function(t){this.marketCome(1)},onStatus0ClickCallBack:function(t){this.marketCome(0)},onAlertNameClickCallback:function(){var t=this.nameEditBox.string;util.isChinese(t)&&t.length>4&&t.length<=9?this.marketAlterName(t):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u644a\u4f4d\u540d\u79f0\u8f93\u5165\u4e0d\u5408\u6cd5\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},marketDetailMy:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/market/detailMy",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},marketRemoveGoods:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/market/removeGoods",{playerId:application.getPlayerId(),marketGoodsId:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.marketDetailMy()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},marketAlterName:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/market/alterName",{playerId:application.getPlayerId(),marketId:this.data.id,name:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&t.code,this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))},marketCome:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/market/come",{playerId:application.getPlayerId(),marketId:this.data.id,status:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.marketDetailMy()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment",MarketGoodsItem:"MarketGoodsItem"}],MarketDetail:[function(t,i,o){"use strict";cc._RF.push(i,"eeac1UXdgZPPoH/4Fcb8ZWU","MarketDetail");var e=t("Fragment"),a=t("MarketGoodsItem");cc.Class({extends:e,properties:{goldLabel:cc.Label,nameLabel:cc.Label,playerNameLabel:cc.Label,listNode:cc.Node,marketGoodsItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.marketId=this.getLaunchData().marketId,this.marketDetailOther()},initData:function(){for(var t=0;t<this.listNode.childrenCount;t++){(e=this.listNode.children[t]).destroy()}var i=this.data;if(null!=i){this.nameLabel.string=i.name,this.goldLabel.string="\u60a8\u6709"+i.gold+"\u91d1\u7816",this.playerNameLabel.string=i.playerName;var o=i.marketGoodsList;for(t=0;t<o.length;t++){var e,n=o[t];(e=cc.instantiate(this.marketGoodsItemPrefab)).marketGoodsItemComp=e.getComponent(a),e.marketGoodsItemComp.id=n.id,e.marketGoodsItemComp.type=n.type,e.marketGoodsItemComp.idOfType=n.idOfType,e.marketGoodsItemComp.price=n.price,e.marketGoodsItemComp.setName(n.name),e.marketGoodsItemComp.setInfo(n.info),e.marketGoodsItemComp.setPrice(n.price+"\u91d1\u7816"),e.marketGoodsItemComp.setOnNameClickCallback(function(t){if("playerAdjutant"==t.type){var i={playerAdjutantId:t.idOfType};this.launchFragment("PlayerAdjutantDetailOther",i)}if("playerHorse"==t.type){i={playerHorseId:t.idOfType,isShowDismissal:!1};this.launchFragment("PlayerHorseDetail",i)}if("playerKit"==t.type){var o={action:"\u88c5\u5907\u8be6\u60c5",playerKitId:t.idOfType};this.launchFragment("PlayerKitDetail",o)}}.bind(this)),e.marketGoodsItemComp.setAction("\u8d2d\u4e70"),e.marketGoodsItemComp.setOnActionClickCallback(function(t){this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.id=t.id,this.hintDialogNode.hintDialogComp.setContent("\u60a8\u786e\u5b9a\u8981\u82b1\u8d39"+t.price+"\u91d1\u7816\u8d2d\u4e70\u6b64\u5546\u54c1\u5417\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.marketBuy(t.id)}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this)),e.parent=this.listNode}0==i.status&&this.quitFragment(!0)}},onBackClickCallback:function(t){this.quitFragment()},onPlayerClickCallback:function(t){if(application.getPlayerId()==this.data.playerId)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:this.data.playerId};this.launchFragment("PlayerOtherDetail",i)}},marketDetailOther:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/market/detailOther",{playerId:application.getPlayerId(),marketId:this.marketId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},marketBuy:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/market/buy",{playerId:application.getPlayerId(),marketGoodsId:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.marketDetailOther()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment",MarketGoodsItem:"MarketGoodsItem"}],MarketGoodsChoose:[function(t,i,o){"use strict";cc._RF.push(i,"385d528YkFKkoGrbRO86qHH","MarketGoodsChoose");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{adjutantButton:cc.Button,horseButton:cc.Button,kitButton:cc.Button,listNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.onAdjutantClickCallback()},onQuitFragmentCallback:function(t,i){"MarketNewGoods"==t&i&&this.quitFragment(!0)},onAdjutantClickCallback:function(t){this.type="playerAdjutant",this.adjutantButton.interactable=!1,this.horseButton.interactable=!0,this.kitButton.interactable=!0,this.choose()},onHorseClickCallback:function(t){this.type="playerHorse",this.adjutantButton.interactable=!0,this.horseButton.interactable=!1,this.kitButton.interactable=!0,this.choose()},onKitClickCallback:function(t){this.type="playerKit",this.adjutantButton.interactable=!0,this.horseButton.interactable=!0,this.kitButton.interactable=!1,this.choose()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){for(var t=0;t<this.listNode.childrenCount;t++){this.listNode.children[t].destroy()}if("playerAdjutant"==this.type){var i=this.data.playerAdjutantList;if(i)for(t=0;t<i.length;t++){var o=i[t],e=cc.instantiate(this.commonItemPrefab);e.commonItemComp=e.getComponent(a),e.commonItemComp.id=o.id,e.commonItemComp.setName(o.name),e.commonItemComp.setInfo(o.gradeName+"\u7ea7"+o.jobName),e.commonItemComp.setAction("\u9009\u62e9"),e.commonItemComp.setOnNameClickCallback(function(t){var i={playerAdjutantId:t.id};this.launchFragment("PlayerAdjutantDetailOther",i)}.bind(this)),e.commonItemComp.setOnActionClickCallback(function(t){var i={type:this.type,idOfType:t.id,name:t.getName()};this.launchFragment("MarketNewGoods",i)}.bind(this)),e.parent=this.listNode}}if("playerHorse"==this.type){var n=this.data.playerHorseList;if(n)for(t=0;t<n.length;t++){var s=n[t],l=cc.instantiate(this.commonItemPrefab);l.commonItemComp=l.getComponent(a),l.commonItemComp.id=s.id,l.commonItemComp.setName(s.horseName),l.commonItemComp.setInfo(s.horseLevel+"\u9636"),l.commonItemComp.setAction("\u9009\u62e9"),l.commonItemComp.setOnNameClickCallback(function(t){var i={playerHorseId:t.id,isShowDismissal:!1};this.launchFragment("PlayerHorseDetail",i)}.bind(this)),l.commonItemComp.setOnActionClickCallback(function(t){var i={type:this.type,idOfType:t.id,name:t.getName()};this.launchFragment("MarketNewGoods",i)}.bind(this)),l.parent=this.listNode}}if("playerKit"==this.type){var h=this.data.playerKitList;if(null!=h)for(t=0;t<h.length;t++){var d=h[t],c=cc.instantiate(this.commonItemPrefab);c.commonItemComp=c.getComponent(a),c.commonItemComp.id=d.id,c.commonItemComp.setName(d.kitName),c.commonItemComp.setInfo(d.kitGradeName+"\u7ea7"),c.commonItemComp.setAction("\u9009\u62e9"),c.commonItemComp.setOnNameClickCallback(function(t){var i={action:"\u88c5\u5907\u8be6\u60c5",playerKitId:t.id};this.launchFragment("PlayerKitDetail",i)}.bind(this)),c.commonItemComp.setOnActionClickCallback(function(t){var i={type:this.type,idOfType:t.id,name:t.getName()};this.launchFragment("MarketNewGoods",i)}.bind(this)),c.parent=this.listNode}}},choose:function(){"playerAdjutant"==this.type&&this.playerAdjutantChoose(),"playerHorse"==this.type&&this.playerHorseChoose(),"playerKit"==this.type&&this.playerKitChoose()},playerAdjutantChoose:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantChoose",{playerId:application.getPlayerId(),isIncludeHelp:!1},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerHorseChoose:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/horseChoose",{playerId:application.getPlayerId(),isIncludeHelp:!1},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerKitChoose:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/kitChoose",{playerId:application.getPlayerId(),isIncludeApparel:!1},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],MarketGoodsItem:[function(t,i,o){"use strict";cc._RF.push(i,"11053FHBmBAxYCVu/NPnbQR","MarketGoodsItem"),cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label,infoLabel:cc.Label,priceLabel:cc.Label,actionLabel:cc.Label},start:function(){},setName:function(t){this.nameLabel.string=t},setInfo:function(t){this.infoLabel.string=t},setPrice:function(t){this.priceLabel.string=t},setAction:function(t){this.actionLabel.string=t},setOnNameClickCallback:function(t){this.nameClickCallback=t},onNameClickCallback:function(t){null!=this.nameClickCallback&&this.nameClickCallback(this)},setOnActionClickCallback:function(t){this.actionClickCallback=t},onActionClickCallback:function(t){null!=this.actionClickCallback&&this.actionClickCallback(this)}}),cc._RF.pop()},{}],MarketItem:[function(t,i,o){"use strict";cc._RF.push(i,"a4743zo6ypG7pdrqO2Wxu96","MarketItem"),cc.Class({extends:cc.Component,properties:{noLabel:cc.Label,nameLabel:cc.Label,otherLabel:cc.Label},start:function(){},setName:function(t){this.nameLabel.string=t},setNo:function(t){this.noLabel.string=t},setOther:function(t){this.otherLabel.string=t},setOnNameClickCallback:function(t){this.nameClickCallback=t},onNameClickCallback:function(t){null!=this.nameClickCallback&&this.nameClickCallback(this)}}),cc._RF.pop()},{}],MarketNewGoods:[function(t,i,o){"use strict";cc._RF.push(i,"0d25f2lE95N7riY+7a8u5EG","MarketNewGoods");var e=t("Fragment");cc.Class({extends:e,properties:{nameLabel:cc.Label,priceEditbox:cc.EditBox},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.type=this.getLaunchData().type,this.idOfType=this.getLaunchData().idOfType,this.name=this.getLaunchData().name,this.nameLabel.string=this.name},onBackClickCallback:function(t){this.quitFragment()},onNewGoodsClickCallback:function(t){var i=this.priceEditbox.string;util.isNumber(i)?this.marketNewGoods(i):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u56de\u6536\u6570\u91cf\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},marketNewGoods:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/market/newGoods",{playerId:application.getPlayerId(),type:this.type,idOfType:this.idOfType,price:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.quitFragment(!0)}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],Market:[function(t,i,o){"use strict";cc._RF.push(i,"22ea3Gu1zBGXag6dfqu2z4q","Market");var e=t("Fragment"),a=t("MarketItem");cc.Class({extends:e,properties:{allMarketButton:cc.Button,collectMarketButton:cc.Button,adjutantButton:cc.Button,horseButton:cc.Button,kitButton:cc.Button,listNode:cc.Node,marketItemPrefab:cc.Prefab,pageDesLabel:cc.Label,previousButton:cc.Button,nextButton:cc.Button,upMarketButton:cc.Button},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.pageIndex=1,this.pageSize=20},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.onAllMarketClickCallback()},onQuitFragmentCallback:function(t,i){"MarketDetailMy"==t&&this.marketList(),"MarketDetail"==t&&this.marketList()},onAllMarketClickCallback:function(t){this.classify="allMarket",this.allMarketButton.interactable=!1,this.collectMarketButton.interactable=!0,this.adjutantButton.interactable=!0,this.horseButton.interactable=!0,this.kitButton.interactable=!0,this.marketList()},onCollectMarketClickCallback:function(t){this.classify="collectMarket",this.allMarketButton.interactable=!0,this.collectMarketButton.interactable=!1,this.adjutantButton.interactable=!0,this.horseButton.interactable=!0,this.kitButton.interactable=!0,this.marketList()},onAdjutantClickCallback:function(t){this.classify="adjutant",this.allMarketButton.interactable=!0,this.collectMarketButton.interactable=!0,this.adjutantButton.interactable=!1,this.horseButton.interactable=!0,this.kitButton.interactable=!0,this.marketList()},onHorseClickCallback:function(t){this.classify="horse",this.allMarketButton.interactable=!0,this.collectMarketButton.interactable=!0,this.adjutantButton.interactable=!0,this.horseButton.interactable=!1,this.kitButton.interactable=!0,this.marketList()},onKitClickCallback:function(t){this.classify="kit",this.allMarketButton.interactable=!0,this.collectMarketButton.interactable=!0,this.adjutantButton.interactable=!0,this.horseButton.interactable=!0,this.kitButton.interactable=!1,this.marketList()},onNextPageClickCallback:function(t){this.pageIndex++,this.marketList()},onPreviousPageClickCallback:function(t){this.pageIndex--,this.marketList()},onMyMarketClickCallback:function(t){this.launchFragment("MarketDetailMy")},onBackClickCallback:function(t){this.quitFragment()},onUpClickCallback:function(t){this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u5c06\u644a\u4f4d\u7f6e\u9876\u9700\u898130000\u94f6\u4e24\uff0c\u60a8\u662f\u5426\u8fd8\u8981\u7ee7\u7eed\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.marketUp()}.bind(this)),this.hintDialogNode.hintDialogComp.show()},initData:function(){var t=this.data.marketList;if(t){for(var i=0;i<this.listNode.childrenCount;i++){this.listNode.children[i].destroy()}for(i=0;i<t.length;i++){var o=t[i],e=cc.instantiate(this.marketItemPrefab);e.marketItemComp=e.getComponent(a),e.marketItemComp.id=o.id,e.marketItemComp.playerId=o.playerId,e.marketItemComp.setName(o.name),e.marketItemComp.setNo(o.no+"."),e.marketItemComp.setOther(o.other),e.marketItemComp.setOnNameClickCallback(function(t){if(application.getPlayerId()==t.playerId)this.launchFragment("MarketDetailMy");else{var i={marketId:t.id};this.launchFragment("MarketDetail",i)}}.bind(this)),e.parent=this.listNode}}this.data.pageIndex<=1?(this.previousButton.interactable=!1,this.previousButton.node.opacity=0):(this.previousButton.interactable=!0,this.previousButton.node.opacity=255),20!=this.data.pageSize?(this.nextButton.interactable=!1,this.nextButton.node.opacity=0):(this.nextButton.interactable=!0,this.nextButton.node.opacity=255),this.pageDesLabel.string="\u7b2c"+this.data.pageIndex+"\u9875-"+this.data.pageSize+"\u6761",0==this.data.status?this.upMarketButton.node.active=!1:this.upMarketButton.node.active=!0},marketList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/market/list",{classify:this.classify,pageIndex:this.pageIndex,pageSize:this.pageSize,playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},marketUp:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/market/up",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.pageIndex=1,this.pageSize=20,this.marketList()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment",MarketItem:"MarketItem"}],MonsterAuto:[function(t,i,o){"use strict";cc._RF.push(i,"42be0Bj36JPeYluqFtJM+TG","MonsterAuto");var e=t("Fragment"),a=t("MonsterCheckItem");cc.Class({extends:e,properties:{set1Toggle:cc.Toggle,set2Toggle:cc.Toggle,titleLable:cc.Label,listNode:cc.Node,monsterCheckItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.listNode.toggleGroupComp=this.listNode.getComponent(cc.ToggleGroup)},onDestroy:function(){this.closeAutoMonster(),this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.monsterGroupList=this.getLaunchData().monsterGroupList,this.initData()},onWsMessage:function(t){"combatCreate"==t.action&&this.loadDialogNode.loadDialogComp.dismiss()},onQuitFragmentCallback:function(t,i){if("Combat"==t&&i&&network.getLastCombat(),"Combat"==t&&!i){var o=application.getMain();if(1!=o.regionId){if(this.isOpenAuto){if(this.closeAutoMonster(),this.set1Toggle.isChecked&&(0==o.hpBag||0==o.mpBag))return this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setTitle("\u6e29\u99a8\u63d0\u793a"),this.hintDialogNode.hintDialogComp.setContent("\u65e0\u6c14\u8840\u6216\u7cbe\u529b\u50a8\u5907\u5df2\u81ea\u52a8\u505c\u6b62\u9047\u602a\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonEnable(!0),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),void this.hintDialogNode.hintDialogComp.show();if(this.set2Toggle.isChecked&&0==o.physicalValue)return this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setTitle("\u6e29\u99a8\u63d0\u793a"),this.hintDialogNode.hintDialogComp.setContent("\u65e0\u4f53\u529b\u503c\u5df2\u81ea\u52a8\u505c\u6b62\u9047\u602a\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonEnable(!0),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),void this.hintDialogNode.hintDialogComp.show();this.openAutoMonster()}}else this.quitFragment()}},onBackClickCallback:function(t){this.quitFragment()},initData:function(){for(var t=this.monsterGroupList,i=0;i<this.listNode.childrenCount;i++){(o=this.listNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.monsterCheckItemPrefab)).monsterCheckItemComp=o.getComponent(a),o.monsterCheckItemComp.setName(e.name),o.monsterCheckItemComp.id=e.id,o.monsterCheckItemComp.setToggleGroup(this.listNode.toggleGroupComp),o.parent=this.listNode}},onOpenAutoClickCallback:function(t){this.openAutoMonster()},openAutoMonster:function(){this.isOpenAuto||(this.isOpenAuto=!0,this.openAutoCallback=function(){var t;this.hintDialogNode.hintDialogComp.dismiss();for(var i=0;i<this.listNode.childrenCount;i++){var o=this.listNode.children[i];if(o.monsterCheckItemComp.getCheck()){t=o.monsterCheckItemComp.id;break}}t&&(this.loadDialogNode.loadDialogComp.show(),network.createMonsterCombat(t))},this.scheduleOnce(this.openAutoCallback,5),this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setTitle("\u6e29\u99a8\u63d0\u793a"),this.hintDialogNode.hintDialogComp.setContent("\u6b63\u5728\u8fdb\u884c\u81ea\u52a8\u9047\u602a\u4e2d\uff0c5\u79d2\u540e\u5c06\u81ea\u52a8\u8fdb\u5165\u6218\u6597\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonEnable(!0),this.hintDialogNode.hintDialogComp.setRightButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.closeAutoMonster()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},closeAutoMonster:function(){this.isOpenAuto&&(this.isOpenAuto=!1,this.unschedule(this.openAutoCallback),this.hintDialogNode.hintDialogComp.dismiss())}}),cc._RF.pop()},{Fragment:"Fragment",MonsterCheckItem:"MonsterCheckItem"}],MonsterCheckItem:[function(t,i,o){"use strict";cc._RF.push(i,"59fc3vSOVBIRKcUfeQmXDri","MonsterCheckItem"),cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label,checkToggle:cc.Toggle},start:function(){},setToggleGroup:function(t){this.checkToggle.toggleGroup=t},setName:function(t){this.nameLabel.string=t},setCheck:function(t){t?this.checkToggle.check():this.checkToggle.uncheck()},getCheck:function(){return this.checkToggle.isChecked},setOnCheckClickCallback:function(t){this.actionClickCallback=t},onCheckClickCallback:function(t){null!=this.actionClickCallback&&this.actionClickCallback(this)}}),cc._RF.pop()},{}],MonsterGroup:[function(t,i,o){"use strict";cc._RF.push(i,"ce9f9jC5SRLW6aGxKSnukNf","MonsterGroup");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{titleLable:cc.Label,monsterListNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.monsterGroupId=this.getLaunchData().monsterGroupId,this.monsterGroupType=this.getLaunchData().monsterGroupType,this.monsterGroupDetail()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){if(null!=this.data){this.titleLable.string=this.data.name;for(var t=this.data.monsterList,i=0;i<this.monsterListNode.childrenCount;i++){(o=this.monsterListNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.setName(e.adjutantName),o.commonItemComp.setInfo(e.sketch),o.commonItemComp.adjutantId=e.adjutantId,o.commonItemComp.setOnNameClickCallback(function(t){var i={adjutantId:t.adjutantId};this.launchFragment("AdjutantDetail",i)}.bind(this)),o.commonItemComp.setActionEnable(!1),o.parent=this.monsterListNode}}},monsterGroupDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/monster/groupDetail",{playerId:application.getPlayerId(),monsterGroupId:this.monsterGroupId,monsterGroupType:this.monsterGroupType},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],MonsterUpGrade:[function(t,i,o){"use strict";cc._RF.push(i,"e2cd1L8p9dO6JsOCUQ+XDig","MonsterUpGrade");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{titleLable:cc.Label,listNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.monsterGroupRecommend()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){if(null!=this.data){for(var t=this.data.groupRecommendItemList,i=0;i<this.listNode.childrenCount;i++){(o=this.listNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.setName(e.name),o.commonItemComp.setInfo("\u6807"+e.standardGradeName+"\u7ea7"),o.commonItemComp.id=e.id,o.commonItemComp.regionId=e.regionId,o.commonItemComp.setOnNameClickCallback(function(t){var i={monsterGroupId:t.id,monsterGroupType:"monsterGroup"};this.launchFragment("MonsterGroup",i)}.bind(this)),o.commonItemComp.setAction(e.regionName),o.commonItemComp.setOnActionClickCallback(function(t){this.move(t.regionId)}.bind(this)),o.parent=this.listNode}}},monsterGroupRecommend:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/monster/groupRecommend",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},move:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main/move",{playerId:application.getPlayerId(),regionId:t},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.quitFragment(!0)}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],NeedToKnow:[function(t,i,o){"use strict";cc._RF.push(i,"2dc311NnLZGqYoU5SK+cuVJ","NeedToKnow"),cc.Class({extends:cc.Component,properties:{},start:function(){},onPlayClickCallback:function(t){cc.director.loadScene("Guide")},onCloseClickCallback:function(){cc.game.end()}}),cc._RF.pop()},{}],Network:[function(t,i,o){"use strict";cc._RF.push(i,"968acPkhsBOsaTAu9Gep8wP","Network"),t("jsencrypt"),window.network={main:"http://www.xcgame520.club",backup:"http://www.xcgame520.com:8080",mainHttpServerUrl:"",gameHttpServerUrl:"",gameWsServerUrl:"",gameWs:null,sceneList:new Array,setGameHttpServerUrl:function(t){this.gameHttpServerUrl=t},setGameWsServerUrl:function(t){this.gameWsServerUrl=t},gameWsConnect:function(){this.gameWs=new WebSocket(this.gameWsServerUrl),this.gameWs.onopen=function(t){cc.log("\u8fde\u63a5\u670d\u52a1\u5668\uff01");for(var i=0;i<this.sceneList.length;i++){var o=this.sceneList[i];o.onWsOpen&&o.onWsOpen()}}.bind(this),this.gameWs.onmessage=function(t){var i=JSON.parse(t.data);cc.log("\u6536\u5230\u6570\u636e: "+JSON.stringify(i));for(var o=0;o<this.sceneList.length;o++){var e=this.sceneList[o];e.onWsMessage&&e.onWsMessage(i)}}.bind(this),this.gameWs.onerror=function(t){cc.log("\u8fde\u63a5\u9519\u8bef\uff01");for(var i=0;i<this.sceneList.length;i++){var o=this.sceneList[i];o.onWsError&&o.onWsError()}}.bind(this),this.gameWs.onclose=function(t){cc.log("\u670d\u52a1\u5668\u8fde\u63a5\u65ad\u5f00\uff01");for(var i=0;i<this.sceneList.length;i++){var o=this.sceneList[i];o.onWsClose&&o.onWsClose()}}.bind(this)},gameWsDisconnect:function(){this.gameWs.close(),this.gameWs.onopen=null,this.gameWs.onmessage=null,this.gameWs.onerror=null,this.gameWs.onclose=null,this.gameWs=null},sendHttpPost:function(t,i,o,e){var a=new JSEncrypt;a.setPublicKey(application.publicKey);var n=a.encryptLong(JSON.stringify(i)),s=new XMLHttpRequest;e&&(s.timeout=e),s.onreadystatechange=function(){if(4==s.readyState&&s.status>=200&&s.status<400)if(s.responseText){var t=JSON.parse(s.responseText);if(t.response){var i=new JSEncrypt;i.setPrivateKey(application.privateKey);var e=decodeURIComponent(i.decryptLong(t.response)),a=JSON.parse(e);cc.log("\u6536\u5230\u6570\u636e: "+e),o(a)}else o(t)}else{cc.log("\u8fd4\u56de\u6570\u636e\u4e0d\u5b58\u5728\uff01");o({code:-1,codeName:"\u8fd4\u56de\u6570\u636e\u4e0d\u5b58\u5728\uff01"})}},s.ontimeout=function(){cc.log("\u8fde\u63a5\u8d85\u65f6\uff01");o({code:-1,codeName:"\u8fde\u63a5\u8d85\u65f6\uff01"})},s.onerror=function(){cc.log("\u8bf7\u6c42\u5931\u8d25\uff01");o({code:-1,codeName:"\u8bf7\u6c42\u5931\u8d25\uff01"})},s.open("POST",this.mainHttpServerUrl+t,!0),s.setRequestHeader("Content-Type","application/json"),s.send(n)},sendGameHttpPost:function(t,i,o,e){var a=new JSEncrypt;a.setPublicKey(application.publicKey);var n=a.encryptLong(JSON.stringify(i)),s=a.encrypt(application.getPlayerId()),l=a.encrypt(application.getClientId()),h=a.encrypt(application.getUserId()),d=new XMLHttpRequest;e&&(d.timeout=e),d.onreadystatechange=function(){if(4==d.readyState&&d.status>=200&&d.status<400)if(d.responseText){cc.log("\u6536\u5230\u6570\u636e: "+d.responseText);var t=JSON.parse(d.responseText);if(t.response){var i=new JSEncrypt;i.setPrivateKey(application.privateKey);var e=decodeURIComponent(i.decryptLong(t.response)),a=JSON.parse(e);o(a)}else o(t)}else{cc.log("\u8fd4\u56de\u6570\u636e\u4e0d\u5b58\u5728\uff01");o({code:-1,codeName:"\u8fd4\u56de\u6570\u636e\u4e0d\u5b58\u5728\uff01"})}},d.ontimeout=function(){cc.log("\u8fde\u63a5\u8d85\u65f6\uff01");o({code:-1,codeName:"\u8fde\u63a5\u8d85\u65f6\uff01"})},d.onerror=function(){cc.log("\u8bf7\u6c42\u5931\u8d25\uff01");o({code:-1,codeName:"\u8bf7\u6c42\u5931\u8d25\uff01"})},d.open("POST",this.gameHttpServerUrl+t,!0),d.setRequestHeader("Content-Type","application/json"),d.setRequestHeader("Token-P",s),d.setRequestHeader("Token-C",l),d.setRequestHeader("Token-U",h),d.setRequestHeader("VersionCode",application.versionCode),d.send(n)},addScene:function(t){this.sceneList.includes(t)||this.sceneList.push(t)},removeScene:function(t){var i=this.sceneList.indexOf(t);-1!=i&&this.sceneList.splice(i,1)},playerLogin:function(t,i){if(this.gameWs.readyState===WebSocket.OPEN){var o={action:"playerLogin",userId:t,playerId:i};this.gameWs.send(JSON.stringify(o))}},getHistoryChatWorldList:function(){if(this.gameWs.readyState===WebSocket.OPEN){var t={action:"getHistoryChatWorldList",playerId:application.getPlayerId()};this.gameWs.send(JSON.stringify(t))}},getHistoryChatMarketList:function(){if(this.gameWs.readyState===WebSocket.OPEN){var t={action:"getHistoryChatMarketList",playerId:application.getPlayerId()};this.gameWs.send(JSON.stringify(t))}},getHistoryChatSectList:function(){var t=application.getMain();if(this.gameWs.readyState===WebSocket.OPEN){var i={action:"getHistoryChatSectList",playerId:t.playerId,sectId:t.sectId};this.gameWs.send(JSON.stringify(i))}},getHistoryChatSystemList:function(){if(this.gameWs.readyState===WebSocket.OPEN){var t={action:"getHistoryChatSystemList",playerId:application.getPlayerId()};this.gameWs.send(JSON.stringify(t))}},sendChatWorld:function(t){if(this.gameWs.readyState===WebSocket.OPEN){var i={action:"sendChatWorld",playerId:application.getPlayerId(),content:t};this.gameWs.send(JSON.stringify(i))}},sendChatMarket:function(t){if(this.gameWs.readyState===WebSocket.OPEN){var i={action:"sendChatMarket",playerId:application.getPlayerId(),content:t};this.gameWs.send(JSON.stringify(i))}},sendChatSect:function(t,i){if(this.gameWs.readyState===WebSocket.OPEN){var o={action:"sendChatSect",playerId:application.getPlayerId(),sectId:t,content:i};this.gameWs.send(JSON.stringify(o))}},chatFriendApply:function(t){if(this.gameWs.readyState===WebSocket.OPEN){var i={action:"chatFriendApply",playerId:application.getPlayerId(),friendPlayerId:t};this.gameWs.send(JSON.stringify(i))}},chatFriendConsent:function(t){if(this.gameWs.readyState===WebSocket.OPEN){var i={action:"chatFriendConsent",playerId:application.getPlayerId(),friendPlayerId:t};this.gameWs.send(JSON.stringify(i))}},chatFriendReject:function(t){if(this.gameWs.readyState===WebSocket.OPEN){var i={action:"chatFriendReject",playerId:application.getPlayerId(),friendPlayerId:t};this.gameWs.send(JSON.stringify(i))}},getChatFriendList:function(t){if(this.gameWs.readyState===WebSocket.OPEN){var i={action:"getChatFriendList",playerId:application.getPlayerId(),classify:t};this.gameWs.send(JSON.stringify(i))}},chatFriendPrepare:function(t){if(this.gameWs.readyState===WebSocket.OPEN){var i={action:"chatFriendPrepare",playerId:application.getPlayerId(),friendPlayerId:t};this.gameWs.send(JSON.stringify(i))}},sendChatFriend:function(t,i){if(this.gameWs.readyState===WebSocket.OPEN){var o={action:"sendChatFriend",playerId:application.getPlayerId(),friendId:t,content:i};this.gameWs.send(JSON.stringify(o))}},stopChatFriend:function(t){if(this.gameWs.readyState===WebSocket.OPEN){var i={action:"stopChatFriend",playerId:application.getPlayerId(),friendPlayerId:t};this.gameWs.send(JSON.stringify(i))}},addChatBlacklist:function(t){if(this.gameWs.readyState===WebSocket.OPEN){var i={action:"addChatBlacklist",playerId:application.getPlayerId(),friendPlayerId:t};this.gameWs.send(JSON.stringify(i))}},removeChatBlacklist:function(t){if(this.gameWs.readyState===WebSocket.OPEN){var i={action:"removeChatBlacklist",playerId:application.getPlayerId(),friendPlayerId:t};this.gameWs.send(JSON.stringify(i))}},removeChatFoe:function(t){if(this.gameWs.readyState===WebSocket.OPEN){var i={action:"removeChatFoe",playerId:application.getPlayerId(),friendPlayerId:t};this.gameWs.send(JSON.stringify(i))}},createMonsterCombat:function(t){if(this.gameWs.readyState===WebSocket.OPEN){var i={action:"createMonsterCombat",playerId:application.getPlayerId(),monsterGroupId:t};this.gameWs.send(JSON.stringify(i))}},createGameInstanceMonsterCombat:function(t){if(this.gameWs.readyState===WebSocket.OPEN){var i={action:"createGameInstanceMonsterCombat",playerId:application.getPlayerId(),monsterGroupId:t};this.gameWs.send(JSON.stringify(i))}},createTaskBossCombat:function(t){if(this.gameWs.readyState===WebSocket.OPEN){var i={action:"createTaskBossCombat",playerId:application.getPlayerId(),taskBossGroupId:t};this.gameWs.send(JSON.stringify(i))}},createGameInstanceTaskBossCombat:function(t){if(this.gameWs.readyState===WebSocket.OPEN){var i={action:"createGameInstanceTaskBossCombat",playerId:application.getPlayerId(),taskBossGroupId:t};this.gameWs.send(JSON.stringify(i))}},createTaskEverydayBossCombat:function(t){if(this.gameWs.readyState===WebSocket.OPEN){var i={action:"createTaskEverydayBossCombat",playerId:application.getPlayerId(),taskBossGroupId:t};this.gameWs.send(JSON.stringify(i))}},createRobTreasureBoss:function(){if(this.gameWs.readyState===WebSocket.OPEN){var t={action:"createRobTreasureBoss",playerId:application.getPlayerId()};this.gameWs.send(JSON.stringify(t))}},createBeatenWriterCombat:function(t){if(this.gameWs.readyState===WebSocket.OPEN){var i={action:"createBeatenWriterCombat",playerId:application.getPlayerId(),writerNumber:t};this.gameWs.send(JSON.stringify(i))}},combatReady:function(t){if(this.gameWs.readyState===WebSocket.OPEN){var i={action:"combatReady",playerId:application.getPlayerId(),combatId:t};this.gameWs.send(JSON.stringify(i))}},createCombatBout:function(t,i,o,e){if(this.gameWs.readyState===WebSocket.OPEN){var a={action:"createCombatBout",playerId:application.getPlayerId(),combatId:t,combatBoutName:i,operationList:o,timer:e};this.gameWs.send(JSON.stringify(a))}},getCombatResult:function(t,i){if(this.gameWs.readyState===WebSocket.OPEN){var o={action:"getCombatResult",playerId:application.getPlayerId(),combatId:t,teamOf:i};this.gameWs.send(JSON.stringify(o))}},getLastCombat:function(){if(this.gameWs.readyState===WebSocket.OPEN){var t={action:"getLastCombat",playerId:application.getPlayerId()};this.gameWs.send(JSON.stringify(t))}},combatContestInvite:function(t){if(this.gameWs.readyState===WebSocket.OPEN){var i={action:"combatContestInvite",playerId:application.getPlayerId(),targetPlayerId:t};this.gameWs.send(JSON.stringify(i))}},combatContestInviteCancel:function(){if(this.gameWs.readyState===WebSocket.OPEN){var t={action:"combatContestInviteCancel",playerId:application.getPlayerId()};this.gameWs.send(JSON.stringify(t))}},takeCombatContestInvite:function(t){if(this.gameWs.readyState===WebSocket.OPEN){var i={action:"takeCombatContestInvite",playerId:application.getPlayerId(),combatContestInviteId:t};this.gameWs.send(JSON.stringify(i))}},noTakeCombatContestInvite:function(t){if(this.gameWs.readyState===WebSocket.OPEN){var i={action:"noTakeCombatContestInvite",playerId:application.getPlayerId(),combatContestInviteId:t};this.gameWs.send(JSON.stringify(i))}},pk:function(t){if(this.gameWs.readyState===WebSocket.OPEN){var i={action:"pk",playerId:application.getPlayerId(),pkPlayerId:t};this.gameWs.send(JSON.stringify(i))}},combatContestDan:function(t,i){if(this.gameWs.readyState===WebSocket.OPEN){var o=application.getMain(),e={action:"combatContestDan",playerId:o.playerId,playerGradeName:o.gradeName,minGradeName:t,maxGradeName:i};this.gameWs.send(JSON.stringify(e))}},combatContestDanCancel:function(){if(this.gameWs.readyState===WebSocket.OPEN){var t={action:"combatContestDanCancel",playerId:application.getPlayerId()};this.gameWs.send(JSON.stringify(t))}},combatContestSect:function(){if(this.gameWs.readyState===WebSocket.OPEN){var t=application.getMain(),i={action:"combatContestSect",playerId:t.playerId,sectId:t.sectId};this.gameWs.send(JSON.stringify(i))}},combatContestSectCancel:function(){if(this.gameWs.readyState===WebSocket.OPEN){var t={action:"combatContestSectCancel",playerId:application.getPlayerId()};this.gameWs.send(JSON.stringify(t))}},combatContestRob:function(t){if(this.gameWs.readyState===WebSocket.OPEN){var i={action:"combatContestRob",playerId:application.getPlayerId(),robTreasureId:t};this.gameWs.send(JSON.stringify(i))}},combatContestRobCancel:function(){if(this.gameWs.readyState===WebSocket.OPEN){var t={action:"combatContestRobCancel",playerId:application.getPlayerId()};this.gameWs.send(JSON.stringify(t))}},combatContestPersonage:function(){if(this.gameWs.readyState===WebSocket.OPEN){var t={action:"combatContestPersonage",playerId:application.getPlayerId()};this.gameWs.send(JSON.stringify(t))}},combatContestPersonageCancel:function(){if(this.gameWs.readyState===WebSocket.OPEN){var t={action:"combatContestPersonageCancel",playerId:application.getPlayerId()};this.gameWs.send(JSON.stringify(t))}},notify:function(){if(this.gameWs.readyState===WebSocket.OPEN){var t={action:"notify",playerId:application.getPlayerId()};this.gameWs.send(JSON.stringify(t))}},readNotify:function(t){if(this.gameWs.readyState===WebSocket.OPEN){var i={action:"readNotify",playerId:application.getPlayerId(),notifyId:t};this.gameWs.send(JSON.stringify(i))}},ping:function(){if(this.gameWs.readyState===WebSocket.OPEN){this.gameWs.send(JSON.stringify({action:"ping"}))}},waigua:function(){if(this.gameWs.readyState===WebSocket.OPEN){this.gameWs.send(JSON.stringify({action:"waigua"}))}}},cc._RF.pop()},{jsencrypt:"jsencrypt"}],Npc:[function(t,i,o){"use strict";cc._RF.push(i,"1a861vYFqpHK7yE6k+FwBr1","Npc");var e=t("Fragment"),a=t("PersonFace");cc.Class({extends:e,properties:{npcPersonFace:a,npcNameLabel:cc.Label,selfPersonFace:a,selfNameLabel:cc.Label,contentLabel:cc.Label,replyLayout:cc.Layout,replyLabel:cc.Label,loadAnimation:cc.Animation},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.animComp=this.getComponent(cc.Animation),this.animComp.on("finished",this.onShowFinishedCallback,this)},onDestroy:function(){this.animComp.off("finished",this.onShowFinishedCallback,this),this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.npcPersonFace.node.active=!1,this.npcNameLabel.node.active=!1,this.selfPersonFace.node.active=!1,this.selfNameLabel.node.active=!1,this.contentLabel.node.active=!1,this.replyLayout.node.active=!1,this.loadAnimation.node.active=!1,this.animComp.play(),this.npcId=this.getLaunchData().npcId},onShowFinishedCallback:function(){this.npcDetail()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){var t=this.data;if(t){this.npcPersonFace.node.active=!0,this.npcNameLabel.node.active=!0,this.selfPersonFace.node.active=!0,this.selfNameLabel.node.active=!0,this.npcPersonFace.draw=t.faceDraw,this.npcNameLabel.string=t.name;var i=application.getMain();this.selfPersonFace.draw=i.faceDraw,this.selfNameLabel.string=i.playerName,this.contentLabel.node.active=!0,this.contentLabel.string=t.content,this.replyLayout.node.active=!0,this.replyLabel.string=t.reply}},onNextClickCallback:function(t){this.data.link||this.resetMain()},npcDetail:function(){this.loadAnimation.node.active=!0,network.sendGameHttpPost("/npc/detail",{playerId:application.getPlayerId(),npcId:this.npcId},function(t){this.loadAnimation.node.active=!1,t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.quitFragment()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment",PersonFace:"PersonFace"}],OreCompoundChoose:[function(t,i,o){"use strict";cc._RF.push(i,"da183pnq1xMupQMVxlrJM0Q","OreCompoundChoose");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{listNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerOreChoose()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){for(var t=0;t<this.listNode.childrenCount;t++){(o=this.listNode.children[t]).destroy()}var i=this.data.playerOreList;if(null!=i)for(t=0;t<i.length;t++){var o,e=i[t];if(!(e.oreGradeName>=10))(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.id=e.id,o.commonItemComp.oreId=e.oreId,o.commonItemComp.setName(e.oreGradeName+"\u7ea7"+e.oreName),o.commonItemComp.setInfo("\u6570\u91cf("+e.number+")"),o.commonItemComp.setAction("\u9009\u62e9"),o.commonItemComp.setOnNameClickCallback(function(t){var i={action:"\u77ff\u77f3\u8be6\u60c5",oreId:t.oreId,isShowPrice:!1};this.launchFragment("OreDetail",i)}.bind(this)),o.commonItemComp.setOnActionClickCallback(function(t){var i={playerGoodsId:t.id};this.quitFragment(i)}.bind(this)),o.parent=this.listNode}},playerOreChoose:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/oreChoose",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],OreCompound:[function(t,i,o){"use strict";cc._RF.push(i,"e3951M+3BVIKoTwuN4dT9Qs","OreCompound");var e=t("Fragment");cc.Class({extends:e,properties:{oreNameLabel:cc.Label,oreNumberNode:cc.Node,oreNumberLabel:cc.Label,hintLabel:cc.Label,confirmNode:cc.Node},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.initData()},onQuitFragmentCallback:function(t,i){"OreCompoundChoose"==t&&null!=i&&(this.playerGoodsId=i.playerGoodsId,this.oreCompoundPrepare())},initData:function(){var t=this.data;t?(this.oreNumberNode.active=!0,this.hintLabel.node.active=!0,this.oreNameLabel.string=t.oreGradeName+"\u7ea7"+t.oreName,this.oreNumberLabel.string=t.number+"\u5757",t.number>=2?(this.hintLabel.string="\u4f60\u5c06\u8981\u5408\u6210"+(t.oreGradeName+1)+"\u7ea7"+t.oreName+"\uff0c\u9700\u8981\u82b1\u8d39"+100*(t.oreGradeName+1)+"\u94f6\u4e24",this.confirmNode.active=!0):(this.hintLabel.string="\u65e0\u6cd5\u5408\u6210\uff0c\u76f8\u540c\u77ff\u77f3\u4e0d\u591f2\u4e2a",this.confirmNode.active=!1)):(this.oreNumberNode.active=!1,this.hintLabel.active=!1,this.confirmNode.active=!1)},chooseOreClickCallback:function(t){this.launchFragment("OreCompoundChoose")},onCompoundClickCallback:function(t){this.oreCompound()},onBackClickCallback:function(t){this.quitFragment()},oreCompoundPrepare:function(){this.playerGoodsId&&(this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/ore/compoundPrepare",{playerId:application.getPlayerId(),playerGoodsId:this.playerGoodsId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this)))},oreCompound:function(){this.playerGoodsId&&(this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/ore/compound",{playerId:application.getPlayerId(),playerGoodsId:this.playerGoodsId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this)))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.oreCompoundPrepare()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],OreDetail:[function(t,i,o){"use strict";cc._RF.push(i,"ea814FuCddAop2lVLoFOX/G","OreDetail");var e=t("Fragment");cc.Class({extends:e,properties:{titleLabel:cc.Label,nameLabel:cc.Label,priceLabel:cc.Label,priceNode:cc.Node,gradeNameLabel:cc.Label,descriptionLabel:cc.Label,buyNode:cc.Node,silverLabel:cc.Label,buyNumberEditbox:cc.EditBox},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.titleLabel.string=this.getLaunchData().action,"\u77ff\u77f3\u8d2d\u4e70"==this.titleLabel.string?this.buyNode.active=!0:this.buyNode.active=!1,this.isShowPrice=this.getLaunchData().isShowPrice,null!=this.isShowPrice&&void 0!=this.isShowPrice||(this.isShowPrice=!0),this.isShowPrice?this.priceNode.opacity=255:this.priceNode.opacity=0,this.oreId=this.getLaunchData().oreId,this.oreDetail()},initData:function(){var t=this.data;if(null!=t){this.nameLabel.string=t.name,this.priceLabel.string=t.price+"\u94f6\u4e24",this.gradeNameLabel.string=t.gradeName+"\u7ea7",this.descriptionLabel.string="\u3000\u3000"+t.description;var i=application.getMain();this.silverLabel.string="\u60a8\u62e5\u6709"+i.playerSilver+"\u94f6\u4e24"}},onMainChange:function(){var t=application.getMain();this.silverLabel.string="\u60a8\u62e5\u6709"+t.playerSilver+"\u94f6\u4e24"},onBackClickCallback:function(t){this.quitFragment()},onBuyClickCallback:function(t){var i=this.buyNumberEditbox.string;util.isNumber(i)?this.orePlayerBuy(i):(this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u8d2d\u4e70\u6570\u91cf\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},oreDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/ore/detail",{oreId:this.oreId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},orePlayerBuy:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/ore/playerBuy",{oreId:this.oreId,playerId:application.getPlayerId(),buyNumber:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],OreList:[function(t,i,o){"use strict";cc._RF.push(i,"7a2c4uQlMlNPr2Un6rpKOpR","OreList");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{oreListNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.oreList()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){var t=this.data.oreList;if(null!=t)for(var i=0;i<t.length;i++){var o=t[i],e=cc.instantiate(this.commonItemPrefab);e.commonItemComp=e.getComponent(a),e.commonItemComp.id=o.id,e.commonItemComp.setName(o.gradeName+"\u7ea7"+o.name),e.commonItemComp.setInfo(o.price+"\u94f6\u4e24"),e.commonItemComp.setAction("\u8d2d\u4e70"),e.commonItemComp.setOnNameClickCallback(function(t){var i={action:"\u77ff\u77f3\u8be6\u60c5",oreId:t.id};this.launchFragment("OreDetail",i)}.bind(this)),e.commonItemComp.setOnActionClickCallback(function(t){var i={action:"\u77ff\u77f3\u8d2d\u4e70",oreId:t.id};this.launchFragment("OreDetail",i)}.bind(this)),e.parent=this.oreListNode}},oreList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/ore/list",{},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],Pay:[function(t,i,o){"use strict";cc._RF.push(i,"98b1dDuHLBDB4jo+XJPPZ4i","Pay");var e=t("Fragment");cc.Class({extends:e,properties:{},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){},onBackClickCallback:function(t){this.quitFragment()}}),cc._RF.pop()},{Fragment:"Fragment"}],PersonFace:[function(t,i,o){"use strict";cc._RF.push(i,"e058boYH1NAA5oTdkbEmo3X","PersonFace"),cc.Class({extends:cc.Component,properties:{_draw:{default:""},draw:{get:function(){return this._draw},set:function(t){var i=this._draw;this._draw=t.toString(),this._draw!==i&&this._updateRenderData()}}},onLoad:function(){this.spriteComp=this.getComponent(cc.Sprite)},start:function(){this._updateRenderData()},_updateRenderData:function(){this.spriteComp&&this._draw&&cc.loader.loadRes("textures/person/face/"+this._draw,cc.SpriteFrame,function(t,i){null==t?this.spriteComp.spriteFrame=i:cc.log(t)}.bind(this))}}),cc._RF.pop()},{}],PersonHead:[function(t,i,o){"use strict";cc._RF.push(i,"a3b31jHcE9KQKfYLopQgg6u","PersonHead"),cc.Class({extends:cc.Component,properties:{headSprite:cc.Sprite,defaultSpriteFrame:cc.SpriteFrame,_draw:{default:""},draw:{get:function(){return this._draw},set:function(t){var i=this._draw;this._draw=t.toString(),this._draw!==i&&this._updateRenderData()}}},start:function(){this._updateRenderData()},_updateRenderData:function(){this.headSprite&&this._draw&&cc.loader.loadRes("textures/person/head/"+this._draw,cc.SpriteFrame,function(t,i){this.headSprite.spriteFrame=null==t&&i?i:this.defaultSpriteFrame}.bind(this))},onClickCallback:function(t){null!=this.clickCallback&&this.clickCallback(this)},setOnClickCallback:function(t){this.clickCallback=t}}),cc._RF.pop()},{}],PersonageCombatAwardDetail:[function(t,i,o){"use strict";cc._RF.push(i,"5460crJz2JDCqkHi5V2weTU","PersonageCombatAwardDetail");var e=t("Fragment");t("DanExplainItem");cc.Class({extends:e,properties:{},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){},onBackClickCallback:function(t){this.quitFragment()}}),cc._RF.pop()},{DanExplainItem:"DanExplainItem",Fragment:"Fragment"}],PersonageCombatPlayDetail:[function(t,i,o){"use strict";cc._RF.push(i,"c3628gI3sNDUYGawiUZzskw","PersonageCombatPlayDetail");var e=t("Fragment");t("DanExplainItem");cc.Class({extends:e,properties:{},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){},onBackClickCallback:function(t){this.quitFragment()}}),cc._RF.pop()},{DanExplainItem:"DanExplainItem",Fragment:"Fragment"}],PersonageCombatPrepare:[function(t,i,o){"use strict";cc._RF.push(i,"8ecc8t7/vFGgrNOexi39NOB","PersonageCombatPrepare");var e=t("Fragment");cc.Class({extends:e,properties:{residueTimeLabel:cc.Label,joinButton:cc.Button,player1NameLabel:cc.Label,player2NameLabel:cc.Label,player3NameLabel:cc.Label},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.player1NameLabel.buttonComp=this.player1NameLabel.getComponent("cc.Button"),this.player1NameLabel.labelOutlineComp=this.player1NameLabel.getComponent("cc.LabelOutline"),this.player2NameLabel.buttonComp=this.player2NameLabel.getComponent("cc.Button"),this.player2NameLabel.labelOutlineComp=this.player2NameLabel.getComponent("cc.LabelOutline"),this.player3NameLabel.buttonComp=this.player3NameLabel.getComponent("cc.Button"),this.player3NameLabel.labelOutlineComp=this.player3NameLabel.getComponent("cc.LabelOutline")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.personageCombatPrepare()},onQuitFragmentCallback:function(t){"PersonageCombat"==t&&this.personageCombatPrepare()},onBackClickCallback:function(t){this.quitFragment()},onRefreshClickCallback:function(t){this.personageCombatPrepare()},onPlayDetailClickCallback:function(t){this.launchFragment("PersonageCombatPlayDetail")},onAwardDetailClickCallback:function(t){this.launchFragment("PersonageCombatAwardDetail")},initData:function(){var t=this.data;t&&(t.player1?(this.player1NameLabel.string=t.player1.name,this.player1NameLabel.buttonComp.interactable=!0,this.player1NameLabel.labelOutlineComp.enabled=!0):(this.player1NameLabel.string="\u3010\u7a7a\u3011",this.player1NameLabel.buttonComp.interactable=!1,this.player1NameLabel.labelOutlineComp.enabled=!1),t.player2?(this.player2NameLabel.string=t.player2.name,this.player2NameLabel.buttonComp.interactable=!0,this.player2NameLabel.labelOutlineComp.enabled=!0):(this.player2NameLabel.string="\u3010\u7a7a\u3011",this.player2NameLabel.buttonComp.interactable=!1,this.player2NameLabel.labelOutlineComp.enabled=!1),t.player3?(this.player3NameLabel.string=t.player3.name,this.player3NameLabel.buttonComp.interactable=!0,this.player3NameLabel.labelOutlineComp.enabled=!0):(this.player3NameLabel.string="\u3010\u7a7a\u3011",this.player3NameLabel.buttonComp.interactable=!1,this.player3NameLabel.labelOutlineComp.enabled=!1),null!=this.residueTimeCallback&&this.unschedule(this.residueTimeCallback),this.residueTime=parseInt((t.openTime-t.currentTime)/1e3),this.residueTime<0?(this.residueTimeLabel.string="\u6b64\u5c4a\u4e2a\u4eba\u6597\u5c06\u6b63\u5728\u8fdb\u884c\u4e2d\uff0c\u8d76\u5feb\u53bb\u53c2\u52a0\u5427\uff01",this.joinButton.node.active=!0):(this.residueTimeLabel.string="\u8ddd\u79bb\u6b64\u5c4a\u4e2a\u4eba\u6597\u5c06\u5f00\u59cb\u8fd8\u6709"+util.formatSeconds(this.residueTime)+"\uff01",this.joinButton.node.active=!1),this.residueTimeCallback=function(){this.residueTime--,this.residueTime<0?(this.residueTimeLabel.string="\u6b64\u5c4a\u4e2a\u4eba\u6597\u5c06\u6b63\u5728\u8fdb\u884c\u4e2d\uff0c\u8d76\u5feb\u53bb\u53c2\u52a0\u5427\uff01",this.joinButton.node.active=!0):(this.residueTimeLabel.string="\u8ddd\u79bb\u6b64\u5c4a\u4e2a\u4eba\u6597\u5c06\u5f00\u59cb\u8fd8\u6709"+util.formatSeconds(this.residueTime)+"\uff01",this.joinButton.node.active=!1),this.residueTime<-3600&&(this.unschedule(this.residueTimeCallback),this.playerCombatPrepare())},this.schedule(this.residueTimeCallback,1))},personageCombatPrepare:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/personage/combatPrepare",{},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},onPersonageCombatClickCallback:function(){if(application.getMain().gradeName<30)return this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u7684\u7b49\u7ea7\u4e0d\u591f30\u7ea7\uff0c\u65e0\u6cd5\u53c2\u52a0\u4e2a\u4eba\u6597\u5c06\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),void this.hintDialogNode.hintDialogComp.show();this.launchFragment("PersonageCombat")},onPlayer1ClickCallback:function(t){if(this.data.player1)if(application.getPlayerId()==this.data.player1.id)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:this.data.player1.id};this.launchFragment("PlayerOtherDetail",i)}},onPlayer2ClickCallback:function(t){if(this.data.player2)if(application.getPlayerId()==this.data.player2.id)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:this.data.player2.id};this.launchFragment("PlayerOtherDetail",i)}},onPlayer3ClickCallback:function(t){if(this.data.player3)if(application.getPlayerId()==this.data.player3.id)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:this.data.player3.id};this.launchFragment("PlayerOtherDetail",i)}}}),cc._RF.pop()},{Fragment:"Fragment"}],PersonageCombat:[function(t,i,o){"use strict";cc._RF.push(i,"33745kA6bBGeac08Pa39idl","PersonageCombat");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{residueTimeLabel:cc.Label,myScoreLabel:cc.Label,joinPlayerNumLabel:cc.Label,playerListNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.personageCombat()},onQuitFragmentCallback:function(t,i){"Combat"==t&&(i?network.getLastCombat():this.personageCombat())},onBackClickCallback:function(t){this.quitFragment()},onRefreshClickCallback:function(t){this.personageCombat()},initData:function(){var t=this.data;if(null!=t){this.joinPlayerNumLabel.string="\u5171\u6709"+t.joinPlayerNum+"\u4eba\u53c2\u52a0";var i="\u60a8\u5df2\u8f83\u91cf\u4e86"+t.combatCount+"\u6b21\uff0c"+t.winCount+"\u80dc"+t.defeatedCount+"\u8d1f";t.myRank?i=i+"\uff0c\u5f53\u524d\u5904\u4e8e\u7b2c"+t.myRank+"\u540d":i+="\uff0c\u5f53\u524d\u6ca1\u6709\u540d\u6b21",this.myScoreLabel.string=i,null!=this.residueTimeCallback&&this.unschedule(this.residueTimeCallback),this.residueTime=parseInt((t.endTime-t.currentTime)/1e3),this.residueTime<0?this.residueTimeLabel.string="\u6b64\u5c4a\u4e2a\u4eba\u6597\u5c06\u5df2\u7ed3\u675f\uff01":this.residueTimeLabel.string="\u8ddd\u79bb\u6b64\u5c4a\u4e2a\u4eba\u6597\u5c06\u7ed3\u675f\u8fd8\u6709"+util.formatSeconds(this.residueTime)+"\uff01",this.residueTimeCallback=function(){this.residueTime--,this.residueTime<0?this.residueTimeLabel.string="\u6b64\u5c4a\u4e2a\u4eba\u6597\u5c06\u5df2\u7ed3\u675f\uff01":this.residueTimeLabel.string="\u8ddd\u79bb\u6b64\u5c4a\u4e2a\u4eba\u6597\u5c06\u7ed3\u675f\u8fd8\u6709"+util.formatSeconds(this.residueTime)+"\uff01"},this.schedule(this.residueTimeCallback,1);for(var o=this.data.joinPlayerList,e=0;e<this.playerListNode.childrenCount;e++){(n=this.playerListNode.children[e]).destroy()}for(e=0;e<o.length;e++){var n,s=o[e];(n=cc.instantiate(this.commonItemPrefab)).commonItemComp=n.getComponent(a),n.commonItemComp.id=s.id,n.commonItemComp.setName(s.name),n.commonItemComp.setInfo(s.winCount+"\u80dc"+s.defeatedCount+"\u8d1f"),n.commonItemComp.setActionEnable(!1),n.commonItemComp.setOnNameClickCallback(function(t){if(application.getPlayerId()==t.id)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:t.id};this.launchFragment("PlayerOtherDetail",i)}}.bind(this)),n.parent=this.playerListNode}}},personageCombat:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/personage/combat",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},onCombatContestPersonageClickCallback:function(t){if(application.getMain().gradeName<30)return this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u7684\u7b49\u7ea7\u4e0d\u591f30\u7ea7\uff0c\u65e0\u6cd5\u8fdb\u884c\u4e2a\u4eba\u6597\u5c06\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),void this.hintDialogNode.hintDialogComp.show();this.loadDialogNode.loadDialogComp.show(),network.combatContestPersonage()},onWsMessage:function(t){"combatContestPersonage"==t.action&&(this.loadDialogNode.loadDialogComp.dismiss(),1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setTitle("\u6e29\u99a8\u63d0\u793a"),this.hintDialogNode.hintDialogComp.setContent("\u6b63\u5728\u5339\u914d\u5bf9\u624b\u8fdb\u884c\u8f83\u91cf\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\uff0c5\u79d2\u540e\u53ef\u81ea\u884c\u53d6\u6d88\u9080\u8bf7\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonEnable(!0),this.hintDialogNode.hintDialogComp.setRightButtonInteractable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),network.combatContestPersonageCancel()}.bind(this)),this.hintDialogNode.hintDialogComp.show(),this.hintDialogNode.hintDialogComp.scheduleCallback=function(){this.setRightButtonInteractable(!0)},this.hintDialogNode.hintDialogComp.scheduleOnce(this.hintDialogNode.hintDialogComp.scheduleCallback,5)):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())),"combatCreate"==t.action&&(this.loadDialogNode.loadDialogComp.dismiss(),this.hintDialogNode.hintDialogComp.dismiss())}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],PlayerAbility:[function(t,i,o){"use strict";cc._RF.push(i,"e4f85HJWWpCGZfuKC23Qz4T","PlayerAbility");var e=t("Fragment");cc.Class({extends:e,properties:{canUseAbilityLabel:cc.Label,hpLabel:cc.Label,mpLabel:cc.Label,attackLabel:cc.Label,supernaturalLabel:cc.Label,defenseLabel:cc.Label,speedLabel:cc.Label,physiqueAbilityLabel:cc.Label,mindAbilityLabel:cc.Label,strengthAbilityLabel:cc.Label,agilityAbilityLabel:cc.Label,physiqueAbilityMinusButton:cc.Button,physiqueAbilityAddButton:cc.Button,mindAbilityMinusButton:cc.Button,mindAbilityAddButton:cc.Button,strengthAbilityMinusButton:cc.Button,strengthAbilityAddButton:cc.Button,agilityAbilityMinusButton:cc.Button,agilityAbilityAddButton:cc.Button,hpHintLabel:cc.Label,mpHintLabel:cc.Label,attackHintLabel:cc.Label,supernaturalHintLabel:cc.Label,defenseHintLabel:cc.Label,speedHintLabel:cc.Label,physiqueAbilityHintLabel:cc.Label,mindAbilityHintLabel:cc.Label,strengthAbilityHintLabel:cc.Label,agilityAbilityHintLabel:cc.Label,confirmAbilityButton:cc.Button},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerAbilityDetail()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){if(null!=this.data){var t=this.data;this.canUseAbilityLabel.string=t.canUseAbility+"",this.hpLabel.string=t.hpLimit+"",this.mpLabel.string=t.mpLimit+"",this.attackLabel.string=t.attack+"",this.supernaturalLabel.string=t.supernatural+"",this.defenseLabel.string=t.defense+"",this.speedLabel.string=t.speed+"",this.physiqueAbilityLabel.string=t.physiqueAbility+"",this.mindAbilityLabel.string=t.mindAbility+"",this.strengthAbilityLabel.string=t.strengthAbility+"",this.agilityAbilityLabel.string=t.agilityAbility+"",this.addPhysiqueAbility=0,this.addMindAbility=0,this.addStrengthAbility=0,this.addAgilityAbility=0,this.initAbilityData()}},initAbilityData:function(){if(null!=this.data){var t=this.data;if(0==t.canUseAbility)this.hpHintLabel.string="",this.mpHintLabel.string="",this.attackHintLabel.string="",this.supernaturalHintLabel.string="",this.defenseHintLabel.string="",this.speedHintLabel.string="",this.physiqueAbilityHintLabel.string="",this.mindAbilityHintLabel.string="",this.strengthAbilityHintLabel.string="",this.agilityAbilityHintLabel.string="",this.physiqueAbilityMinusButton.interactable=!1,this.physiqueAbilityAddButton.interactable=!1,this.mindAbilityMinusButton.interactable=!1,this.mindAbilityAddButton.interactable=!1,this.strengthAbilityMinusButton.interactable=!1,this.strengthAbilityAddButton.interactable=!1,this.agilityAbilityMinusButton.interactable=!1,this.agilityAbilityAddButton.interactable=!1,this.confirmAbilityButton.node.active=!1;else{if(0==this.addPhysiqueAbility)this.hpHintLabel.string="",this.defenseHintLabel.string="",this.physiqueAbilityMinusButton.interactable=!1,this.physiqueAbilityAddButton.interactable=!0,this.physiqueAbilityHintLabel.string="";else{var i=50*this.addPhysiqueAbility+t.growthRate*(t.physiqueRate+50)/15*this.addPhysiqueAbility;this.hpHintLabel.string="    +"+parseInt(i);var o=5*this.addPhysiqueAbility+t.growthRate*(t.physiqueRate+50)/150*this.addPhysiqueAbility;this.defenseHintLabel.string="    +"+parseInt(o),this.physiqueAbilityMinusButton.interactable=!0,this.physiqueAbilityAddButton.interactable=!0,this.physiqueAbilityHintLabel.string="+"+this.addPhysiqueAbility}if(0==this.addMindAbility)this.mpHintLabel.string="",this.supernaturalHintLabel.string="",this.mindAbilityMinusButton.interactable=!1,this.mindAbilityAddButton.interactable=!0,this.mindAbilityHintLabel.string="";else{var e=40*this.addMindAbility+t.growthRate*(t.mindRate+50)/20*this.addMindAbility;this.mpHintLabel.string="    +"+parseInt(e);var a=10*this.addMindAbility+t.growthRate*(t.mindRate+50)/50*this.addMindAbility;this.supernaturalHintLabel.string="    +"+parseInt(a),this.mindAbilityMinusButton.interactable=!0,this.mindAbilityAddButton.interactable=!0,this.mindAbilityHintLabel.string="+"+this.addMindAbility}if(0==this.addStrengthAbility)this.attackHintLabel.string="",this.strengthAbilityMinusButton.interactable=!1,this.strengthAbilityAddButton.interactable=!0,this.strengthAbilityHintLabel.string="";else{var n=20*this.addStrengthAbility+t.growthRate*(t.strengthRate+50)/40*this.addStrengthAbility;this.attackHintLabel.string="    +"+parseInt(n),this.strengthAbilityMinusButton.interactable=!0,this.strengthAbilityAddButton.interactable=!0,this.strengthAbilityHintLabel.string="+"+this.addStrengthAbility}if(0==this.addAgilityAbility)this.speedHintLabel.string="",this.agilityAbilityMinusButton.interactable=!1,this.agilityAbilityAddButton.interactable=!0,this.agilityAbilityHintLabel.string="";else{var s=parseInt(t.agilityRate)+100,l=this.addAgilityAbility+s*t.growthRate/200*this.addAgilityAbility;this.speedHintLabel.string="    +"+parseInt(l),this.agilityAbilityMinusButton.interactable=!0,this.agilityAbilityAddButton.interactable=!0,this.agilityAbilityHintLabel.string="+"+this.addAgilityAbility}this.addPhysiqueAbility+this.addMindAbility+this.addStrengthAbility+this.addAgilityAbility==t.canUseAbility&&(this.physiqueAbilityAddButton.interactable=!1,this.mindAbilityAddButton.interactable=!1,this.strengthAbilityAddButton.interactable=!1,this.agilityAbilityAddButton.interactable=!1),this.addPhysiqueAbility+this.addMindAbility+this.addStrengthAbility+this.addAgilityAbility==0?this.confirmAbilityButton.node.active=!1:this.confirmAbilityButton.node.active=!0,this.canUseAbilityLabel.string=t.canUseAbility-(this.addPhysiqueAbility+this.addMindAbility+this.addStrengthAbility+this.addAgilityAbility)+""}}},onAbilityMinusClickCallback:function(t,i){"physiqueAbility"==i&&this.addPhysiqueAbility--,"mindAbility"==i&&this.addMindAbility--,"strengthAbility"==i&&this.addStrengthAbility--,"agilityAbility"==i&&this.addAgilityAbility--,this.initAbilityData()},onAbilityAddClickCallback:function(t,i){"physiqueAbility"==i&&this.addPhysiqueAbility++,"mindAbility"==i&&this.addMindAbility++,"strengthAbility"==i&&this.addStrengthAbility++,"agilityAbility"==i&&this.addAgilityAbility++,this.initAbilityData()},onConfirmAbilityClickCallback:function(t){this.hintDialogNode.hintDialogComp.setContent("\u60a8\u786e\u5b9a\u8fd9\u6837\u5206\u914d\u5c5e\u6027\u70b9\u5417\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerAbilityAdd()}.bind(this)),this.hintDialogNode.hintDialogComp.show()},playerAbilityDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/abilityDetail",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerAbilityAdd:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/abilityAdd",{playerId:application.getPlayerId(),addPhysiqueAbility:this.addPhysiqueAbility,addMindAbility:this.addMindAbility,addStrengthAbility:this.addStrengthAbility,addAgilityAbility:this.addAgilityAbility},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.playerAbilityDetail()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],PlayerAdjutantAbility:[function(t,i,o){"use strict";cc._RF.push(i,"3dbc2YShIRPR7TqdF8E/RpE","PlayerAdjutantAbility");var e=t("Fragment");cc.Class({extends:e,properties:{canUseAbilityLabel:cc.Label,hpLabel:cc.Label,mpLabel:cc.Label,attackLabel:cc.Label,supernaturalLabel:cc.Label,defenseLabel:cc.Label,speedLabel:cc.Label,physiqueAbilityLabel:cc.Label,mindAbilityLabel:cc.Label,strengthAbilityLabel:cc.Label,agilityAbilityLabel:cc.Label,physiqueAbilityMinusButton:cc.Button,physiqueAbilityAddButton:cc.Button,mindAbilityMinusButton:cc.Button,mindAbilityAddButton:cc.Button,strengthAbilityMinusButton:cc.Button,strengthAbilityAddButton:cc.Button,agilityAbilityMinusButton:cc.Button,agilityAbilityAddButton:cc.Button,hpHintLabel:cc.Label,mpHintLabel:cc.Label,attackHintLabel:cc.Label,supernaturalHintLabel:cc.Label,defenseHintLabel:cc.Label,speedHintLabel:cc.Label,physiqueAbilityHintLabel:cc.Label,mindAbilityHintLabel:cc.Label,strengthAbilityHintLabel:cc.Label,agilityAbilityHintLabel:cc.Label,confirmAbilityButton:cc.Button},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerAdjutantId=this.getLaunchData().playerAdjutantId,this.playerAdjutantAbilityDetail()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){if(null!=this.data){var t=this.data;this.canUseAbilityLabel.string=t.canUseAbility+"",this.hpLabel.string=t.hpLimit+"",this.mpLabel.string=t.mpLimit+"",this.attackLabel.string=t.attack+"",this.supernaturalLabel.string=t.supernatural+"",this.defenseLabel.string=t.defense+"",this.speedLabel.string=t.speed+"",this.physiqueAbilityLabel.string=t.physiqueAbility+"",this.mindAbilityLabel.string=t.mindAbility+"",this.strengthAbilityLabel.string=t.strengthAbility+"",this.agilityAbilityLabel.string=t.agilityAbility+"",this.addPhysiqueAbility=0,this.addMindAbility=0,this.addStrengthAbility=0,this.addAgilityAbility=0}this.initAbilityData()},initAbilityData:function(){if(null!=this.data){var t=this.data;if(0==t.canUseAbility)this.hpHintLabel.string="",this.mpHintLabel.string="",this.attackHintLabel.string="",this.supernaturalHintLabel.string="",this.defenseHintLabel.string="",this.speedHintLabel.string="",this.physiqueAbilityHintLabel.string="",this.mindAbilityHintLabel.string="",this.strengthAbilityHintLabel.string="",this.agilityAbilityHintLabel.string="",this.physiqueAbilityMinusButton.interactable=!1,this.physiqueAbilityAddButton.interactable=!1,this.mindAbilityMinusButton.interactable=!1,this.mindAbilityAddButton.interactable=!1,this.strengthAbilityMinusButton.interactable=!1,this.strengthAbilityAddButton.interactable=!1,this.agilityAbilityMinusButton.interactable=!1,this.agilityAbilityAddButton.interactable=!1,this.confirmAbilityButton.node.active=!1;else{if(0==this.addPhysiqueAbility)this.hpHintLabel.string="",this.defenseHintLabel.string="",this.physiqueAbilityMinusButton.interactable=!1,this.physiqueAbilityAddButton.interactable=!0,this.physiqueAbilityHintLabel.string="";else{var i=50*this.addPhysiqueAbility+t.growthRate*(t.physiqueRate+50)/15*this.addPhysiqueAbility;this.hpHintLabel.string="    +"+parseInt(i);var o=5*this.addPhysiqueAbility+t.growthRate*(t.physiqueRate+50)/150*this.addPhysiqueAbility;this.defenseHintLabel.string="    +"+parseInt(o),this.physiqueAbilityMinusButton.interactable=!0,this.physiqueAbilityAddButton.interactable=!0,this.physiqueAbilityHintLabel.string="+"+this.addPhysiqueAbility}if(0==this.addMindAbility)this.mpHintLabel.string="",this.supernaturalHintLabel.string="",this.mindAbilityMinusButton.interactable=!1,this.mindAbilityAddButton.interactable=!0,this.mindAbilityHintLabel.string="";else{var e=40*this.addMindAbility+t.growthRate*(t.mindRate+50)/20*this.addMindAbility;this.mpHintLabel.string="    +"+parseInt(e);var a=10*this.addMindAbility+t.growthRate*(t.mindRate+50)/50*this.addMindAbility;this.supernaturalHintLabel.string="    +"+parseInt(a),this.mindAbilityMinusButton.interactable=!0,this.mindAbilityAddButton.interactable=!0,this.mindAbilityHintLabel.string="+"+this.addMindAbility}if(0==this.addStrengthAbility)this.attackHintLabel.string="",this.strengthAbilityMinusButton.interactable=!1,this.strengthAbilityAddButton.interactable=!0,this.strengthAbilityHintLabel.string="";else{var n=20*this.addStrengthAbility+t.growthRate*(t.strengthRate+50)/40*this.addStrengthAbility;this.attackHintLabel.string="    +"+parseInt(n),this.strengthAbilityMinusButton.interactable=!0,this.strengthAbilityAddButton.interactable=!0,this.strengthAbilityHintLabel.string="+"+this.addStrengthAbility}if(0==this.addAgilityAbility)this.speedHintLabel.string="",this.agilityAbilityMinusButton.interactable=!1,this.agilityAbilityAddButton.interactable=!0,this.agilityAbilityHintLabel.string="";else{var s=parseInt(t.agilityRate)+100,l=this.addAgilityAbility+s*t.growthRate/200*this.addAgilityAbility;this.speedHintLabel.string="    +"+parseInt(l),this.agilityAbilityMinusButton.interactable=!0,this.agilityAbilityAddButton.interactable=!0,this.agilityAbilityHintLabel.string="+"+this.addAgilityAbility}this.addPhysiqueAbility+this.addMindAbility+this.addStrengthAbility+this.addAgilityAbility==t.canUseAbility&&(this.physiqueAbilityAddButton.interactable=!1,this.mindAbilityAddButton.interactable=!1,this.strengthAbilityAddButton.interactable=!1,this.agilityAbilityAddButton.interactable=!1),this.addPhysiqueAbility+this.addMindAbility+this.addStrengthAbility+this.addAgilityAbility==0?this.confirmAbilityButton.node.active=!1:this.confirmAbilityButton.node.active=!0,this.canUseAbilityLabel.string=t.canUseAbility-(this.addPhysiqueAbility+this.addMindAbility+this.addStrengthAbility+this.addAgilityAbility)+""}}},onAbilityMinusClickCallback:function(t,i){"physiqueAbility"==i&&this.addPhysiqueAbility--,"mindAbility"==i&&this.addMindAbility--,"strengthAbility"==i&&this.addStrengthAbility--,"agilityAbility"==i&&this.addAgilityAbility--,this.initAbilityData()},onAbilityAddClickCallback:function(t,i){"physiqueAbility"==i&&this.addPhysiqueAbility++,"mindAbility"==i&&this.addMindAbility++,"strengthAbility"==i&&this.addStrengthAbility++,"agilityAbility"==i&&this.addAgilityAbility++,this.initAbilityData()},onConfirmAbilityClickCallback:function(t){this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u786e\u5b9a\u8fd9\u6837\u5206\u914d\u5c5e\u6027\u70b9\u5417\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerAdjutantAbilityAdd()}.bind(this)),this.hintDialogNode.hintDialogComp.show()},playerAdjutantAbilityDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantAbilityDetail",{playerId:application.getPlayerId(),playerAdjutantId:this.playerAdjutantId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.quitFragment()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerAdjutantAbilityAdd:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantAbilityAdd",{playerId:application.getPlayerId(),playerAdjutantId:this.playerAdjutantId,addPhysiqueAbility:this.addPhysiqueAbility,addMindAbility:this.addMindAbility,addStrengthAbility:this.addStrengthAbility,addAgilityAbility:this.addAgilityAbility},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.playerAdjutantAbilityDetail(),this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],PlayerAdjutantBest:[function(t,i,o){"use strict";cc._RF.push(i,"2624fbGMIdGqLvJYtO5vkEm","PlayerAdjutantBest");var e=t("Fragment");cc.Class({extends:e,properties:{nameLabel:cc.Label,gradeNameLabel:cc.Label,noZhengLabel:cc.Label,zhengNode:cc.Node,playerNameLabel:cc.Label,jobNameLabel:cc.Label,hpLabel:cc.Label,mpLabel:cc.Label,attackLabel:cc.Label,supernaturalLabel:cc.Label,defenseLabel:cc.Label,speedLabel:cc.Label},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.adjutantId=this.getLaunchData().adjutantId,this.playerAdjutantBest()},initData:function(){if(null!=this.data){var t=this.data;this.nameLabel.string=t.adjutantName,t.playerId?(this.zhengNode.active=!0,this.noZhengLabel.node.active=!1,this.playerNameLabel.string=t.playerName,this.hpLabel.string=t.hpLimit,this.mpLabel.string=t.mpLimit,this.attackLabel.string=t.attack+"",this.supernaturalLabel.string=t.supernatural+"",this.defenseLabel.string=t.defense+"",this.speedLabel.string=t.speed+"",this.jobNameLabel.string=t.jobName,this.gradeNameLabel.string=t.gradeName+"\u7ea7"):(this.zhengNode.active=!1,this.noZhengLabel.node.active=!0)}},onBackClickCallback:function(t){this.quitFragment()},playerAdjutantBest:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantBest",{adjutantId:this.adjutantId,playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},onPlayerClickCallback:function(t){if(this.data.playerId)if(application.getPlayerId()==this.data.playerId)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:this.data.playerId};this.launchFragment("PlayerOtherDetail",i)}}}),cc._RF.pop()},{Fragment:"Fragment"}],PlayerAdjutantCombat:[function(t,i,o){"use strict";cc._RF.push(i,"76a3fBSt7ZE1LAvJOzOJNYp","PlayerAdjutantCombat");var e=t("Fragment");cc.Class({extends:e,properties:{kangWuLiLabel:cc.Label,kangXuanJiLabel:cc.Label,kangWeiKunLabel:cc.Label,kangFengSuoLabel:cc.Label,kangLuoLeiLabel:cc.Label,kangFengLangLabel:cc.Label,kangYaoHuoLabel:cc.Label,kangRaoLuanLabel:cc.Label,kangDuShuLabel:cc.Label,baoJiLvLabel:cc.Label,zhiMingLvLabel:cc.Label,fanJiLvLabel:cc.Label,fanZhenLvLabel:cc.Label,mingZhongLvLabel:cc.Label,douBiLvLabel:cc.Label,faBaoLvLabel:cc.Label,lianJiLvLabel:cc.Label},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerAdjutantId=this.getLaunchData().playerAdjutantId,this.playerAdjutantCombat()},onBackClickCallback:function(t){this.quitFragment()},onCombatDescriptionClickCallback:function(t){this.launchFragment("CombatDescription")},onCombatBaseDescriptionClickCallback:function(t){this.launchFragment("CombatBaseDescription")},initData:function(){var t=this.data;t&&(this.kangWuLiLabel.string=t.kangWuLi+"",this.kangXuanJiLabel.string=t.kangXuanJi+"",this.kangWeiKunLabel.string=t.kangWeiKun+"",this.kangFengSuoLabel.string=t.kangFengSuo+"",this.kangLuoLeiLabel.string=t.kangLuoLei+"",this.kangFengLangLabel.string=t.kangFengLang+"",this.kangYaoHuoLabel.string=t.kangYaoHuo+"",this.kangRaoLuanLabel.string=t.kangRaoLuan+"",this.kangDuShuLabel.string=t.kangDuShu+"",this.baoJiLvLabel.string=t.baoJiLv+"",this.zhiMingLvLabel.string=t.zhiMingLv+"",this.fanJiLvLabel.string=t.fanJiLv+"",this.fanZhenLvLabel.string=t.fanZhenLv+"",this.mingZhongLvLabel.string=t.mingZhongLv+"",this.douBiLvLabel.string=t.duoBiLv+"",this.faBaoLvLabel.string=t.faBaoLv+"",this.lianJiLvLabel.string=t.lianJiLv+"")},playerAdjutantCombat:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantCombat",{playerAdjutantId:this.playerAdjutantId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],PlayerAdjutantDetailOtherLook:[function(t,i,o){"use strict";cc._RF.push(i,"1fb5a7YQc5G4phQGxEkwRIW","PlayerAdjutantDetailOtherLook");var e=t("Fragment"),a=t("PersonFace");cc.Class({extends:e,properties:{nameLabel:cc.Label,stateLabel:cc.Label,titleLabel:cc.Label,jobNameLabel:cc.Label,personFace:a,gradeNameLabel:cc.Label,hpLabel:cc.Label,mpLabel:cc.Label,attackLabel:cc.Label,supernaturalLabel:cc.Label,defenseLabel:cc.Label,speedLabel:cc.Label},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerAdjutantId=this.getLaunchData().playerAdjutantId,this.playerAdjutantDetailOther()},onBackClickCallback:function(t){this.quitFragment()},onAdjutantClickCallback:function(t){var i={adjutantId:this.data.adjutantId};this.launchFragment("AdjutantDetail",i)},onAdjutantCombatClickCallback:function(t){var i={playerAdjutantId:this.data.id};this.launchFragment("PlayerAdjutantCombat",i)},initData:function(){if(null!=this.data){var t=this.data;this.nameLabel.string=t.name,this.stateLabel.string=t.state,this.titleLabel.string=t.title,this.jobNameLabel.string=t.jobName,this.gradeNameLabel.string=t.gradeName+"\u7ea7",this.hpLabel.string=t.hpLimit,this.mpLabel.string=t.mpLimit,this.attackLabel.string=t.attack+"",this.supernaturalLabel.string=t.supernatural+"",this.defenseLabel.string=t.defense+"",this.speedLabel.string=t.speed+"",this.personFace.draw=t.faceDraw}},playerAdjutantDetailOther:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantDetailOther",{playerAdjutantId:this.playerAdjutantId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment",PersonFace:"PersonFace"}],PlayerAdjutantDetailOther:[function(t,i,o){"use strict";cc._RF.push(i,"ee7926XzfhAx4Xw3WPuuPji","PlayerAdjutantDetailOther");var e=t("Fragment"),a=t("PersonFace"),n=t("CommonItem");cc.Class({extends:e,properties:{nameLabel:cc.Label,stateLabel:cc.Label,titleLabel:cc.Label,jobNameLabel:cc.Label,personFace:a,gradeNameLabel:cc.Label,hpLabel:cc.Label,mpLabel:cc.Label,attackLabel:cc.Label,supernaturalLabel:cc.Label,defenseLabel:cc.Label,speedLabel:cc.Label,canUseAbilityLabel:cc.Label,physiqueAbilityLabel:cc.Label,mindAbilityLabel:cc.Label,strengthAbilityLabel:cc.Label,agilityAbilityLabel:cc.Label,growthRateLabel:cc.Label,physiqueRateLabel:cc.Label,mindRateLabel:cc.Label,strengthRateLabel:cc.Label,agilityRateLabel:cc.Label,kitName1Label:cc.Label,kitName2Label:cc.Label,kitName3Label:cc.Label,listNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.kitName1Label.buttonComp=this.kitName1Label.node.getComponent(cc.Button),this.kitName2Label.buttonComp=this.kitName2Label.node.getComponent(cc.Button),this.kitName3Label.buttonComp=this.kitName3Label.node.getComponent(cc.Button),this.kitName1Label.labelOutlineComp=this.kitName1Label.node.getComponent(cc.LabelOutline),this.kitName2Label.labelOutlineComp=this.kitName2Label.node.getComponent(cc.LabelOutline),this.kitName3Label.labelOutlineComp=this.kitName3Label.node.getComponent(cc.LabelOutline)},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerAdjutantId=this.getLaunchData().playerAdjutantId,this.playerAdjutantDetailOther()},onBackClickCallback:function(t){this.quitFragment()},onAdjutantClickCallback:function(t){var i={adjutantId:this.data.adjutantId};this.launchFragment("AdjutantDetail",i)},onAdjutantCombatClickCallback:function(t){var i={playerAdjutantId:this.data.id};this.launchFragment("PlayerAdjutantCombat",i)},onKitName1ClickCallback:function(t){var i={action:"\u88c5\u5907\u8be6\u60c5",playerKitId:this.data.playerKit1.id};this.launchFragment("PlayerKitDetail",i)},onKitName2ClickCallback:function(t){var i={action:"\u88c5\u5907\u8be6\u60c5",playerKitId:this.data.playerKit2.id};this.launchFragment("PlayerKitDetail",i)},onKitName3ClickCallback:function(t){var i={action:"\u88c5\u5907\u8be6\u60c5",playerKitId:this.data.playerKit3.id};this.launchFragment("PlayerKitDetail",i)},initData:function(){for(var t=0;t<this.listNode.childrenCount;t++){(e=this.listNode.children[t]).destroy()}if(null!=this.data){var i=this.data;this.nameLabel.string=i.name,this.stateLabel.string=i.state,this.titleLabel.string=i.title,this.jobNameLabel.string=i.jobName,this.gradeNameLabel.string=i.gradeName+"\u7ea7",this.canUseAbilityLabel.string=i.canUseAbility+"",this.hpLabel.string=i.hpLimit,this.mpLabel.string=i.mpLimit,this.attackLabel.string=i.attack+"",this.supernaturalLabel.string=i.supernatural+"",this.defenseLabel.string=i.defense+"",this.speedLabel.string=i.speed+"",this.personFace.draw=i.faceDraw,this.canUseAbilityLabel.string=i.canUseAbility+"",this.physiqueAbilityLabel.string=i.physiqueAbility+"",this.mindAbilityLabel.string=i.mindAbility+"",this.strengthAbilityLabel.string=i.strengthAbility+"",this.agilityAbilityLabel.string=i.agilityAbility+"",this.growthRateLabel.string=i.growthRate+"",this.physiqueRateLabel.string=i.physiqueRate+"",this.mindRateLabel.string=i.mindRate+"",this.strengthRateLabel.string=i.strengthRate+"",this.agilityRateLabel.string=i.agilityRate+"";var o=i.playerAdjutantSkillList;for(t=0;t<o.length;t++){var e,a=o[t];(e=cc.instantiate(this.commonItemPrefab)).commonItemComp=e.getComponent(n),e.commonItemComp.id=a.id,e.commonItemComp.skillId=a.skillId,e.commonItemComp.setName(a.skillName),e.commonItemComp.setInfo(a.skillGradeAlias),e.commonItemComp.setOnNameClickCallback(function(t){var i={skillId:t.skillId};this.launchFragment("SkillDetail",i)}.bind(this)),e.commonItemComp.setAction("\u6548\u679c"),e.commonItemComp.setOnActionClickCallback(function(t){var i={playerAdjutantSkillId:t.id,isShowSkillBook:!1};this.launchFragment("PlayerAdjutantSkillDetail",i)}.bind(this)),e.parent=this.listNode}i.playerKit1?(this.kitName1Label.buttonComp.interactable=!0,this.kitName1Label.id=i.playerKit1.id,this.kitName1Label.string=i.playerKit1.kitName,this.kitName1Label.labelOutlineComp.enabled=!0,this.kitName1Label.labelOutlineComp.color=new cc.Color(255,26,26)):(this.kitName1Label.buttonComp.interactable=!1,this.kitName1Label.string="\u3010\u7a7a\u3011",this.kitName1Label.labelOutlineComp.enabled=!1),i.playerKit2?(this.kitName2Label.buttonComp.interactable=!0,this.kitName2Label.id=i.playerKit2.id,this.kitName2Label.string=i.playerKit2.kitName,this.kitName2Label.labelOutlineComp.enabled=!0,this.kitName2Label.labelOutlineComp.color=new cc.Color(255,26,26)):(this.kitName2Label.buttonComp.interactable=!1,this.kitName2Label.string="\u3010\u7a7a\u3011",this.kitName2Label.labelOutlineComp.enabled=!1),i.playerKit3?(this.kitName3Label.buttonComp.interactable=!0,this.kitName3Label.id=i.playerKit3.id,this.kitName3Label.string=i.playerKit3.kitName,this.kitName3Label.labelOutlineComp.enabled=!0,this.kitName3Label.labelOutlineComp.color=new cc.Color(255,26,26)):(this.kitName3Label.buttonComp.interactable=!1,this.kitName3Label.string="\u3010\u7a7a\u3011",this.kitName3Label.labelOutlineComp.enabled=!1)}},playerAdjutantDetailOther:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantDetailOther",{playerAdjutantId:this.playerAdjutantId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment",PersonFace:"PersonFace"}],PlayerAdjutantDetail:[function(t,i,o){"use strict";cc._RF.push(i,"2f3ea3ylWFBvJJJafEvtLmZ","PlayerAdjutantDetail");var e=t("Fragment"),a=t("PersonFace");cc.Class({extends:e,properties:{nameLabel:cc.Label,stateLabel:cc.Label,titleLabel:cc.Label,jobNameLabel:cc.Label,personFace:a,gradeNameLabel:cc.Label,upGradeNeedExLabel:cc.Label,loyalLabel:cc.Label,canUseAbilityLabel:cc.Label,hpLabel:cc.Label,mpLabel:cc.Label,attackLabel:cc.Label,supernaturalLabel:cc.Label,defenseLabel:cc.Label,speedLabel:cc.Label,effectAttackLabel:cc.Label,effectSupernaturalLabel:cc.Label,effectDefenseLabel:cc.Label,effectSpeedLabel:cc.Label},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerAdjutantId=this.getLaunchData().playerAdjutantId,this.playerAdjutantDetail()},onBackClickCallback:function(t){this.quitFragment()},onQuitFragmentCallback:function(t,i){"PlayerAdjutantAbility"==t&&this.playerAdjutantDetail(),"PlayerAdjutantGrowth"==t&&this.playerAdjutantDetail(),"PlayerAdjutantEx"==t&&this.playerAdjutantDetail(),"PlayerAdjutantApparel"==t&&this.playerAdjutantDetail(),"PlayerAdjutantKitApparel"==t&&this.playerAdjutantDetail()},onPlayerAdjutantExClickCallback:function(t){var i={playerAdjutantId:this.data.id};this.launchFragment("PlayerAdjutantEx",i)},onPlayerAdjutantSkillClickCallback:function(t){var i={playerAdjutantId:this.data.id};this.launchFragment("PlayerAdjutantSkillList",i)},onUseAbilityClickCallback:function(t){var i={playerAdjutantId:this.data.id};this.launchFragment("PlayerAdjutantAbility",i)},onAdjutantClickCallback:function(t){var i={adjutantId:this.data.adjutantId};this.launchFragment("AdjutantDetail",i)},onAdjutantKitClickCallback:function(t){var i={playerAdjutantId:this.data.id};this.launchFragment("PlayerAdjutantKitApparel",i)},onAdjutantCombatClickCallback:function(t){var i={playerAdjutantId:this.data.id};this.launchFragment("PlayerAdjutantCombat",i)},onPlayerAdjutantDismissalClickCallback:function(t){this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u786e\u5b9a\u8981\u89e3\u96c7\u8be5\u526f\u5c06\u5417\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerAdjutantDismissal()}.bind(this)),this.hintDialogNode.hintDialogComp.show()},onUseGrowthClickCallback:function(t){var i={playerAdjutantId:this.data.id};this.launchFragment("PlayerAdjutantGrowth",i)},initData:function(){if(null!=this.data){var t=this.data;this.nameLabel.string=t.name,this.stateLabel.string=t.state,this.titleLabel.string=t.title,this.jobNameLabel.string=t.jobName,this.gradeNameLabel.string=t.gradeName+"\u7ea7",this.upGradeNeedExLabel.string="\u8fd8\u9700\u8981"+t.upGradeNeedEx+"\u7ecf\u9a8c\u5347\u7ea7",this.loyalLabel.string=t.loyal+"",this.canUseAbilityLabel.string=t.canUseAbility+"",this.hpLabel.string=t.hpCurrent+"/"+t.hpLimit,this.mpLabel.string=t.mpCurrent+"/"+t.mpLimit,this.attackLabel.string=t.attack+"",this.supernaturalLabel.string=t.supernatural+"",this.defenseLabel.string=t.defense+"",this.speedLabel.string=t.speed+"",t.effectAttack?this.effectAttackLabel.string=t.effectAttack:this.effectAttackLabel.string="",t.effectSupernatural?this.effectSupernaturalLabel.string=t.effectSupernatural:this.effectSupernaturalLabel.string="",t.effectDefense?this.effectDefenseLabel.string=t.effectDefense:this.effectDefenseLabel.string="",t.effectSpeed?this.effectSpeedLabel.string=t.effectSpeed:this.effectSpeedLabel.string="",this.personFace.draw=t.faceDraw}},playerAdjutantDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantDetail",{playerAdjutantId:this.playerAdjutantId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerAdjutantDismissal:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantDismissal",{playerAdjutantId:this.playerAdjutantId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.quitFragment(!0)}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment",PersonFace:"PersonFace"}],PlayerAdjutantEx:[function(t,i,o){"use strict";cc._RF.push(i,"3abefOKbMRGXK1NJ2INXn8N","PlayerAdjutantEx");var e=t("Fragment");t("CommonItem");cc.Class({extends:e,properties:{gradeNameLabel:cc.Label,upGradeNeedExLabel:cc.Label,exBookNumberLabel:cc.Label,targetGradeNameEditBox:cc.EditBox},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerAdjutantId=this.getLaunchData().playerAdjutantId,this.playerAdjutantExPrepare()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){if(null!=this.data){var t=this.data;this.exBookNumberLabel.string="\u60a8\u5f53\u524d\u6709"+t.playerGoodsNumber+"\u672c"+t.playerGoodsName,this.gradeNameLabel.string=t.currentGradeName+"\u7ea7(\u6700\u5927"+t.maxGradeName+"\u7ea7)",this.targetGradeNameEditBox.string=t.maxGradeName+"",this.upGradeNeedExLabel.string="\u8fd8\u9700\u8981"+t.upGradeNeedEx+"\u7ecf\u9a8c\u5347\u7ea7"}},playerAdjutantExPrepare:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantExPrepare",{playerId:application.getPlayerId(),playerAdjutantId:this.playerAdjutantId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},onUpGradeClickCallback:function(t){this.playerAdjutantEx(0)},onQuickUpGradeClickCallback:function(t){var i=this.targetGradeNameEditBox.string;""==i.trim()||i.length<1?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u5185\u5bb9\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):i>this.data.currentGradeName&&i<=this.data.maxGradeName?this.playerAdjutantEx(i):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u76ee\u6807\u7b49\u7ea7\u5fc5\u987b\u5927\u4e8e\u5f53\u524d\u7b49\u7ea7\u5e76\u4e14\u4e0d\u80fd\u5927\u4e8e\u6700\u5927\u7b49\u7ea7\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},playerAdjutantEx:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantEx",{playerId:application.getPlayerId(),playerAdjutantId:this.playerAdjutantId,targetGradeName:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerAdjutantExPrepare()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],PlayerAdjutantGrowth:[function(t,i,o){"use strict";cc._RF.push(i,"4cca21BwcNEPIAoXlgIidp/","PlayerAdjutantGrowth");var e=t("Fragment");cc.Class({extends:e,properties:{jjlNumbLabel:cc.Label,growthRateScopeLabel:cc.Label,physiqueRateScopeLabel:cc.Label,mindRateScopeLabel:cc.Label,strengthRateScopeLabel:cc.Label,agilityRateScopeLabel:cc.Label,growthRateLabel:cc.Label,physiqueRateLabel:cc.Label,mindRateLabel:cc.Label,strengthRateLabel:cc.Label,agilityRateLabel:cc.Label,growthRateButton:cc.Button,physiqueRateButton:cc.Button,mindRateButton:cc.Button,strengthRateButton:cc.Button,agilityRateButton:cc.Button},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerAdjutantId=this.getLaunchData().playerAdjutantId,this.playerAdjutantGrowthDetail()},onBackClickCallback:function(t){this.quitFragment()},onUseGrowthClickCallback:function(t,i){this.playerAdjutantGrowthReset(i)},initData:function(){if(null!=this.data){var t=this.data;this.jjlNumbLabel.string="\u60a8\u73b0\u5728\u6709"+t.jjlNum+"\u679a\u5c06\u519b\u4ee4",this.growthRateLabel.string=t.growthRate+"",this.physiqueRateLabel.string=t.physiqueRate+"",this.mindRateLabel.string=t.mindRate+"",this.strengthRateLabel.string=t.strengthRate+"",this.agilityRateLabel.string=t.agilityRate+"",this.growthRateScopeLabel.string=t.minGrowthRate+"-"+t.maxGrowthRate,this.physiqueRateScopeLabel.string=t.minPhysiqueRate+"-"+t.maxPhysiqueRate,this.mindRateScopeLabel.string=t.minMindRate+"-"+t.maxMindRate,this.strengthRateScopeLabel.string=t.minStrengthRate+"-"+t.maxStrengthRate,this.agilityRateScopeLabel.string=t.minAgilityRate+"-"+t.maxAgilityRate,t.growthRate==t.maxGrowthRate&&(this.growthRateButton.node.active=!1),t.physiqueRate==t.maxPhysiqueRate&&(this.physiqueRateButton.node.active=!1),t.mindRate==t.maxMindRate&&(this.mindRateButton.node.active=!1),t.strengthRate==t.maxStrengthRate&&(this.strengthRateButton.node.active=!1),t.agilityRate==t.maxAgilityRate&&(this.agilityRateButton.node.active=!1)}},playerAdjutantGrowthDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantGrowthDetail",{playerAdjutantId:this.playerAdjutantId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerAdjutantGrowthReset:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantGrowthReset",{playerAdjutantId:this.playerAdjutantId,growthType:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.playerAdjutantGrowthDetail(),this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},onAdjutantBestCallback:function(t){var i={adjutantId:this.data.adjutantId};this.launchFragment("PlayerAdjutantBest",i)}}),cc._RF.pop()},{Fragment:"Fragment"}],PlayerAdjutantHelp:[function(t,i,o){"use strict";cc._RF.push(i,"69503L+ZNVFK7YVPsA4HwVJ","PlayerAdjutantHelp");var e=t("Fragment");cc.Class({extends:e,properties:{help1NameLabel:cc.Label,help2NameLabel:cc.Label,help3NameLabel:cc.Label},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.help1NameLabel.buttonComp=this.help1NameLabel.node.getComponent(cc.Button),this.help2NameLabel.buttonComp=this.help2NameLabel.node.getComponent(cc.Button),this.help3NameLabel.buttonComp=this.help3NameLabel.node.getComponent(cc.Button),this.help1NameLabel.labelOutlineComp=this.help1NameLabel.node.getComponent(cc.LabelOutline),this.help2NameLabel.labelOutlineComp=this.help2NameLabel.node.getComponent(cc.LabelOutline),this.help3NameLabel.labelOutlineComp=this.help3NameLabel.node.getComponent(cc.LabelOutline)},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerAdjutantId=this.getLaunchData().playerAdjutantId,this.playerAdjutantHelpPrepare()},onBackClickCallback:function(t){this.quitFragment()},onPlayerAdjutantClickCallback:function(t,i){if("help1"==i){var o={playerAdjutantId:this.help1NameLabel.id};this.launchFragment("PlayerAdjutantDetail",o)}if("help2"==i){o={playerAdjutantId:this.help2NameLabel.id};this.launchFragment("PlayerAdjutantDetail",o)}if("help3"==i){o={playerAdjutantId:this.help3NameLabel.id};this.launchFragment("PlayerAdjutantDetail",o)}},onHelpClickCallback:function(t,i){this.playerAdjutantHelp(i)},initData:function(){if(null!=this.data){var t=this.data;null!=t.help1PlayerAdjutant?(this.help1NameLabel.buttonComp.interactable=!0,this.help1NameLabel.id=t.help1PlayerAdjutant.id,this.help1NameLabel.string=t.help1PlayerAdjutant.name,this.help1NameLabel.labelOutlineComp.enabled=!0,this.help1NameLabel.labelOutlineComp.color=new cc.Color(255,26,26)):(this.help1NameLabel.buttonComp.interactable=!1,this.help1NameLabel.string="\u3010\u7a7a\u3011",this.help1NameLabel.labelOutlineComp.enabled=!1),null!=t.help2PlayerAdjutant?(this.help2NameLabel.buttonComp.interactable=!0,this.help2NameLabel.id=t.help2PlayerAdjutant.id,this.help2NameLabel.string=t.help2PlayerAdjutant.name,this.help2NameLabel.labelOutlineComp.enabled=!0,this.help2NameLabel.labelOutlineComp.color=new cc.Color(255,26,26)):(this.help2NameLabel.buttonComp.interactable=!1,this.help2NameLabel.string="\u3010\u7a7a\u3011",this.help2NameLabel.labelOutlineComp.enabled=!1),null!=t.help3PlayerAdjutant?(this.help3NameLabel.buttonComp.interactable=!0,this.help3NameLabel.id=t.help3PlayerAdjutant.id,this.help3NameLabel.string=t.help3PlayerAdjutant.name,this.help3NameLabel.labelOutlineComp.enabled=!0,this.help3NameLabel.labelOutlineComp.color=new cc.Color(255,26,26)):(this.help3NameLabel.buttonComp.interactable=!1,this.help3NameLabel.string="\u3010\u7a7a\u3011",this.help3NameLabel.labelOutlineComp.enabled=!1)}},playerAdjutantHelpPrepare:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantHelpPrepare",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerAdjutantHelp:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantHelp",{playerId:application.getPlayerId(),playerAdjutantId:this.playerAdjutantId,helpLocation:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.quitFragment()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],PlayerAdjutantHomeInChoose:[function(t,i,o){"use strict";cc._RF.push(i,"5c90bcxTzdPKZiJDFuKLVE6","PlayerAdjutantHomeInChoose");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{playerAdjutantListNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerAdjutantChoose()},onBackClickCallback:function(t){this.quitFragment()},onQuitFragmentCallback:function(t,i){"PlayerAdjutantDetail"==t&&null!=i&&this.playerAdjutantChoose()},initData:function(){if(null!=this.data){for(var t=this.data.playerAdjutantList,i=0;i<this.playerAdjutantListNode.childrenCount;i++){(o=this.playerAdjutantListNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.id=e.id,o.commonItemComp.setName(e.name),o.commonItemComp.setInfo(e.gradeName+"\u7ea7"+e.jobName),o.commonItemComp.setAction("\u7559\u5b88"),o.commonItemComp.setOnNameClickCallback(function(t){var i={playerAdjutantId:t.id};this.launchFragment("PlayerAdjutantDetail",i)}.bind(this)),o.commonItemComp.setOnActionClickCallback(function(t){this.playerAdjutantHome(t.id)}.bind(this)),o.parent=this.playerAdjutantListNode}}},playerAdjutantChoose:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantChoose",{playerId:application.getPlayerId(),isIncludeHelp:!1},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerAdjutantHome:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantHome",{playerId:application.getPlayerId(),playerAdjutantId:t,type:1},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerAdjutantChoose()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],PlayerAdjutantHomeOutChoose:[function(t,i,o){"use strict";cc._RF.push(i,"7a554LXJsFPvJCg3Emv+44t","PlayerAdjutantHomeOutChoose");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{playerAdjutantListNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerAdjutantHomeChoose()},onBackClickCallback:function(t){this.quitFragment()},onQuitFragmentCallback:function(t,i){"PlayerAdjutantDetail"==t&&null!=i&&this.playerAdjutantHomeChoose()},initData:function(){if(null!=this.data){for(var t=this.data.playerAdjutantList,i=0;i<this.playerAdjutantListNode.childrenCount;i++){(o=this.playerAdjutantListNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.id=e.id,o.commonItemComp.setName(e.name),o.commonItemComp.setInfo(e.gradeName+"\u7ea7"+e.jobName),o.commonItemComp.setAction("\u62db\u9886"),o.commonItemComp.setOnNameClickCallback(function(t){var i={playerAdjutantId:t.id};this.launchFragment("PlayerAdjutantDetail",i)}.bind(this)),o.commonItemComp.setOnActionClickCallback(function(t){this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.id=t.id,this.hintDialogNode.hintDialogComp.setContent("\u662f\u5426\u8981\u62db\u9886\u526f\u5c06\u3010"+t.getName()+"\u3011\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerAdjutantHome(t.id)}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this)),o.parent=this.playerAdjutantListNode}}},playerAdjutantHomeChoose:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantHomeChoose",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerAdjutantHome:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantHome",{playerId:application.getPlayerId(),playerAdjutantId:t,type:2},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerAdjutantHomeChoose()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],PlayerAdjutantJobChange:[function(t,i,o){"use strict";cc._RF.push(i,"b18e9lOScRJrbEEGK43tFU1","PlayerAdjutantJobChange");var e=t("Fragment");cc.Class({extends:e,properties:{changeNode:cc.Node,needGoldLabel:cc.Label,adjutantNameLabel:cc.Label},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.initData()},onQuitFragmentCallback:function(t,i){"PlayerAdjutantJobChoose"==t&&null!=i&&(this.playerAdjutantId=i.playerAdjutantId,this.playerAdjutantJobChangePrepare())},initData:function(){this.changeNode.active=!1},onPlayerAdjutantClickCallback:function(t){this.launchFragment("PlayerAdjutantJobChoose")},onJobChangeClickCallback:function(t,i){if(this.playerAdjutantId){var o="";1==i&&(o="\u6b66\u58eb"),2==i&&(o="\u6587\u4eba"),3==i&&(o="\u672f\u58eb"),this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u786e\u5b9a\u8981\u5c06\u6b64\u526f\u5c06\u8f6c\u804c\u6210"+o+"\u5417\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerAdjutantJobChange(i)}.bind(this)),this.hintDialogNode.hintDialogComp.show()}},onBackClickCallback:function(t){this.quitFragment()},playerAdjutantJobChangePrepare:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantJobChangePrepare",{playerAdjutantId:this.playerAdjutantId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.changeNode.active=!0,this.needGoldLabel.string="\u8f6c\u804c\u9700\u8981"+58*t.data.gradeName+"\u91d1\u7816",this.adjutantNameLabel.string=t.data.adjutantName+"-"+t.data.gradeName+"\u7ea7"+t.data.jobName):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerAdjutantJobChange:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantJobChange",{playerAdjutantId:this.playerAdjutantId,jobId:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.playerAdjutantJobChangePrepare()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],PlayerAdjutantJobChoose:[function(t,i,o){"use strict";cc._RF.push(i,"dfe5f45/+9O55YFRfMrZc9M","PlayerAdjutantJobChoose");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{playerAdjutantListNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerAdjutantChoose()},onBackClickCallback:function(t){this.quitFragment()},onQuitFragmentCallback:function(t,i){"PlayerAdjutantDetail"==t&&null!=i&&this.playerAdjutantChoose()},initData:function(){if(null!=this.data){for(var t=this.data.playerAdjutantList,i=0;i<this.playerAdjutantListNode.childrenCount;i++){(o=this.playerAdjutantListNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.id=e.id,o.commonItemComp.setName(e.name),o.commonItemComp.setInfo(e.gradeName+"\u7ea7"+e.jobName),o.commonItemComp.setAction("\u9009\u62e9"),o.commonItemComp.setOnNameClickCallback(function(t){var i={playerAdjutantId:t.id};this.launchFragment("PlayerAdjutantDetail",i)}.bind(this)),o.commonItemComp.setOnActionClickCallback(function(t){var i={playerAdjutantId:t.id};this.quitFragment(i)}.bind(this)),o.parent=this.playerAdjutantListNode}}},playerAdjutantChoose:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantChoose",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],PlayerAdjutantKitApparelChoose:[function(t,i,o){"use strict";cc._RF.push(i,"1af70G4SWlNaKmVs0qJy1MD","PlayerAdjutantKitApparelChoose");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{listNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.location=this.getLaunchData().location,this.playerAdjutantId=this.getLaunchData().playerAdjutantId,this.playerKitChoose()},onBackClickCallback:function(t){this.quitFragment()},onQuitFragmentCallback:function(t,i){"PlayerGoodsSell"==t&&i&&this.playerKitChoose()},initData:function(){for(var t=0;t<this.listNode.childrenCount;t++){(o=this.listNode.children[t]).destroy()}var i=this.data.playerKitList;if(null!=i)for(t=0;t<i.length;t++){var o,e=i[t];(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.id=e.id,o.commonItemComp.setName(e.kitName),o.commonItemComp.setInfo(e.kitGradeName+"\u7ea7"),o.commonItemComp.setAction("\u88c5\u5907"),o.commonItemComp.setOnNameClickCallback(function(t){var i={action:"\u88c5\u5907\u8be6\u60c5",playerKitId:t.id};this.launchFragment("PlayerKitDetail",i)}.bind(this)),o.commonItemComp.setOnActionClickCallback(function(t){this.playerAdjutantKitApparel(t.id)}.bind(this)),o.parent=this.listNode}},playerKitChoose:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/kitChoose",{playerId:application.getPlayerId(),isIncludeApparel:!1},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerAdjutantKitApparel:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantKitApparel",{playerAdjutantId:this.playerAdjutantId,location:this.location,playerGoodsId:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.quitFragment(!0)}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],PlayerAdjutantKitApparel:[function(t,i,o){"use strict";cc._RF.push(i,"9b2a5uXcK5ACbeXG8MRJ1Er","PlayerAdjutantKitApparel");var e=t("Fragment");cc.Class({extends:e,properties:{kitName1Label:cc.Label,kitName2Label:cc.Label,kitName3Label:cc.Label,kit1ApparelButton:cc.Button,kit2ApparelButton:cc.Button,kit3ApparelButton:cc.Button,kit1ReplaceButton:cc.Button,kit2ReplaceButton:cc.Button,kit3ReplaceButton:cc.Button,kit1StripButton:cc.Button,kit2StripButton:cc.Button,kit3StripButton:cc.Button},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.kitName1Label.buttonComp=this.kitName1Label.node.getComponent(cc.Button),this.kitName2Label.buttonComp=this.kitName2Label.node.getComponent(cc.Button),this.kitName3Label.buttonComp=this.kitName3Label.node.getComponent(cc.Button),this.kitName1Label.labelOutlineComp=this.kitName1Label.node.getComponent(cc.LabelOutline),this.kitName2Label.labelOutlineComp=this.kitName2Label.node.getComponent(cc.LabelOutline),this.kitName3Label.labelOutlineComp=this.kitName3Label.node.getComponent(cc.LabelOutline)},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerAdjutantId=this.getLaunchData().playerAdjutantId,this.playerAdjutantKitApparelDetail()},onQuitFragmentCallback:function(t,i){"PlayerAdjutantKitApparelChoose"==t&&null!=i&&this.playerAdjutantKitApparelDetail()},onBackClickCallback:function(t){this.quitFragment()},onKitName1ClickCallback:function(t){var i={action:"\u88c5\u5907\u8be6\u60c5",playerKitId:this.kitName1Label.id};this.launchFragment("PlayerKitDetail",i)},onKitName2ClickCallback:function(t){var i={action:"\u88c5\u5907\u8be6\u60c5",playerKitId:this.kitName2Label.id};this.launchFragment("PlayerKitDetail",i)},onKitName3ClickCallback:function(t){var i={action:"\u88c5\u5907\u8be6\u60c5",playerKitId:this.kitName3Label.id};this.launchFragment("PlayerKitDetail",i)},onKitAppareClickCallback:function(t,i){var o={location:i,playerAdjutantId:this.playerAdjutantId};this.launchFragment("PlayerAdjutantKitApparelChoose",o)},onKitStripClickCallback:function(t,i){this.playerAdjutantKitStrip(i)},initData:function(){if(null!=this.data){var t=this.data;t.playerKit1?(this.kitName1Label.buttonComp.interactable=!0,this.kitName1Label.id=t.playerKit1.id,this.kitName1Label.string=t.playerKit1.kitName,this.kitName1Label.labelOutlineComp.enabled=!0,this.kitName1Label.labelOutlineComp.color=new cc.Color(255,26,26),this.kit1ApparelButton.node.active=!1,this.kit1ReplaceButton.node.active=!0,this.kit1StripButton.node.active=!0):(this.kitName1Label.buttonComp.interactable=!1,this.kitName1Label.string="\u3010\u7a7a\u3011",this.kitName1Label.labelOutlineComp.enabled=!1,this.kit1ApparelButton.node.active=!0,this.kit1ReplaceButton.node.active=!1,this.kit1StripButton.node.active=!1),t.playerKit2?(this.kitName2Label.buttonComp.interactable=!0,this.kitName2Label.id=t.playerKit2.id,this.kitName2Label.string=t.playerKit2.kitName,this.kitName2Label.labelOutlineComp.enabled=!0,this.kitName2Label.labelOutlineComp.color=new cc.Color(255,26,26),this.kit2ApparelButton.node.active=!1,this.kit2ReplaceButton.node.active=!0,this.kit2StripButton.node.active=!0):(this.kitName2Label.buttonComp.interactable=!1,this.kitName2Label.string="\u3010\u7a7a\u3011",this.kitName2Label.labelOutlineComp.enabled=!1,this.kit2ApparelButton.node.active=!0,this.kit2ReplaceButton.node.active=!1,this.kit2StripButton.node.active=!1),t.playerKit3?(this.kitName3Label.buttonComp.interactable=!0,this.kitName3Label.id=t.playerKit3.id,this.kitName3Label.string=t.playerKit3.kitName,this.kitName3Label.labelOutlineComp.enabled=!0,this.kitName3Label.labelOutlineComp.color=new cc.Color(255,26,26),this.kit3ApparelButton.node.active=!1,this.kit3ReplaceButton.node.active=!0,this.kit3StripButton.node.active=!0):(this.kitName3Label.buttonComp.interactable=!1,this.kitName3Label.string="\u3010\u7a7a\u3011",this.kitName3Label.labelOutlineComp.enabled=!1,this.kit3ApparelButton.node.active=!0,this.kit3ReplaceButton.node.active=!1,this.kit3StripButton.node.active=!1)}},playerAdjutantKitApparelDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantKitApparelDetail",{playerAdjutantId:this.playerAdjutantId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerAdjutantKitApparel:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantKitApparel",{playerAdjutantId:this.playerAdjutantId,location:this.location,playerGoodsId:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?this.quitFragment(!0):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerAdjutantKitStrip:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantKitStrip",{playerAdjutantId:this.playerAdjutantId,location:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerAdjutantKitApparelDetail()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],PlayerAdjutantList:[function(t,i,o){"use strict";cc._RF.push(i,"d52241tumFCG686Tmappgyu","PlayerAdjutantList");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{titleLabel:cc.Label,playerAdjutantListNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerAdjutantList()},onBackClickCallback:function(t){this.quitFragment()},onQuitFragmentCallback:function(t,i){"PlayerAdjutantDetail"==t&&i&&this.playerAdjutantList(),"PlayerAdjutantHelp"==t&&this.playerAdjutantList()},initData:function(){if(null!=this.data){var t=this.data.playerAdjutantList;this.titleLabel.string="\u526f\u5c06("+t.length+"/20)";for(var i=0;i<this.playerAdjutantListNode.childrenCount;i++){(o=this.playerAdjutantListNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.id=e.id,o.commonItemComp.setName(e.name),o.commonItemComp.setInfo(e.gradeName+"\u7ea7"+e.jobName+"("+e.state+")"),o.commonItemComp.isHelp=e.help,e.help?(o.commonItemComp.setAction("\u4f11\u606f"),o.commonItemComp.setActionColor("#3093FF"),o.commonItemComp.setInfo(e.gradeName+"\u7ea7"+e.jobName+"("+e.state+")-"+e.helpLocation+"\u53f7")):(o.commonItemComp.setAction("\u53c2\u6218"),o.commonItemComp.setActionColor("#FF00F5")),o.commonItemComp.setOnNameClickCallback(function(t){var i={playerAdjutantId:t.id};this.launchFragment("PlayerAdjutantDetail",i)}.bind(this)),o.commonItemComp.setOnActionClickCallback(function(t){if(t.isHelp)this.playerAdjutantNoHelp(t.id);else{var i={playerAdjutantId:t.id};this.launchFragment("PlayerAdjutantHelp",i)}}.bind(this)),o.parent=this.playerAdjutantListNode}}},playerAdjutantList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantList",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerAdjutantNoHelp:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantNoHelp",{playerId:application.getPlayerId(),playerAdjutantId:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.playerAdjutantList()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],PlayerAdjutantSkillChoose:[function(t,i,o){"use strict";cc._RF.push(i,"4c04efL2VZP6Z5g7ni9QXAx","PlayerAdjutantSkillChoose");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{playerAdjutantListNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerAdjutantChoose()},onBackClickCallback:function(t){this.quitFragment()},onQuitFragmentCallback:function(t,i){"PlayerAdjutantDetail"==t&&null!=i&&this.playerAdjutantChoose()},initData:function(){if(null!=this.data){for(var t=this.data.playerAdjutantList,i=0;i<this.playerAdjutantListNode.childrenCount;i++){(o=this.playerAdjutantListNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.id=e.id,o.commonItemComp.setName(e.name),o.commonItemComp.setInfo(e.gradeName+"\u7ea7"+e.jobName),o.commonItemComp.setAction("\u9009\u62e9"),o.commonItemComp.setOnNameClickCallback(function(t){var i={playerAdjutantId:t.id};this.launchFragment("PlayerAdjutantDetail",i)}.bind(this)),o.commonItemComp.setOnActionClickCallback(function(t){var i={playerAdjutantId:t.id};this.launchFragment("SkillAdjutant",i)}.bind(this)),o.parent=this.playerAdjutantListNode}}},playerAdjutantChoose:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantChoose",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],PlayerAdjutantSkillDetail:[function(t,i,o){"use strict";cc._RF.push(i,"a520bjPoeFIMZiUOdk0PHTX","PlayerAdjutantSkillDetail");var e=t("Fragment");cc.Class({extends:e,properties:{nameLabel:cc.Label,gradeNameLabel:cc.Label,masteryLabel:cc.Label,skillExpendMpLabel:cc.Label,skillEffectLabel:cc.Label,skillBookLabel:cc.Label,skillBookNode:cc.Node},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerAdjutantSkillId=this.getLaunchData().playerAdjutantSkillId,this.isShowSkillBook=this.getLaunchData().isShowSkillBook,null!=this.isShowSkillBook&&void 0!=this.isShowSkillBook||(this.isShowSkillBook=!0),this.isShowSkillBook?this.skillBookNode.active=!0:this.skillBookNode.active=!1,this.playerAdjutantSkillDetail()},initData:function(){if(null!=this.data){var t=this.data;this.nameLabel.string=t.skillName,this.gradeNameLabel.string=t.skillGradeAlias+"",this.masteryLabel.string=t.mastery+"",this.skillExpendMpLabel.string=t.skillExpendMp+"",this.skillEffectLabel.string="    "+t.skillEffectS,this.playerGoodsId=t.playerGoodsId,this.skillBookLabel.string="\u60a8\u5f53\u524d\u6709"+t.playerGoodsNumber+"\u672c"+t.playerGoodsName}},onBackClickCallback:function(t){this.quitFragment()},onUseSkillBookClickCallback:function(t,i){this.playerUseAdjutantSkillBook(i)},playerAdjutantSkillDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantSkillDetail",{playerId:application.getPlayerId(),playerAdjutantSkillId:this.playerAdjutantSkillId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerUseAdjutantSkillBook:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/useAdjutantSkillBook",{playerAdjutantSkillId:this.playerAdjutantSkillId,playerGoodsId:this.playerGoodsId,type:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerAdjutantSkillDetail()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],PlayerAdjutantSkillList:[function(t,i,o){"use strict";cc._RF.push(i,"0ae1dZslVBBqLyJhRffDDti","PlayerAdjutantSkillList");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{playerAdjutantSkillListNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerAdjutantId=this.getLaunchData().playerAdjutantId,this.playerAdjutantSkillList()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){if(null!=this.data){for(var t=this.data.playerAdjutantSkillList,i=0;i<this.playerAdjutantSkillListNode.childrenCount;i++){(o=this.playerAdjutantSkillListNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.id=e.id,o.commonItemComp.skillId=e.skillId,o.commonItemComp.setName(e.skillName),o.commonItemComp.setInfo(e.skillGradeAlias),o.commonItemComp.setOnNameClickCallback(function(t){var i={skillId:t.skillId};this.launchFragment("SkillDetail",i)}.bind(this)),o.commonItemComp.setAction("\u6548\u679c"),o.commonItemComp.setOnActionClickCallback(function(t){var i={playerAdjutantSkillId:t.id};this.launchFragment("PlayerAdjutantSkillDetail",i)}.bind(this)),o.parent=this.playerAdjutantSkillListNode}}},playerAdjutantSkillList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantSkillList",{playerAdjutantId:this.playerAdjutantId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],PlayerAdjutantWashPulpChoose:[function(t,i,o){"use strict";cc._RF.push(i,"a4f939J8tBG7qdHX23RDkHX","PlayerAdjutantWashPulpChoose");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{playerAdjutantListNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerGoodsId=this.getLaunchData().playerGoodsId,this.playerAdjutantChoose()},onBackClickCallback:function(t){this.quitFragment()},onQuitFragmentCallback:function(t,i){"PlayerAdjutantDetail"==t&&null!=i&&this.playerAdjutantChoose()},initData:function(){if(null!=this.data){for(var t=this.data.playerAdjutantList,i=0;i<this.playerAdjutantListNode.childrenCount;i++){(o=this.playerAdjutantListNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.id=e.id,o.commonItemComp.setName(e.name),o.commonItemComp.setInfo(e.gradeName+"\u7ea7"+e.jobName),o.commonItemComp.setAction("\u9009\u62e9"),o.commonItemComp.setOnNameClickCallback(function(t){var i={playerAdjutantId:t.id};this.launchFragment("PlayerAdjutantDetail",i)}.bind(this)),o.commonItemComp.setOnActionClickCallback(function(t){this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.id=t.id,this.hintDialogNode.hintDialogComp.setContent("\u4f7f\u7528\u526f\u5c06\u6d17\u9ad3\u4e39\u53ef\u91cd\u7f6e\u8be5\u526f\u5c06\u5df2\u5206\u914d\u7684\u5c5e\u6027\u70b9\uff0c\u662f\u5426\u786e\u5b9a\u4f7f\u7528\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerUseAdjutantWashPulpDan(t.id)}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this)),o.parent=this.playerAdjutantListNode}}},playerAdjutantChoose:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/adjutantChoose",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerUseAdjutantWashPulpDan:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/useAdjutantWashPulpDan",{playerAdjutantId:t,playerGoodsId:this.playerGoodsId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.quitFragment(!0)}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],PlayerCombat:[function(t,i,o){"use strict";cc._RF.push(i,"b9aecG5/ZlKT4HuVxxOq00Q","PlayerCombat");var e=t("Fragment");cc.Class({extends:e,properties:{kangWuLiLabel:cc.Label,kangXuanJiLabel:cc.Label,kangWeiKunLabel:cc.Label,kangFengSuoLabel:cc.Label,kangLuoLeiLabel:cc.Label,kangFengLangLabel:cc.Label,kangYaoHuoLabel:cc.Label,kangRaoLuanLabel:cc.Label,kangDuShuLabel:cc.Label,baoJiLvLabel:cc.Label,zhiMingLvLabel:cc.Label,fanJiLvLabel:cc.Label,fanZhenLvLabel:cc.Label,mingZhongLvLabel:cc.Label,douBiLvLabel:cc.Label,faBaoLvLabel:cc.Label,lianJiLvLabel:cc.Label},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.getLaunchData()&&this.getLaunchData().playerId?this.playerId=this.getLaunchData().playerId:this.playerId=application.getPlayerId(),this.playerCombat()},onBackClickCallback:function(t){this.quitFragment()},onCombatDescriptionClickCallback:function(t){this.launchFragment("CombatDescription")},onCombatBaseDescriptionClickCallback:function(t){this.launchFragment("CombatBaseDescription")},initData:function(){var t=this.data;t&&(this.kangWuLiLabel.string=t.kangWuLi+"",this.kangXuanJiLabel.string=t.kangXuanJi+"",this.kangWeiKunLabel.string=t.kangWeiKun+"",this.kangFengSuoLabel.string=t.kangFengSuo+"",this.kangLuoLeiLabel.string=t.kangLuoLei+"",this.kangFengLangLabel.string=t.kangFengLang+"",this.kangYaoHuoLabel.string=t.kangYaoHuo+"",this.kangRaoLuanLabel.string=t.kangRaoLuan+"",this.kangDuShuLabel.string=t.kangDuShu+"",this.baoJiLvLabel.string=t.baoJiLv+"",this.zhiMingLvLabel.string=t.zhiMingLv+"",this.fanJiLvLabel.string=t.fanJiLv+"",this.fanZhenLvLabel.string=t.fanZhenLv+"",this.mingZhongLvLabel.string=t.mingZhongLv+"",this.douBiLvLabel.string=t.duoBiLv+"",this.faBaoLvLabel.string=t.faBaoLv+"",this.lianJiLvLabel.string=t.lianJiLv+"")},playerCombat:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/combat",{playerId:this.playerId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],PlayerCreate:[function(t,i,o){"use strict";cc._RF.push(i,"3a077pJTLNJeqzYKPpRCTM0","PlayerCreate");var e=t("PersonFace");cc.Class({extends:cc.Component,properties:{nameEditBox:cc.EditBox,weiToggle:cc.Toggle,shuToggle:cc.Toggle,wuToggle:cc.Toggle,stateHintLabel:cc.Label,manToggle:cc.Toggle,womanToggle:cc.Toggle,wsToggle:cc.Toggle,wrToggle:cc.Toggle,yrToggle:cc.Toggle,face1PersonFace:e,face2PersonFace:e,face3PersonFace:e,hintDialogPrefab:cc.Prefab,loadDialogPrefab:cc.Prefab},onLoad:function(){network.addScene(this),this.selectFace=1;var t=cc.Color.BLACK;this.selectColor=t.fromHEX("#FFFFFF");var i=cc.Color.BLACK;this.noSelectColor=i.fromHEX("#414141"),this.loadDialogNode=cc.instantiate(this.loadDialogPrefab),this.loadDialogNode.parent=this.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.hintDialogPrefab),this.hintDialogNode.parent=this.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){network.removeScene(this)},start:function(){this.initData()},onWsOpen:function(){network.playerLogin(application.getUserId(),this.playerId)},onWsMessage:function(t){"playerLogin"==t.action&&(this.loadDialogNode.loadDialogComp.dismiss(),1==t.code&&(application.setClientId(t.data),this.playerLogin()))},onRoleChangeCallback:function(t){t.isChecked&&this.initData()},onFaceChangeCallback:function(t,i){this.selectFace=i,this.initData()},onStateChangeCallback:function(t){t.isChecked&&this.initData()},initData:function(){this.weiToggle.isChecked&&(this.stateHintLabel.string="\u9b4f\u56fd\u526f\u5c06\u53c2\u6218\u589e\u52a010%\u4f24\u5bb3\u3001\u9632\u5fa1\uff0c\u8700\u56fd\u5434\u56fd\u526f\u5c06\u53c2\u6218\u8870\u51cf10%\u4f24\u5bb3\u3001\u9632\u5fa1\uff0c\u901a\u7528\u526f\u5c06\u53c2\u6218\u65e0\u5f71\u54cd"),this.shuToggle.isChecked&&(this.stateHintLabel.string="\u8700\u56fd\u526f\u5c06\u53c2\u6218\u589e\u52a010%\u4f24\u5bb3\u3001\u9632\u5fa1\uff0c\u9b4f\u56fd\u5434\u56fd\u526f\u5c06\u53c2\u6218\u8870\u51cf10%\u4f24\u5bb3\u3001\u9632\u5fa1\uff0c\u901a\u7528\u526f\u5c06\u53c2\u6218\u65e0\u5f71\u54cd"),this.wuToggle.isChecked&&(this.stateHintLabel.string="\u5434\u56fd\u526f\u5c06\u53c2\u6218\u589e\u52a010%\u4f24\u5bb3\u3001\u9632\u5fa1\uff0c\u9b4f\u56fd\u8700\u56fd\u526f\u5c06\u53c2\u6218\u8870\u51cf10%\u4f24\u5bb3\u3001\u9632\u5fa1\uff0c\u901a\u7528\u526f\u5c06\u53c2\u6218\u65e0\u5f71\u54cd"),this.manToggle.isChecked&&this.wsToggle.isChecked&&(this.face1PersonFace.draw="ws1",this.face2PersonFace.draw="ws2",this.face3PersonFace.draw="ws3"),this.manToggle.isChecked&&this.wrToggle.isChecked&&(this.face1PersonFace.draw="wr1",this.face2PersonFace.draw="wr2",this.face3PersonFace.draw="wr3"),this.manToggle.isChecked&&this.yrToggle.isChecked&&(this.face1PersonFace.draw="yr1",this.face2PersonFace.draw="yr2",this.face3PersonFace.draw="yr3"),this.womanToggle.isChecked&&this.wsToggle.isChecked&&(this.face1PersonFace.draw="ws4",this.face2PersonFace.draw="ws5",this.face3PersonFace.draw="ws6"),this.womanToggle.isChecked&&this.wrToggle.isChecked&&(this.face1PersonFace.draw="wr4",this.face2PersonFace.draw="wr5",this.face3PersonFace.draw="wr6"),this.womanToggle.isChecked&&this.yrToggle.isChecked&&(this.face1PersonFace.draw="yr4",this.face2PersonFace.draw="yr5",this.face3PersonFace.draw="yr6"),1==this.selectFace&&(this.face1PersonFace.node.color=this.selectColor,this.face2PersonFace.node.color=this.noSelectColor,this.face3PersonFace.node.color=this.noSelectColor),2==this.selectFace&&(this.face1PersonFace.node.color=this.noSelectColor,this.face2PersonFace.node.color=this.selectColor,this.face3PersonFace.node.color=this.noSelectColor),3==this.selectFace&&(this.face1PersonFace.node.color=this.noSelectColor,this.face2PersonFace.node.color=this.noSelectColor,this.face3PersonFace.node.color=this.selectColor)},onCreateClickCallback:function(t){var i="";this.weiToggle.isChecked&&(i="\u9b4f"),this.shuToggle.isChecked&&(i="\u8700"),this.wuToggle.isChecked&&(i="\u5434");var o=0;if(this.manToggle.isChecked&&this.wsToggle.isChecked&&1==this.selectFace&&(o=1),this.manToggle.isChecked&&this.wrToggle.isChecked&&1==this.selectFace&&(o=2),this.manToggle.isChecked&&this.yrToggle.isChecked&&1==this.selectFace&&(o=3),this.manToggle.isChecked&&this.wsToggle.isChecked&&2==this.selectFace&&(o=4),this.manToggle.isChecked&&this.wrToggle.isChecked&&2==this.selectFace&&(o=5),this.manToggle.isChecked&&this.yrToggle.isChecked&&2==this.selectFace&&(o=6),this.manToggle.isChecked&&this.wsToggle.isChecked&&3==this.selectFace&&(o=7),this.manToggle.isChecked&&this.wrToggle.isChecked&&3==this.selectFace&&(o=8),this.manToggle.isChecked&&this.yrToggle.isChecked&&3==this.selectFace&&(o=9),this.womanToggle.isChecked&&this.wsToggle.isChecked&&1==this.selectFace&&(o=10),this.womanToggle.isChecked&&this.wrToggle.isChecked&&1==this.selectFace&&(o=11),this.womanToggle.isChecked&&this.yrToggle.isChecked&&1==this.selectFace&&(o=12),this.womanToggle.isChecked&&this.wsToggle.isChecked&&2==this.selectFace&&(o=13),this.womanToggle.isChecked&&this.wrToggle.isChecked&&2==this.selectFace&&(o=14),this.womanToggle.isChecked&&this.yrToggle.isChecked&&2==this.selectFace&&(o=15),this.womanToggle.isChecked&&this.wsToggle.isChecked&&3==this.selectFace&&(o=16),this.womanToggle.isChecked&&this.wrToggle.isChecked&&3==this.selectFace&&(o=17),this.womanToggle.isChecked&&this.yrToggle.isChecked&&3==this.selectFace&&(o=18),""!=i&&0!=o){this.loadDialogNode.loadDialogComp.show();var e=this.nameEditBox.string;network.sendGameHttpPost("/player/create",{userId:application.getUserId(),name:e,roleId:o,state:i},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.playerId=t.data.id,application.setPlayerId(this.playerId),this.loadDialogNode.loadDialogComp.show(),network.gameWsConnect()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}},playerLogin:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:this.playerId,isFirst:!0},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),cc.director.loadScene("Main")}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))},onQuitClickCallback:function(t){cc.director.loadScene("PlayerLogin")}}),cc._RF.pop()},{PersonFace:"PersonFace"}],PlayerDetail:[function(t,i,o){"use strict";cc._RF.push(i,"526a2+c0RZDsrhNq2J/TnIS","PlayerDetail");var e=t("Fragment"),a=t("PersonFace");cc.Class({extends:e,properties:{nameLabel:cc.Label,idLabel:cc.Label,personFace:a,titleLabel:cc.Label,sectNameLabel:cc.Label,danNameLabel:cc.Label,stateLabel:cc.Label,jobNameLabel:cc.Label,gradeNameLabel:cc.Label,upGradeNeedExLabel:cc.Label,canUseAbilityLabel:cc.Label,hpLabel:cc.Label,mpLabel:cc.Label,attackLabel:cc.Label,supernaturalLabel:cc.Label,defenseLabel:cc.Label,speedLabel:cc.Label,hpBagLabel:cc.Label,mpBagLabel:cc.Label,physicalValueLabel:cc.Label,isOpenPhysicalLabel:cc.Label},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerDetail()},onQuitFragmentCallback:function(t,i){"PlayerAbility"==t&&this.playerDetail(),"FaceList"==t&&this.playerDetail()},onBackClickCallback:function(t){this.quitFragment()},onPlayerSkillClickCallback:function(t){this.launchFragment("PlayerSkillList")},onUseAbilityClickCallback:function(t){this.launchFragment("PlayerAbility")},onPhysicalClickCallback:function(t){this.playerPhysical()},onCombatClickCallback:function(t){this.launchFragment("PlayerCombat")},onFaceClickCallback:function(t){this.launchFragment("FaceList")},initData:function(){if(null!=this.data){var t=this.data;if(this.nameLabel.string=t.name,this.idLabel.string=t.id+"",t.titleColor){var i=cc.Color.BLACK;this.titleLabel.node.color=i.fromHEX(t.titleColor)}else{i=cc.Color.BLACK;this.titleLabel.node.color=i.fromHEX("#FFFFFF")}this.titleLabel.string=t.title,this.stateLabel.string=t.state,this.jobNameLabel.string=t.jobName,this.danNameLabel.string=t.danName,"\u65e0"!=t.danName?this.danNameLabel.node.color=new cc.Color(255,28,130):this.danNameLabel.node.color=new cc.Color(255,255,255),this.sectNameLabel.string=t.sectName,this.gradeNameLabel.string=t.gradeName+"\u7ea7",this.upGradeNeedExLabel.string="\u8fd8\u9700\u8981"+t.upGradeNeedEx+"\u7ecf\u9a8c\u5347\u7ea7",this.canUseAbilityLabel.string=t.canUseAbility+"",this.hpLabel.string=t.hpCurrent+"/"+t.hpLimit,this.mpLabel.string=t.mpCurrent+"/"+t.mpLimit,this.attackLabel.string=t.attack+"",this.supernaturalLabel.string=t.supernatural+"",this.defenseLabel.string=t.defense+"",this.speedLabel.string=t.speed+"",this.personFace.draw=t.faceDraw,this.physicalValueLabel.string=t.physicalValue+""+(t.openPhysical?"(\u5f00\u542f\u4e2d)":"(\u5173\u95ed\u4e2d)"),this.isOpenPhysicalLabel.string=t.openPhysical?"\u5173\u95ed":"\u5f00\u542f",this.hpBagLabel.string=t.hpBag+"",this.mpBagLabel.string=t.mpBag+""}},playerDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/detail",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerPhysical:function(){this.loadDialogNode.loadDialogComp.show(),cc.log(this.data),network.sendGameHttpPost("/player/physical",{playerId:application.getPlayerId(),isOpenPhysical:!this.data.openPhysical},function(t){t&&1==t.code?(this.data.openPhysical=t.data.openPhysical,this.initData(),this.loadDialogNode.loadDialogComp.dismiss(),this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.loadDialogNode.loadDialogComp.dismiss(),this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment",PersonFace:"PersonFace"}],PlayerDrugSellChoose:[function(t,i,o){"use strict";cc._RF.push(i,"8ef7bdPmbJCXKU5NAL9Nwix","PlayerDrugSellChoose");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{drugListNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerDrugChoose()},onBackClickCallback:function(t){this.quitFragment()},onQuitFragmentCallback:function(t,i){"PlayerGoodsSell"==t&&i&&this.playerDrugChoose()},initData:function(){for(var t=0;t<this.drugListNode.childrenCount;t++){(o=this.drugListNode.children[t]).destroy()}var i=this.data.playerDrugList;if(null!=i)for(t=0;t<i.length;t++){var o,e=i[t];(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.id=e.id,o.commonItemComp.drugId=e.drugId,o.commonItemComp.setName(e.drugName),"\u52a0HP"==e.drugType&&o.commonItemComp.setNameColor("#FF1A1A"),"\u52a0MP"==e.drugType&&o.commonItemComp.setNameColor("#2B88F1"),o.commonItemComp.setInfo("\u6570\u91cf("+e.number+")"),o.commonItemComp.setAction("\u9009\u62e9"),o.commonItemComp.setOnNameClickCallback(function(t){var i={action:"\u836f\u54c1\u8be6\u60c5",drugId:t.drugId};this.launchFragment("DrugDetail",i)}.bind(this)),o.commonItemComp.setOnActionClickCallback(function(t){var i={playerGoodsId:t.id};this.launchFragment("PlayerGoodsSell",i)}.bind(this)),o.parent=this.drugListNode}},playerDrugChoose:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/drugChoose",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],PlayerGemSellChoose:[function(t,i,o){"use strict";cc._RF.push(i,"353552ICRpK54/9j15SWCLc","PlayerGemSellChoose");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{listNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerGemChoose()},onBackClickCallback:function(t){this.quitFragment()},onQuitFragmentCallback:function(t,i){"PlayerGoodsSell"==t&&i&&this.playerGemChoose()},initData:function(){for(var t=0;t<this.listNode.childrenCount;t++){(o=this.listNode.children[t]).destroy()}var i=this.data.playerGemList;if(null!=i)for(t=0;t<i.length;t++){var o,e=i[t];(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.id=e.id,o.commonItemComp.gemId=e.gemId,o.commonItemComp.setName(e.gemGradeName+"\u7ea7"+e.gemName),o.commonItemComp.setInfo("\u6570\u91cf("+e.number+")"),o.commonItemComp.setAction("\u9009\u62e9"),o.commonItemComp.setOnNameClickCallback(function(t){var i={action:"\u5b9d\u77f3\u8be6\u60c5",gemId:t.gemId,isShowPrice:!1};this.launchFragment("GemDetail",i)}.bind(this)),o.commonItemComp.setOnActionClickCallback(function(t){var i={playerGoodsId:t.id};this.launchFragment("PlayerGoodsSell",i)}.bind(this)),o.parent=this.listNode}},playerGemChoose:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/gemChoose",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],PlayerGoodsSell:[function(t,i,o){"use strict";cc._RF.push(i,"c1dc1+zuqlMy4KsNmRBC75W","PlayerGoodsSell");var e=t("Fragment");cc.Class({extends:e,properties:{nameLabel:cc.Label,priceLabel:cc.Label,numberLabel:cc.Label,buyNumberEditbox:cc.EditBox},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerGoodsId=this.getLaunchData().playerGoodsId,this.playerGoodsSellPrepare()},initData:function(){var t=this.data;null!=t&&(this.nameLabel.string=t.name,this.priceLabel.string=t.sellPrice+"\u94f6\u4e24",this.numberLabel.string="\u60a8\u62e5\u6709"+t.number+"\u4e2a")},onBackClickCallback:function(t){this.quitFragment()},onSellClickCallback:function(t){var i=this.buyNumberEditbox.string;util.isNumber(i)?this.playerGoodsSell(i):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u56de\u6536\u6570\u91cf\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},playerGoodsSellPrepare:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/goodsSellPrepare",{playerGoodsId:this.playerGoodsId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerGoodsSell:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/goodsSell",{playerGoodsId:this.playerGoodsId,playerId:application.getPlayerId(),sellNumber:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.quitFragment(!0)}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],PlayerHorseDetail:[function(t,i,o){"use strict";cc._RF.push(i,"3a565t/T+VKyafqX1GLuEO/","PlayerHorseDetail");var e=t("Fragment"),a=t("HorseFace");cc.Class({extends:e,properties:{nameLabel:cc.Label,levelLabel:cc.Label,horseFace:a,growthRateLabel:cc.Label,physiqueRateLabel:cc.Label,mindRateLabel:cc.Label,strengthRateLabel:cc.Label,agilityRateLabel:cc.Label,gradeHintLabel:cc.Label,hpLabel:cc.Label,mpLabel:cc.Label,attackLabel:cc.Label,supernaturalLabel:cc.Label,defenseLabel:cc.Label,speedLabel:cc.Label,dismissalButton:cc.Button},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerHorseId=this.getLaunchData().playerHorseId,this.isShowDismissal=this.getLaunchData().isShowDismissal,null!=this.isShowDismissal&&void 0!=this.isShowDismissal||(this.isShowDismissal=!0),this.isShowDismissal?this.dismissalButton.node.active=!0:this.dismissalButton.node.active=!1,this.playerHorseDetail()},initData:function(){if(null!=this.data){var t=this.data;this.nameLabel.string=t.horseName,this.levelLabel.string=t.horseLevel+"\u9636",this.growthRateLabel.string=t.growthRate,this.physiqueRateLabel.string=t.physiqueRate,this.mindRateLabel.string=t.mindRate,this.strengthRateLabel.string=t.strengthRate,this.agilityRateLabel.string=t.agilityRate,this.horseFace.draw=t.horseFaceDraw,this.gradeHintLabel.string="\u60a8\u76ee\u524d"+t.playerGradeName+"\u7ea7\uff0c\u4e58\u9a91\u53ef\u589e\u52a0\u4ee5\u4e0b\u5c5e\u6027",this.hpLabel.string=t.hpLimit,this.mpLabel.string=t.mpLimit,this.attackLabel.string=t.attack,this.supernaturalLabel.string=t.supernatural,this.defenseLabel.string=t.defense,this.speedLabel.string=t.speed}},onBackClickCallback:function(t){this.quitFragment()},onPlayerHorseDismissalClickCallback:function(t){this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u786e\u5b9a\u8981\u653e\u751f\u8be5\u6218\u9a6c\u5417\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerHorseDismissal()}.bind(this)),this.hintDialogNode.hintDialogComp.show()},onDetailClickCallback:function(t){var i={horseId:this.data.horseId};this.launchFragment("HorseDetail",i)},playerHorseDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/horseDetail",{playerHorseId:this.playerHorseId,playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerHorseDismissal:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/horseDismissal",{playerHorseId:this.playerHorseId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.quitFragment(!0)}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment",HorseFace:"HorseFace"}],PlayerHorseList:[function(t,i,o){"use strict";cc._RF.push(i,"630bfinVhVP9JZ7B+FTSwNF","PlayerHorseList");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{listNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerHorseList()},onBackClickCallback:function(t){this.quitFragment()},onQuitFragmentCallback:function(t,i){"PlayerHorseDetail"==t&&i&&this.playerHorseList()},initData:function(){if(null!=this.data){for(var t=this.data.playerHorseList,i=0;i<this.listNode.childrenCount;i++){(o=this.listNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.id=e.id,o.commonItemComp.setName(e.horseName),o.commonItemComp.setInfo(e.horseLevel+"\u9636"),o.commonItemComp.isHelp=e.help,e.help?(o.commonItemComp.setAction("\u4e0b\u9a6c"),o.commonItemComp.setActionColor("#3093FF")):(o.commonItemComp.setAction("\u4e58\u9a91"),o.commonItemComp.setActionColor("#FF00F5")),o.commonItemComp.setOnNameClickCallback(function(t){var i={playerHorseId:t.id};this.launchFragment("PlayerHorseDetail",i)}.bind(this)),o.commonItemComp.setOnActionClickCallback(function(t){t.isHelp?this.playerHorseNoHelp():this.playerHorseHelp(t.id)}.bind(this)),o.parent=this.listNode}}},playerHorseList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/horseList",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerHorseHelp:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/horseHelp",{playerId:application.getPlayerId(),playerHorseId:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerHorseNoHelp:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/horseNoHelp",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.playerHorseList()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],PlayerKitApparel:[function(t,i,o){"use strict";cc._RF.push(i,"a0f11Z2T/BJu4U8Jk/0zIDn","PlayerKitApparel");var e=t("Fragment");cc.Class({extends:e,properties:{capLabel:cc.Label,weaponLabel:cc.Label,clothesLabel:cc.Label,necklaceLabel:cc.Label,braceletLabel:cc.Label,shoeLabel:cc.Label,capButton:cc.Button,weaponButton:cc.Button,clothesButton:cc.Button,necklaceButton:cc.Button,braceletButton:cc.Button,shoeButton:cc.Button},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.capLabel.buttonComp=this.capLabel.node.getComponent(cc.Button),this.weaponLabel.buttonComp=this.weaponLabel.node.getComponent(cc.Button),this.clothesLabel.buttonComp=this.clothesLabel.node.getComponent(cc.Button),this.necklaceLabel.buttonComp=this.necklaceLabel.node.getComponent(cc.Button),this.braceletLabel.buttonComp=this.braceletLabel.node.getComponent(cc.Button),this.shoeLabel.buttonComp=this.shoeLabel.node.getComponent(cc.Button),this.capLabel.labelOutlineComp=this.capLabel.node.getComponent(cc.LabelOutline),this.weaponLabel.labelOutlineComp=this.weaponLabel.node.getComponent(cc.LabelOutline),this.clothesLabel.labelOutlineComp=this.clothesLabel.node.getComponent(cc.LabelOutline),this.necklaceLabel.labelOutlineComp=this.necklaceLabel.node.getComponent(cc.LabelOutline),this.braceletLabel.labelOutlineComp=this.braceletLabel.node.getComponent(cc.LabelOutline),this.shoeLabel.labelOutlineComp=this.shoeLabel.node.getComponent(cc.LabelOutline)},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerKitApparelDetail()},onBackClickCallback:function(t){this.quitFragment()},onCapClickCallback:function(t){var i={action:"\u88c5\u5907\u8be6\u60c5",playerKitId:this.capLabel.id};this.launchFragment("PlayerKitDetail",i)},onWeaponClickCallback:function(t){var i={action:"\u88c5\u5907\u8be6\u60c5",playerKitId:this.weaponLabel.id};this.launchFragment("PlayerKitDetail",i)},onClothesClickCallback:function(t){var i={action:"\u88c5\u5907\u8be6\u60c5",playerKitId:this.clothesLabel.id};this.launchFragment("PlayerKitDetail",i)},onNecklaceClickCallback:function(t){var i={action:"\u88c5\u5907\u8be6\u60c5",playerKitId:this.necklaceLabel.id};this.launchFragment("PlayerKitDetail",i)},onBraceletClickCallback:function(t){var i={action:"\u88c5\u5907\u8be6\u60c5",playerKitId:this.braceletLabel.id};this.launchFragment("PlayerKitDetail",i)},onShoeClickCallback:function(t){var i={action:"\u88c5\u5907\u8be6\u60c5",playerKitId:this.shoeLabel.id};this.launchFragment("PlayerKitDetail",i)},onStripKitClickCallback:function(t,i){this.playerKitStrip(i)},initData:function(){var t=this.data;null!=t&&(null!=t.capPlayerKit?(this.capLabel.buttonComp.interactable=!0,this.capLabel.id=t.capPlayerKit.id,this.capLabel.string=t.capPlayerKit.kitName,this.capLabel.labelOutlineComp.enabled=!0,this.capLabel.labelOutlineComp.color=new cc.Color(255,26,26),this.capButton.node.active=!0):(this.capLabel.buttonComp.interactable=!1,this.capLabel.string="\u3010\u7a7a\u3011",this.capLabel.labelOutlineComp.enabled=!1,this.capButton.node.active=!1),null!=t.weaponPlayerKit?(this.weaponLabel.buttonComp.interactable=!0,this.weaponLabel.id=t.weaponPlayerKit.id,this.weaponLabel.string=t.weaponPlayerKit.kitName,this.weaponLabel.labelOutlineComp.enabled=!0,this.weaponLabel.labelOutlineComp.color=new cc.Color(255,26,26),this.weaponButton.node.active=!0):(this.weaponLabel.buttonComp.interactable=!1,this.weaponLabel.string="\u3010\u7a7a\u3011",this.weaponLabel.labelOutlineComp.enabled=!1,this.weaponButton.node.active=!1),null!=t.clothesPlayerKit?(this.clothesLabel.buttonComp.interactable=!0,this.clothesLabel.id=t.clothesPlayerKit.id,this.clothesLabel.string=t.clothesPlayerKit.kitName,this.clothesLabel.labelOutlineComp.enabled=!0,this.clothesLabel.labelOutlineComp.color=new cc.Color(255,26,26),this.clothesButton.node.active=!0):(this.clothesLabel.buttonComp.interactable=!1,this.clothesLabel.string="\u3010\u7a7a\u3011",this.clothesLabel.labelOutlineComp.enabled=!1,this.clothesButton.node.active=!1),null!=t.necklacePlayerKit?(this.necklaceLabel.buttonComp.interactable=!0,this.necklaceLabel.id=t.necklacePlayerKit.id,this.necklaceLabel.string=t.necklacePlayerKit.kitName,this.necklaceLabel.labelOutlineComp.enabled=!0,this.necklaceLabel.labelOutlineComp.color=new cc.Color(255,26,26),this.necklaceButton.node.active=!0):(this.necklaceLabel.buttonComp.interactable=!1,this.necklaceLabel.string="\u3010\u7a7a\u3011",this.necklaceLabel.labelOutlineComp.enabled=!1,this.necklaceButton.node.active=!1),null!=t.braceletPlayerKit?(this.braceletLabel.buttonComp.interactable=!0,this.braceletLabel.id=t.braceletPlayerKit.id,this.braceletLabel.string=t.braceletPlayerKit.kitName,this.braceletLabel.labelOutlineComp.enabled=!0,this.braceletLabel.labelOutlineComp.color=new cc.Color(255,26,26),this.braceletButton.node.active=!0):(this.braceletLabel.buttonComp.interactable=!1,this.braceletLabel.string="\u3010\u7a7a\u3011",this.braceletLabel.labelOutlineComp.enabled=!1,this.braceletButton.node.active=!1),null!=t.shoePlayerKit?(this.shoeLabel.buttonComp.interactable=!0,this.shoeLabel.id=t.shoePlayerKit.id,this.shoeLabel.string=t.shoePlayerKit.kitName,this.shoeLabel.labelOutlineComp.enabled=!0,this.shoeLabel.labelOutlineComp.color=new cc.Color(255,26,26),this.shoeButton.node.active=!0):(this.shoeLabel.buttonComp.interactable=!1,this.shoeLabel.string="\u3010\u7a7a\u3011",this.shoeLabel.labelOutlineComp.enabled=!1,this.shoeButton.node.active=!1))},playerKitApparelDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/kitApparelDetail",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerKitStrip:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/kitStrip",{playerId:application.getPlayerId(),location:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.playerKitApparelDetail()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],PlayerKitDetail:[function(t,i,o){"use strict";cc._RF.push(i,"898d9d3lspLfohKbZGb08ER","PlayerKitDetail");var e=t("Fragment");cc.Class({extends:e,properties:{titleLabel:cc.Label,nameLabel:cc.Label,gradeNameLabel:cc.Label,constraintGradeNameLabel:cc.Label,effectLabel:cc.Label,intensifyEffectLabel:cc.Label,appendEffectLabel:cc.Label,descriptionLabel:cc.Label},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerKitId=this.getLaunchData().playerKitId,this.playerKitDetail()},initData:function(){if(null!=this.data){var t=this.data;this.nameLabel.string=t.kitName,this.gradeNameLabel.string=t.kitGradeName+"\u7ea7",this.constraintGradeNameLabel.string=t.kitConstraintGradeName+"\u7ea7";for(var i=JSON.parse(t.kitEffectList),o="",e=0;e<i.length;e++){e>0&&(o+="\n");var a=i[e];o=o+a.type+"+"+a.effectOfType}this.effectLabel.string=o;var n=JSON.parse(t.intensifyKitEffectList),s="";for(e=0;e<n.length;e++){e>0&&(s+="\n");var l=n[e];s=s+l.type+"+"+l.effectOfType}this.intensifyEffectLabel.string=s||"\u65e0";var h="";for(e=0;e<t.appendKitEffectList.length;e++){e>0&&(h+="\n");var d=t.appendKitEffectList[e];h=h+d.type+"+"+d.effectOfType}this.appendEffectLabel.string=h||"\u65e0",this.descriptionLabel.string="\u3000\u3000"+t.kitDescription}},onBackClickCallback:function(t){this.quitFragment()},playerKitDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/kitDetail",{playerKitId:this.playerKitId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],PlayerKitIntensifyChoose:[function(t,i,o){"use strict";cc._RF.push(i,"1b2e0gb50RGi6bOQjQ99W68","PlayerKitIntensifyChoose");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{titleLabel:cc.Label,listNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerKitChoose()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){var t=this.data.playerKitList;if(null!=t)for(var i=0;i<t.length;i++){var o=t[i],e=cc.instantiate(this.commonItemPrefab);e.commonItemComp=e.getComponent(a),e.commonItemComp.id=o.id,e.commonItemComp.setName(o.kitName),e.commonItemComp.setInfo(o.apparelInfo),e.commonItemComp.setAction("\u9009\u62e9"),e.commonItemComp.setOnNameClickCallback(function(t){var i={action:"\u88c5\u5907\u8be6\u60c5",playerKitId:t.id};this.launchFragment("PlayerKitDetail",i)}.bind(this)),e.commonItemComp.setOnActionClickCallback(function(t){this.quitFragment(t.id)}.bind(this)),e.parent=this.listNode}},playerKitChoose:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/kitChoose",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],PlayerKitIntensify:[function(t,i,o){"use strict";cc._RF.push(i,"6dd0e135uVECr8XN/g9uRZt","PlayerKitIntensify");var e=t("Fragment");cc.Class({extends:e,properties:{intensifyNode:cc.Node,intensifyNextNode:cc.Node,noNextLabel:cc.Label,kitNameLabel:cc.Label,intensifyEffectLabel:cc.Label,nextIntensifyEffectLabel:cc.Label,haveOreLabel:cc.Label,expendOreLabel:cc.Label},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},onQuitFragmentCallback:function(t,i){"PlayerKitIntensifyChoose"==t&&null!=i&&(this.playerKitId=i,this.playerIntensifyKitPrepare())},start:function(){this.initData()},initData:function(){if(this.data){this.intensifyNode.active=!0;var t=this.data;this.kitNameLabel.string=t.kitName;for(var i=JSON.parse(t.intensifyKitEffectList),o="",e=0;e<i.length;e++){e>0&&(o+="\n"),o=o+(a=i[e]).type+"+"+a.effectOfType}if(this.intensifyEffectLabel.string=o||"\u65e0",t.intensifyLevel<10){this.noNextLabel.node.active=!1,this.intensifyNextNode.active=!0;for(i=JSON.parse(t.nextIntensifyKitEffectList),o="",e=0;e<i.length;e++){var a;e>0&&(o+="\n"),o=o+(a=i[e]).type+"+"+a.effectOfType}this.nextIntensifyEffectLabel.string=o||"\u65e0",this.haveOreLabel.string="\u60a8\u62e5\u6709"+t.playerGoodNumber+"\u5757"+t.oreGradeName+"\u7ea7"+t.oreName,this.expendOreLabel.string="\u6539\u9020\u9700\u8981\u6d88\u8017"+t.expendOreNumber+"\u5757"+t.oreGradeName+"\u7ea7"+t.oreName}else this.noNextLabel.node.active=!0,this.intensifyNextNode.active=!1}else this.intensifyNode.active=!1},chooseKitClickCallback:function(t){this.launchFragment("PlayerKitIntensifyChoose")},intensifyKitClickCallback:function(t){this.playerKitId&&this.playerIntensifyKit()},onBackClickCallback:function(t){this.quitFragment()},playerIntensifyKitPrepare:function(){this.playerKitId&&(this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/intensifyKitPrepare",{playerId:application.getPlayerId(),playerKitId:this.playerKitId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this)))},playerIntensifyKit:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/intensifyKit",{playerId:application.getPlayerId(),playerKitId:this.playerKitId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.playerIntensifyKitPrepare()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],PlayerKitRemouldChoose:[function(t,i,o){"use strict";cc._RF.push(i,"089f4GMQdJPhKR5MNZ6GCdS","PlayerKitRemouldChoose");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{titleLabel:cc.Label,listNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerKitChoose()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){var t=this.data.playerKitList;if(null!=t)for(var i=0;i<t.length;i++){var o=t[i],e=cc.instantiate(this.commonItemPrefab);e.commonItemComp=e.getComponent(a),e.commonItemComp.id=o.id;o.append1KitEffect&&0,o.append2KitEffect&&0,o.append3KitEffect&&0,e.commonItemComp.setName(o.kitName),e.commonItemComp.setInfo(o.apparelInfo),e.commonItemComp.setAction("\u9009\u62e9"),e.commonItemComp.setOnNameClickCallback(function(t){var i={action:"\u88c5\u5907\u8be6\u60c5",playerKitId:t.id};this.launchFragment("PlayerKitDetail",i)}.bind(this)),e.commonItemComp.setOnActionClickCallback(function(t){var i={playerKitId:t.id};this.quitFragment(i)}.bind(this)),e.parent=this.listNode}},playerKitChoose:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/kitChoose",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],PlayerKitRemouldPrepare:[function(t,i,o){"use strict";cc._RF.push(i,"2a1af6ANWNG/ISBvYM2aWh8","PlayerKitRemouldPrepare");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{listNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerKitId=this.getLaunchData().playerKitId,this.playerRemouldKitPrepare()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){if(null!=this.data){for(var t=this.data.playerGemList,i=0;i<this.listNode.childrenCount;i++){(o=this.listNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.id=e.id,o.commonItemComp.gemId=e.gemId,o.commonItemComp.setName(e.gemGradeName+"\u7ea7"+e.gemName),o.commonItemComp.setInfo(e.info),o.commonItemComp.setAction("\u4f7f\u7528"),o.commonItemComp.setOnNameClickCallback(function(t){var i={action:"\u5b9d\u77f3\u8be6\u60c5",gemId:t.gemId,isShowPrice:!1};this.launchFragment("GemDetail",i)}.bind(this)),o.commonItemComp.setOnActionClickCallback(function(t){var i={playerGoodsId:t.id};this.quitFragment(i)}.bind(this)),o.parent=this.listNode}}},playerRemouldKitPrepare:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/remouldKitPrepare",{playerId:application.getPlayerId(),playerKitId:this.playerKitId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],PlayerKitRemould:[function(t,i,o){"use strict";cc._RF.push(i,"a5506iu9GFL1IHAy0kPJcAp","PlayerKitRemould");var e=t("Fragment");cc.Class({extends:e,properties:{remouldNode:cc.Node,kitNameLabel:cc.Label,append1EffectLabel:cc.Label,append2EffectLabel:cc.Label,append3EffectLabel:cc.Label},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.initData()},onQuitFragmentCallback:function(t,i){"PlayerKitRemouldChoose"==t&&null!=i&&(this.playerKitId=i.playerKitId,this.playerRemouldKitDetail()),"PlayerKitRemouldPrepare"==t&&this.playerRemouldKit(i.playerGoodsId)},initData:function(){this.remouldNode.active=!1},chooseKitClickCallback:function(t){this.launchFragment("PlayerKitRemouldChoose")},onAppend1EffectClickCallback:function(t){if(this.playerKitId){this.appendLocation="append1";var i={playerKitId:this.playerKitId};this.launchFragment("PlayerKitRemouldPrepare",i)}},onAppend2EffectClickCallback:function(t){if(this.playerKitId){this.appendLocation="append2";var i={playerKitId:this.playerKitId};this.launchFragment("PlayerKitRemouldPrepare",i)}},onAppend3EffectClickCallback:function(t){if(this.playerKitId){this.appendLocation="append3";var i={playerKitId:this.playerKitId};this.launchFragment("PlayerKitRemouldPrepare",i)}},onBackClickCallback:function(t){this.quitFragment()},playerRemouldKitDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/remouldKitDetail",{playerId:application.getPlayerId(),playerKitId:this.playerKitId},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){this.remouldNode.active=!0;var i=t.data;this.kitNameLabel.string=i.kitName,i.append1KitEffect?this.append1EffectLabel.string=i.append1KitEffect.type+"+"+i.append1KitEffect.effectOfType:this.append1EffectLabel.string="\u3010\u65e0\u3011",i.append2KitEffect?this.append2EffectLabel.string=i.append2KitEffect.type+"+"+i.append2KitEffect.effectOfType:this.append2EffectLabel.string="\u3010\u65e0\u3011",i.append3KitEffect?this.append3EffectLabel.string=i.append3KitEffect.type+"+"+i.append3KitEffect.effectOfType:this.append3EffectLabel.string="\u3010\u65e0\u3011"}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))},playerRemouldKit:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/remouldKit",{playerId:application.getPlayerId(),playerKitId:this.playerKitId,playerGoodsId:t,appendLocation:this.appendLocation},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.playerRemouldKitDetail()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],PlayerKitSellChoose:[function(t,i,o){"use strict";cc._RF.push(i,"5cecewqvgdE5I2qCN3e2jzM","PlayerKitSellChoose");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{listNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerKitChoose()},onBackClickCallback:function(t){this.quitFragment()},onQuitFragmentCallback:function(t,i){"PlayerKitSell"==t&&i&&this.playerKitChoose()},initData:function(){for(var t=0;t<this.listNode.childrenCount;t++){(o=this.listNode.children[t]).destroy()}var i=this.data.playerKitList;if(null!=i)for(t=0;t<i.length;t++){var o,e=i[t];(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.id=e.id,o.commonItemComp.setName(e.kitName),o.commonItemComp.setInfo(e.kitGradeName+"\u7ea7"),o.commonItemComp.setAction("\u9009\u62e9"),o.commonItemComp.setOnNameClickCallback(function(t){var i={action:"\u88c5\u5907\u8be6\u60c5",playerKitId:t.id};this.launchFragment("PlayerKitDetail",i)}.bind(this)),o.commonItemComp.setOnActionClickCallback(function(t){var i={playerKitId:t.id};this.launchFragment("PlayerKitSell",i)}.bind(this)),o.parent=this.listNode}},playerKitChoose:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/kitChoose",{playerId:application.getPlayerId(),isIncludeApparel:!1},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],PlayerKitSell:[function(t,i,o){"use strict";cc._RF.push(i,"e6e0eaAzphM+q3n7uQuL3ww","PlayerKitSell");var e=t("Fragment");cc.Class({extends:e,properties:{nameLabel:cc.Label,priceLabel:cc.Label},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerKitId=this.getLaunchData().playerKitId,this.playerKitSellPrepare()},initData:function(){var t=this.data;null!=t&&(this.nameLabel.string=t.name,this.priceLabel.string=t.sellPrice+"\u94f6\u4e24",this.numberLabel.string="\u60a8\u62e5\u6709"+t.number+"\u4e2a")},onBackClickCallback:function(t){this.quitFragment()},onSellClickCallback:function(t){this.playerKitSell()},playerKitSellPrepare:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/kitSellPrepare",{playerKitId:this.playerKitId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerKitSell:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/kitSell",{playerKitId:this.playerKitId,playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.quitFragment(!0)}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],PlayerLoginItem:[function(t,i,o){"use strict";cc._RF.push(i,"ec53f3OEptKLJS+KN3ZiCir","PlayerLoginItem");var e=t("PersonFace");cc.Class({extends:cc.Component,properties:{chooseNode:cc.Node,nameLabel:cc.Label,infoLabel:cc.Label,idLabel:cc.Label,jingNode:cc.Node,personFace:e},start:function(){},load:function(t){this.playerId=t.id+"",this.status=t.status,this.idLabel.string="ID:"+t.id,this.nameLabel.string=t.name,this.infoLabel.string=t.gradeName+"\u7ea7"+t.jobName,this.personFace.draw=t.faceDraw,1==this.status?this.jingNode.active=!0:this.jingNode.active=!1},setChoose:function(t){this.isChoose=t,this.chooseNode.active=!this.isChoose},setOnClickCallback:function(t){this.clickCallback=t},onClickCallback:function(t){null!=this.clickCallback&&this.clickCallback(this)}}),cc._RF.pop()},{PersonFace:"PersonFace"}],PlayerLogin:[function(t,i,o){"use strict";cc._RF.push(i,"64521RWzJFPo4VHNIomT1dV","PlayerLogin");var e=t("PlayerLoginItem"),a=t("LoadDialog"),n=t("HintDialog");cc.Class({extends:cc.Component,properties:{playerListNode:cc.Node,playerCreateNode:cc.Node,playerItemPrefab:cc.Prefab,hintDialogPrefab:cc.Prefab,loadDialogPrefab:cc.Prefab},onLoad:function(){network.addScene(this),this.loadDialogNode=cc.instantiate(this.loadDialogPrefab),this.loadDialogNode.parent=this.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent(a),this.hintDialogNode=cc.instantiate(this.hintDialogPrefab),this.hintDialogNode.parent=this.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent(n),this.userId=application.getUserId(),cc.log(this.userId)},onDestroy:function(){network.removeScene(this)},start:function(){for(var t=0;t<this.playerListNode.childrenCount;t++){this.playerListNode.children[t].destroy()}this.getPlayerList()},getPlayerList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/list",{userId:application.getUserId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data.playerList;if(0==i.length)return void(this.playerListNode.active=!1);this.playerListNode.active=!0,i.length>=5?this.playerCreateNode.active=!1:this.playerCreateNode.active=!0;for(var o=0;o<this.playerListNode.childrenCount;o++){(a=this.playerListNode.children[o]).destroy()}for(o=0;o<i.length;o++){var a,n=i[o];(a=cc.instantiate(this.playerItemPrefab)).playerLoginItemComp=a.getComponent(e),a.playerLoginItemComp.load(n),a.playerLoginItemComp.setOnClickCallback(function(t){this.targetPlayer.setChoose(!1),this.targetPlayer=t,this.targetPlayer.setChoose(!0)}.bind(this)),a.parent=this.playerListNode,0==o&&(this.targetPlayer=a.playerLoginItemComp)}this.scheduleOnce(function(){null!=this.targetPlayer&&this.targetPlayer.setChoose(!0)},.5)}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u83b7\u53d6\u8be5\u533a\u89d2\u8272\u5931\u8d25\uff0c\u53ef\u80fd\u8be5\u533a\u6b63\u5728\u7ef4\u62a4\u4e2d\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),cc.director.loadScene("GroupLogin")}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))},onPlayerLoginClickCallback:function(t){null!=this.targetPlayer?1==this.targetPlayer.status?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u5f53\u524d\u89d2\u8272\u5df2\u88ab\u5c01\u7981\uff0c\u5982\u6709\u7591\u95ee\u8bf7\u8054\u7cfb\u7fa4\u4e3b\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(application.setPlayerId(this.targetPlayer.playerId),this.loadDialogNode.loadDialogComp.show(),network.gameWsConnect()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u8bf7\u5148\u9009\u62e9\u89d2\u8272\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},onPlayerCreateClickCallback:function(t){cc.director.loadScene("PlayerCreate")},onWsOpen:function(){network.playerLogin(application.getUserId(),this.targetPlayer.playerId)},onWsMessage:function(t){"playerLogin"==t.action&&(this.loadDialogNode.loadDialogComp.dismiss(),1==t.code&&(application.setClientId(t.data),this.playerLogin()))},playerLogin:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:this.targetPlayer.playerId,isFirst:!0},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),cc.director.loadScene("Main")}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))},onBackClickCallback:function(t){cc.director.loadScene("Guide")},onUserManageClickCallback:function(t){this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u9700\u8981\u8f6c\u79fb\u89d2\u8272\u548c\u5220\u9664\u89d2\u8272\u7b49\u64cd\u4f5c\u8bf7\u8054\u7cfb\u7fa4\u4e3b\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}}),cc._RF.pop()},{HintDialog:"HintDialog",LoadDialog:"LoadDialog",PlayerLoginItem:"PlayerLoginItem"}],PlayerOreSellChoose:[function(t,i,o){"use strict";cc._RF.push(i,"d88c1xsK+BCt43oLVW5u08S","PlayerOreSellChoose");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{listNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerOreChoose()},onBackClickCallback:function(t){this.quitFragment()},onQuitFragmentCallback:function(t,i){"PlayerGoodsSell"==t&&i&&this.playerOreChoose()},initData:function(){for(var t=0;t<this.listNode.childrenCount;t++){(o=this.listNode.children[t]).destroy()}var i=this.data.playerOreList;if(null!=i)for(t=0;t<i.length;t++){var o,e=i[t];(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.id=e.id,o.commonItemComp.oreId=e.oreId,o.commonItemComp.setName(e.oreGradeName+"\u7ea7"+e.oreName),o.commonItemComp.setInfo("\u6570\u91cf("+e.number+")"),o.commonItemComp.setAction("\u9009\u62e9"),o.commonItemComp.setOnNameClickCallback(function(t){var i={action:"\u77ff\u77f3\u8be6\u60c5",oreId:t.oreId,isShowPrice:!1};this.launchFragment("OreDetail",i)}.bind(this)),o.commonItemComp.setOnActionClickCallback(function(t){var i={playerGoodsId:t.id};this.launchFragment("PlayerGoodsSell",i)}.bind(this)),o.parent=this.listNode}},playerOreChoose:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/oreChoose",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],PlayerOtherDetail:[function(t,i,o){"use strict";cc._RF.push(i,"0a5e1cvKEZHiZSq/1SidIpS","PlayerOtherDetail");var e=t("Fragment"),a=t("PersonFace");cc.Class({extends:e,properties:{nameLabel:cc.Label,idLabel:cc.Label,personFace:a,sectNameLabel:cc.Label,danNameLabel:cc.Label,titleLabel:cc.Label,jobNameLabel:cc.Label,stateLabel:cc.Label,gradeNameLabel:cc.Label,hpLabel:cc.Label,mpLabel:cc.Label,attackLabel:cc.Label,supernaturalLabel:cc.Label,defenseLabel:cc.Label,speedLabel:cc.Label,help1AdjutantNameLabel:cc.Label,help2AdjutantNameLabel:cc.Label,help3AdjutantNameLabel:cc.Label,helpHorseNameLabel:cc.Label,sendChatButton:cc.Button,friendApplyButton:cc.Button,stopFriendButton:cc.Button,addBlacklistButton:cc.Button,removeBlacklistButton:cc.Button,pkButton:cc.Button,marketNode:cc.Node,marketLabel:cc.Label,marketButton:cc.Button},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.marketLabel.labelOutlineComp=this.marketLabel.node.getComponent(cc.LabelOutline),this.help1AdjutantNameLabel.buttonComp=this.help1AdjutantNameLabel.node.getComponent(cc.Button),this.help2AdjutantNameLabel.buttonComp=this.help2AdjutantNameLabel.node.getComponent(cc.Button),this.help3AdjutantNameLabel.buttonComp=this.help3AdjutantNameLabel.node.getComponent(cc.Button),this.help1AdjutantNameLabel.labelOutlineComp=this.help1AdjutantNameLabel.node.getComponent(cc.LabelOutline),this.help2AdjutantNameLabel.labelOutlineComp=this.help2AdjutantNameLabel.node.getComponent(cc.LabelOutline),this.help3AdjutantNameLabel.labelOutlineComp=this.help3AdjutantNameLabel.node.getComponent(cc.LabelOutline)},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.otherPlayerId=this.getLaunchData().otherPlayerId,this.playerDetailOther()},onBackClickCallback:function(t){this.quitFragment()},onQuitFragmentCallback:function(t,i){"MarketDetail"==t&&i&&this.playerDetailOther(),"Combat"==t&&i&&network.getLastCombat()},onCombatContestInviteClickCallback:function(t){this.loadDialogNode.loadDialogComp.show(),network.combatContestInvite(this.otherPlayerId)},onPkClickCallback:function(t){this.loadDialogNode.loadDialogComp.show(),network.pk(this.otherPlayerId)},onWsMessage:function(t){"chatFriendApply"==t.action&&(this.loadDialogNode.loadDialogComp.dismiss(),this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonEnable(!0),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"combatContestInvite"==t.action&&(this.loadDialogNode.loadDialogComp.dismiss(),this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setTitle("\u6e29\u99a8\u63d0\u793a"),this.hintDialogNode.hintDialogComp.setContent("\u6b63\u5728\u7b49\u5f85\u5bf9\u65b9\u73a9\u5bb6\u63a5\u53d7\u5207\u78cb\u9080\u8bf7\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\uff0c5\u79d2\u540e\u53ef\u81ea\u884c\u53d6\u6d88\u9080\u8bf7\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonEnable(!0),this.hintDialogNode.hintDialogComp.setRightButtonInteractable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),network.combatContestInviteCancel()}.bind(this)),this.hintDialogNode.hintDialogComp.show(),this.hintDialogNode.hintDialogComp.scheduleCallback=function(){this.setRightButtonInteractable(!0)},this.hintDialogNode.hintDialogComp.scheduleOnce(this.hintDialogNode.hintDialogComp.scheduleCallback,5)),"combatCreate"==t.action&&(this.loadDialogNode.loadDialogComp.dismiss(),this.hintDialogNode.hintDialogComp.dismiss()),"noTakeCombatContestInvite"==t.action&&(this.loadDialogNode.loadDialogComp.dismiss(),this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setTitle("\u6e29\u99a8\u63d0\u793a"),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonEnable(!0),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"stopChatFriend"==t.action&&(this.loadDialogNode.loadDialogComp.dismiss(),1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerDetailOther()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())),"addChatBlacklist"==t.action&&(this.loadDialogNode.loadDialogComp.dismiss(),1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerDetailOther()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())),"removeChatBlacklist"==t.action&&(this.loadDialogNode.loadDialogComp.dismiss(),1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerDetailOther()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())),"pk"==t.action&&(this.loadDialogNode.loadDialogComp.dismiss(),this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},initData:function(){if(null!=this.data){var t=this.data;if(this.nameLabel.string=t.name+"("+(t.online?"\u5728\u7ebf":"\u79bb\u7ebf")+")",this.idLabel.string=t.id+"",this.titleLabel.string=t.title,t.titleColor){var i=cc.Color.BLACK;this.titleLabel.node.color=i.fromHEX(t.titleColor)}else{i=cc.Color.BLACK;this.titleLabel.node.color=i.fromHEX("#FFFFFF")}this.stateLabel.string=t.state,this.jobNameLabel.string=t.jobName,this.sectNameLabel.string=t.sectName,this.danNameLabel.string=t.danName,"\u65e0"!=t.danName?this.danNameLabel.node.color=new cc.Color(255,28,130):this.danNameLabel.node.color=new cc.Color(255,255,255),this.gradeNameLabel.string=t.gradeName+"\u7ea7",this.hpLabel.string=t.hpCurrent+"/"+t.hpLimit,this.mpLabel.string=t.mpCurrent+"/"+t.mpLimit,this.attackLabel.string=t.attack+"",this.supernaturalLabel.string=t.supernatural+"",this.defenseLabel.string=t.defense+"",this.speedLabel.string=t.speed+"",this.personFace.draw=t.faceDraw,t.myFriend?(this.friendApplyButton.node.active=!1,this.stopFriendButton.node.active=!0):(this.friendApplyButton.node.active=!0,this.stopFriendButton.node.active=!1),t.myBlacklist?(this.addBlacklistButton.node.active=!1,this.removeBlacklistButton.node.active=!0):(this.addBlacklistButton.node.active=!0,this.removeBlacklistButton.node.active=!1),t.canPk?this.pkButton.node.active=!0:this.pkButton.node.active=!1,t.help1Adjutant?(this.help1AdjutantNameLabel.buttonComp.interactable=!0,this.help1AdjutantNameLabel.id=t.help1Adjutant.id,this.help1AdjutantNameLabel.string=t.help1Adjutant.name,this.help1AdjutantNameLabel.labelOutlineComp.enabled=!0,this.help1AdjutantNameLabel.labelOutlineComp.color=new cc.Color(255,26,26)):(this.help1AdjutantNameLabel.buttonComp.interactable=!1,this.help1AdjutantNameLabel.string="\u3010\u7a7a\u3011",this.help1AdjutantNameLabel.labelOutlineComp.enabled=!1),t.help2Adjutant?(this.help2AdjutantNameLabel.buttonComp.interactable=!0,this.help2AdjutantNameLabel.id=t.help2Adjutant.id,this.help2AdjutantNameLabel.string=t.help2Adjutant.name,this.help2AdjutantNameLabel.labelOutlineComp.enabled=!0,this.help2AdjutantNameLabel.labelOutlineComp.color=new cc.Color(255,26,26)):(this.help2AdjutantNameLabel.buttonComp.interactable=!1,this.help2AdjutantNameLabel.string="\u3010\u7a7a\u3011",this.help2AdjutantNameLabel.labelOutlineComp.enabled=!1),t.help3Adjutant?(this.help3AdjutantNameLabel.buttonComp.interactable=!0,this.help3AdjutantNameLabel.id=t.help3Adjutant.id,this.help3AdjutantNameLabel.string=t.help3Adjutant.name,this.help3AdjutantNameLabel.labelOutlineComp.enabled=!0,this.help3AdjutantNameLabel.labelOutlineComp.color=new cc.Color(255,26,26)):(this.help3AdjutantNameLabel.buttonComp.interactable=!1,this.help3AdjutantNameLabel.string="\u3010\u7a7a\u3011",this.help3AdjutantNameLabel.labelOutlineComp.enabled=!1),null!=t.helpHorse?(this.helpHorseNameLabel.id=t.helpHorse.id,this.helpHorseNameLabel.string=t.helpHorse.name,this.helpHorseNameLabel.node.color=new cc.Color(255,26,26)):(this.helpHorseNameLabel.string="\u3010\u7a7a\u3011",this.helpHorseNameLabel.node.color=new cc.Color(255,255,255)),t.market?(this.marketNode.height=90,this.marketLabel.string=t.market.name,this.marketLabel.labelOutlineComp.enabled=!0,this.marketLabel.labelOutlineComp.color=new cc.Color(255,26,26),this.marketButton.node.active=!0):(this.marketNode.height=50,this.marketLabel.string="\u65e0",this.marketLabel.labelOutlineComp.enabled=!1,this.marketButton.node.active=!1)}},onHelp1AdjutantClickCallback:function(t){var i={playerAdjutantId:this.help1AdjutantNameLabel.id};this.launchFragment("PlayerAdjutantDetailOtherLook",i)},onHelp2AdjutantClickCallback:function(t){var i={playerAdjutantId:this.help2AdjutantNameLabel.id};this.launchFragment("PlayerAdjutantDetailOtherLook",i)},onHelp3AdjutantClickCallback:function(t){var i={playerAdjutantId:this.help3AdjutantNameLabel.id};this.launchFragment("PlayerAdjutantDetailOtherLook",i)},playerDetailOther:function(){this.loadDialogNode.loadDialogComp.show();var t=application.getMain();network.sendGameHttpPost("/player/detailOther",{playerId:t.playerId,otherPlayerId:this.otherPlayerId,regionId:t.regionId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},onFriendApplyClickCallback:function(t){this.loadDialogNode.loadDialogComp.show(),network.chatFriendApply(this.otherPlayerId)},onFriendChatClickCallback:function(t){var i={friendPlayerId:this.data.id};this.launchFragment("FriendChat",i)},onStopFriendClickCallback:function(t){this.data&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u591a\u4f4d\u670b\u53cb\u591a\u6761\u8def\uff0c\u662f\u5426\u786e\u5b9a\u548c\u5bf9\u65b9\u65ad\u7edd\u597d\u53cb\u5173\u7cfb\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonEnable(!0),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.loadDialogNode.loadDialogComp.show(),network.stopChatFriend(this.data.id)}.bind(this)),this.hintDialogNode.hintDialogComp.show())},onAddBlacklistClickCallback:function(t){this.data&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u662f\u5426\u5c06\u5bf9\u65b9\u62c9\u5165\u9ed1\u540d\u5355\u5217\u8868\uff0c\u62c9\u5165\u9ed1\u540d\u5355\u540e\u5c06\u65e0\u6cd5\u6536\u5230\u5bf9\u65b9\u5f97\u4fe1\u606f\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonEnable(!0),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.loadDialogNode.loadDialogComp.show(),network.addChatBlacklist(this.data.id)}.bind(this)),this.hintDialogNode.hintDialogComp.show())},onRemoveBlacklistClickCallback:function(t){this.data&&(this.loadDialogNode.loadDialogComp.show(),network.removeChatBlacklist(this.data.id))},onTraceClickCallback:function(t){this.data&&(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u8ffd\u8e2a\u9700\u8981\u6d88\u80171\u4e2a\u8ffd\u8e2a\u4ee4\uff0c\u5c06\u76f4\u63a5\u4f20\u9001\u5230\u8be5\u73a9\u5bb6\u6240\u5728\u5730\u56fe\uff0c\u662f\u5426\u4f7f\u7528\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerUseTraceToken()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},onCombatClickCallback:function(t){var i={playerId:this.otherPlayerId};this.launchFragment("PlayerCombat",i)},onMarketClickCallback:function(t){var i={marketId:this.data.market.id};this.launchFragment("MarketDetail",i)},playerUseTraceToken:function(){this.loadDialogNode.loadDialogComp.show();var t=application.getMain();network.sendGameHttpPost("/player/useTraceToken",{playerId:t.playerId,otherPlayerId:this.otherPlayerId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.playerDetailOther()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment",PersonFace:"PersonFace"}],PlayerSearch:[function(t,i,o){"use strict";cc._RF.push(i,"82b5cVLGR5BkIr2XMNC4rbi","PlayerSearch");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{keywordEditBox:cc.EditBox,listNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},onQuitFragmentCallback:function(t,i){},start:function(){},onBackClickCallback:function(t){this.quitFragment()},onSearchClickCallback:function(t){this.mainSearchPlayerList()},initData:function(){if(null!=this.data){for(var t=this.data.playerList,i=0;i<this.listNode.childrenCount;i++){(o=this.listNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.setName(e.name),o.commonItemComp.setInfo(e.gradeName+"\u7ea7"+e.jobName),o.commonItemComp.id=e.id,o.commonItemComp.setOnNameClickCallback(function(t){if(application.getPlayerId()==t.id)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:t.id};this.launchFragment("PlayerOtherDetail",i)}}.bind(this)),o.commonItemComp.setActionEnable(!1),o.parent=this.listNode}}},mainSearchPlayerList:function(){this.loadDialogNode.loadDialogComp.show();var t=this.keywordEditBox.string;network.sendGameHttpPost("/main/searchPlayerList",{keyword:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],PlayerSkillDetail:[function(t,i,o){"use strict";cc._RF.push(i,"5786dFjwK1BD7gMj6hPCgBH","PlayerSkillDetail");var e=t("Fragment");cc.Class({extends:e,properties:{nameLabel:cc.Label,gradeNameLabel:cc.Label,masteryLabel:cc.Label,skillExpendMpLabel:cc.Label,skillEffectLabel:cc.Label,skillBookLabel:cc.Label},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerSkillId=this.getLaunchData().playerSkillId,this.playerSkillDetail()},initData:function(){if(null!=this.data){var t=this.data;this.nameLabel.string=t.skillName,this.gradeNameLabel.string=t.skillGradeAlias+"",this.masteryLabel.string=t.mastery+"",this.skillExpendMpLabel.string=t.skillExpendMp+"",this.skillEffectLabel.string="    "+t.skillEffectS,this.playerGoodsId=t.playerGoodsId,this.skillBookLabel.string="\u60a8\u5f53\u524d\u6709"+t.playerGoodsNumber+"\u672c"+t.playerGoodsName}},onBackClickCallback:function(t){this.quitFragment()},onUseSkillBookClickCallback:function(t,i){this.playerUseSkillBook(i)},playerSkillDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/skillDetail",{playerId:application.getPlayerId(),playerSkillId:this.playerSkillId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerUseSkillBook:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/useSkillBook",{playerSkillId:this.playerSkillId,playerGoodsId:this.playerGoodsId,type:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerSkillDetail()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],PlayerSkillList:[function(t,i,o){"use strict";cc._RF.push(i,"f213eSiGvRGhoh1CQXPpPRC","PlayerSkillList");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{playerSkillListNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerSkillList()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){if(null!=this.data){for(var t=this.data.playerSkillList,i=0;i<this.playerSkillListNode.childrenCount;i++){(o=this.playerSkillListNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.id=e.id,o.commonItemComp.skillId=e.skillId,o.commonItemComp.setName(e.skillName),o.commonItemComp.setInfo(e.skillGradeAlias),o.commonItemComp.setOnNameClickCallback(function(t){var i={skillId:t.skillId};this.launchFragment("SkillDetail",i)}.bind(this)),o.commonItemComp.setAction("\u6548\u679c"),o.commonItemComp.setOnActionClickCallback(function(t){var i={playerSkillId:t.id};this.launchFragment("PlayerSkillDetail",i)}.bind(this)),o.parent=this.playerSkillListNode}}},playerSkillList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/skillList",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],PlayerStateChange:[function(t,i,o){"use strict";cc._RF.push(i,"6124fj2pWdNx4TPHt+Iy4Sx","PlayerStateChange");var e=t("Fragment");cc.Class({extends:e,properties:{needGoldLabel:cc.Label},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.initData()},initData:function(){var t=application.getMain();this.needGoldLabel.string="\u8f6c\u56fd\u9700\u8981"+88*t.gradeName+"\u91d1\u7816"},onStateChangeClickCallback:function(t,i){application.getMain().state==i?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u7684\u56fd\u5bb6\u5df2\u662f"+i+"\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u786e\u5b9a\u8f6c\u56fd\u6210"+i+"\u5417\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerStateChange(i)}.bind(this)),this.hintDialogNode.hintDialogComp.show())},onBackClickCallback:function(t){this.quitFragment()},playerStateChange:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/stateChange",{playerId:application.getPlayerId(),state:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],PlayerTaskDetail:[function(t,i,o){"use strict";cc._RF.push(i,"31971Z2aKFFvoLMjB6dCJEK","PlayerTaskDetail");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{titleLabel:cc.Label,typeLabel:cc.Label,descriptionLabel:cc.Label,regionNameLabel:cc.Label,monsterNode:cc.Node,monsterListNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.taskFlowId=this.getLaunchData().taskFlowId,this.taskType=this.getLaunchData().taskType,this.playerTaskDetail()},initData:function(){if(null!=this.data){var t=this.data;if(this.titleLabel.string=t.title,this.typeLabel.string=t.type,this.descriptionLabel.string="\u3000\u3000"+t.description,this.regionNameLabel.string=t.regionName,this.data.monsterGroupList){this.monsterNode.active=!0;for(var i=this.data.monsterGroupList,o=0;o<i.length;o++){var e=i[o],n=cc.instantiate(this.commonItemPrefab);n.commonItemComp=n.getComponent(a),n.commonItemComp.id=e.id,n.commonItemComp.regionId=e.regionId,n.commonItemComp.setName(e.name),n.commonItemComp.setInfo(e.regionName),n.commonItemComp.setAction("\u524d\u5f80"),n.commonItemComp.setOnNameClickCallback(function(t){var i={playerId:application.getPlayerId(),monsterGroupId:t.id,monsterGroupType:"monsterGroup"};this.launchFragment("MonsterGroup",i)}.bind(this)),n.commonItemComp.setOnActionClickCallback(function(t){this.move(t.regionId)}.bind(this)),n.parent=this.monsterListNode}}else this.monsterNode.active=!1}},onBackClickCallback:function(t){this.quitFragment()},onMoveClickCallback:function(t){this.data&&this.data.regionId&&this.move(this.data.regionId)},playerTaskDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/taskDetail",{playerId:application.getPlayerId(),taskFlowId:this.taskFlowId,taskType:this.taskType},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},move:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main/move",{playerId:application.getPlayerId(),regionId:t},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.quitFragment(!0)}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],PlayerTask:[function(t,i,o){"use strict";cc._RF.push(i,"16d750oNNRIP5Z05CJ4pl5E","PlayerTask");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{listNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerTaskList()},onQuitFragmentCallback:function(t,i){"PlayerTaskDetail"==t&&i&&this.quitFragment(!0)},onBackClickCallback:function(t){this.quitFragment()},initData:function(){if(null!=this.data){for(var t=this.data.taskList,i=0;i<this.listNode.childrenCount;i++){(o=this.listNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.id=e.id,o.commonItemComp.taskFlowId=e.taskFlowId,o.commonItemComp.taskType=e.taskType,o.commonItemComp.setName(e.title),o.commonItemComp.setInfo(e.type),o.commonItemComp.setOnNameClickCallback(function(t){var i={taskFlowId:t.taskFlowId,taskType:t.taskType};this.launchFragment("PlayerTaskDetail",i)}.bind(this)),o.commonItemComp.setActionEnable(!1),o.parent=this.listNode}}},playerTaskList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/taskList",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],Plaza:[function(t,i,o){"use strict";cc._RF.push(i,"e4b63SwhRxGB5g8vOdX8m5l","Plaza");var e=t("Fragment");cc.Class({extends:e,properties:{},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy()},start:function(){},onBackClickCallback:function(t){this.quitFragment()},onRecreationClickCallback:function(t){application.getMain().gradeName<10?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u7684\u7b49\u7ea7\u4e0d\u591f10\u7ea7\uff0c\u65e0\u6cd5\u8fdb\u5165\u5a31\u4e50\u573a\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):this.launchFragment("Recreation")},onSwornClickCallback:function(t){this.launchFragment("Sworn")},onMarketClickCallback:function(t){this.launchFragment("Market")},onTempleClickCallback:function(t){this.launchFragment("Temple")}}),cc._RF.pop()},{Fragment:"Fragment"}],Rank:[function(t,i,o){"use strict";cc._RF.push(i,"13aebTpzuNDYqo40+uYUCxD","Rank");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{gradeButton:cc.Button,goldButton:cc.Button,silverButton:cc.Button,danButton:cc.Button,listNode:cc.Node,commonItemPrefab:cc.Prefab,selfLabel:cc.Label},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},onQuitFragmentCallback:function(t){},start:function(){this.onClassifyClickCallback(null,"grade")},onBackClickCallback:function(t){this.quitFragment()},initData:function(){var t=this.data;if(null!=t){var i="";"grade"==this.classify&&(i="\u60a8\u76ee\u524d\u7b49\u7ea7"+t.playerGradeName+"\u7ea7"),"gold"==this.classify&&(i="\u60a8\u76ee\u524d\u6709"+t.playerGold+"\u91d1\u7816"),"silver"==this.classify&&(i="\u60a8\u76ee\u524d\u6709"+t.playerSilver+"\u94f6\u4e24"),"dan"==this.classify&&(i="\u60a8\u76ee\u524d\u6392\u4f4d"+t.playerDanScore+"\u5206"),t.playerRank?i+="\uff0c\u76ee\u524d\u6392\u5728"+t.playerRank+"\u4f4d":i+="\uff0c\u76ee\u524d\u6ca1\u5728\u6392\u884c\u699c\u4e2d",this.selfLabel.string=i;for(var o=t.playerList,e=0;e<this.listNode.childrenCount;e++){this.listNode.children[e].destroy()}for(e=0;e<o.length;e++){var n=o[e],s=cc.instantiate(this.commonItemPrefab);s.commonItemComp=s.getComponent(a),s.commonItemComp.id=n.id,s.commonItemComp.setName(n.name),"grade"==this.classify&&s.commonItemComp.setInfo(n.gradeName+"\u7ea7"+n.jobName),"gold"==this.classify&&s.commonItemComp.setInfo(n.gold+"\u91d1\u7816"),"silver"==this.classify&&s.commonItemComp.setInfo(n.silver+"\u94f6\u4e24"),"dan"==this.classify&&s.commonItemComp.setInfo(n.danScore+"\u5206"),s.commonItemComp.setActionEnable(!1),s.commonItemComp.setOnNameClickCallback(function(t){if(application.getPlayerId()==t.id)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:t.id};this.launchFragment("PlayerOtherDetail",i)}}.bind(this)),s.parent=this.listNode}}},onClassifyClickCallback:function(t,i){this.classify=i,"grade"==this.classify&&(this.gradeButton.interactable=!1,this.goldButton.interactable=!0,this.silverButton.interactable=!0,this.danButton.interactable=!0),"gold"==this.classify&&(this.gradeButton.interactable=!0,this.goldButton.interactable=!1,this.silverButton.interactable=!0,this.danButton.interactable=!0),"silver"==this.classify&&(this.gradeButton.interactable=!0,this.goldButton.interactable=!0,this.silverButton.interactable=!1,this.danButton.interactable=!0),"dan"==this.classify&&(this.gradeButton.interactable=!0,this.goldButton.interactable=!0,this.silverButton.interactable=!0,this.danButton.interactable=!1),this.mainRank()},mainRank:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main/rank",{playerId:application.getPlayerId(),classify:this.classify},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],RecreationDiceBet:[function(t,i,o){"use strict";cc._RF.push(i,"3b643QVRGBEb4amioy11H5I","RecreationDiceBet");var e=t("Fragment");cc.Class({extends:e,properties:{titleLabel:cc.Label,betXiaoLabel:cc.Label,betDaLabel:cc.Label,betDanLabel:cc.Label,betShuangLabel:cc.Label,betBaoLabel:cc.Label,moneyLabel:cc.Label,betTypeLabel:cc.Label,betNumberLabel:cc.EditBox},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.recreationDiceId=this.getLaunchData().recreationDiceId,this.betType=this.getLaunchData().betType,this.moneyType=this.getLaunchData().moneyType,this.titleLabel.string=this.recreationDiceId+"\u671f";var t="\u8bf7\u8f93\u5165\u538b";"xiao"==this.betType&&(t+="\u5c0f"),"da"==this.betType&&(t+="\u5927"),"dan"==this.betType&&(t+="\u5355"),"shuang"==this.betType&&(t+="\u53cc"),"bao"==this.betType&&(t+="\u66b4\u51fb"),t+="\u7684","gold"==this.moneyType?t+="\u91d1\u7816":t+="\u94f6\u4e24",this.betTypeLabel.string=t,"gold"==this.moneyType?this.betNumberLabel.string="10":this.betNumberLabel.string="1000",this.recreationDiceBetPrepare()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){var t=this.data;if(t){this.betXiaoLabel.string="\u60a8\u731c\u5c0f"+t.xiaoGold+"\u91d1\u7816"+t.xiaoSilver+"\u94f6\u4e24",this.betDaLabel.string="\u60a8\u731c\u5927"+t.daGold+"\u91d1\u7816"+t.daSilver+"\u94f6\u4e24",this.betDanLabel.string="\u60a8\u731c\u5355"+t.danGold+"\u91d1\u7816"+t.danSilver+"\u94f6\u4e24",this.betShuangLabel.string="\u60a8\u731c\u53cc"+t.shuangGold+"\u91d1\u7816"+t.shuangSilver+"\u94f6\u4e24",this.betBaoLabel.string="\u60a8\u731c\u66b4\u51fb"+t.baoGold+"\u91d1\u7816"+t.baoSilver+"\u94f6\u4e24";var i=application.getMain();this.moneyLabel.string="\u60a8\u62e5\u6709"+i.playerGold+"\u91d1\u7816"+i.playerSilver+"\u94f6\u4e24"}},onMainChange:function(){var t=application.getMain();this.moneyLabel.string="\u60a8\u62e5\u6709"+t.playerGold+"\u91d1\u7816"+t.playerSilver+"\u94f6\u4e24"},onBuyClickCallback:function(t){var i=this.betNumberLabel.string;util.isNumber(i)?this.recreationDiceBet(i):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u4e0b\u6ce8\u6570\u91cf\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},recreationDiceBetPrepare:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/recreation/diceBetPrepare",{playerId:application.getPlayerId(),recreationDiceId:this.recreationDiceId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.quitFragment()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},recreationDiceBet:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/recreation/diceBet",{recreationDiceId:this.recreationDiceId,playerId:application.getPlayerId(),betType:this.betType,moneyType:this.moneyType,betNumber:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.recreationDiceBetPrepare()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],RecreationDiceHistoryItem:[function(t,i,o){"use strict";cc._RF.push(i,"45531Uz4OBM+ptAXDwMERQr","RecreationDiceHistoryItem"),cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label},start:function(){},load:function(t){this.nameLabel.string=t.winS}}),cc._RF.pop()},{}],RecreationDiceHistory:[function(t,i,o){"use strict";cc._RF.push(i,"fc69az3U4VED6DZz+rCQ8th","RecreationDiceHistory");var e=t("Fragment"),a=t("RecreationDiceHistoryItem");cc.Class({extends:e,properties:{titleLable:cc.Label,playerListNode:cc.Node,itemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.recreationDiceHistory()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){if(null!=this.data){for(var t=this.data.recreationDiceList,i=0;i<this.playerListNode.childrenCount;i++){(o=this.playerListNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.itemPrefab)).itemComp=o.getComponent(a),o.itemComp.load(e),o.parent=this.playerListNode}}},recreationDiceHistory:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/recreation/diceHistory",{},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment",RecreationDiceHistoryItem:"RecreationDiceHistoryItem"}],RecreationDiceWinItem:[function(t,i,o){"use strict";cc._RF.push(i,"dc3afW6E+pAvJo9bHQ4e2J2","RecreationDiceWinItem"),cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label,winMoneyLabel:cc.Label},start:function(){},load:function(t){this.id=t.id,this.nameLabel.string=t.name,this.winMoneyLabel.string=this.placeholder(t.name)+"\u8d62"+t.winGold+"\u91d1\u7816"+t.winSilver+"\u94f6\u4e24"},setOnNameClickCallback:function(t){this.nameClickCallback=t},onNameClickCallback:function(t){null!=this.nameClickCallback&&this.nameClickCallback(this)},placeholder:function(t){for(var i=t.length,o="\u3000",e=0;e<i;e++)o+="\u3000";return o}}),cc._RF.pop()},{}],RecreationDiceWin:[function(t,i,o){"use strict";cc._RF.push(i,"843ceKJ9XFOxbocrRWg0gXt","RecreationDiceWin");var e=t("Fragment"),a=t("RecreationDiceWinItem");cc.Class({extends:e,properties:{titleLable:cc.Label,playerListNode:cc.Node,recreationDiceWinItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.recreationDiceId=this.getLaunchData().recreationDiceId,this.recreationDiceWin()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){if(null!=this.data){for(var t=this.data.playerList,i=0;i<this.playerListNode.childrenCount;i++){(o=this.playerListNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.recreationDiceWinItemPrefab)).recreationDiceWinItemComp=o.getComponent(a),o.recreationDiceWinItemComp.load(e),o.recreationDiceWinItemComp.id=e.id,o.recreationDiceWinItemComp.setOnNameClickCallback(function(t){if(application.getPlayerId()==t.id)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:t.id};this.launchFragment("PlayerOtherDetail",i)}}.bind(this)),o.parent=this.playerListNode}}},recreationDiceWin:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/recreation/diceWin",{recreationDiceId:this.recreationDiceId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment",RecreationDiceWinItem:"RecreationDiceWinItem"}],RecreationDice:[function(t,i,o){"use strict";cc._RF.push(i,"65c56H8AVdMgbPyIiOvf0Ph","RecreationDice");var e=t("Fragment");t("CommonItem");cc.Class({extends:e,properties:{residueTimeLabel:cc.Label,betXiaoLabel:cc.Label,betDaLabel:cc.Label,betDanLabel:cc.Label,betShuangLabel:cc.Label,betBaoLabel:cc.Label,lastDiceSLabel:cc.Label,lastDiceWinSLabel:cc.Label},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.recreationDiceDetail()},onQuitFragmentCallback:function(t){"RecreationDiceBet"==t&&this.recreationDiceDetail()},onBackClickCallback:function(t){this.quitFragment()},onRefreshClickCallback:function(t){this.recreationDiceDetail()},onBetClickCallback:function(t,i){var o=i.split(","),e={recreationDiceId:this.data.recreationDiceId,betType:o[0],moneyType:o[1]};this.launchFragment("RecreationDiceBet",e)},onWinClickCallback:function(t){var i={recreationDiceId:this.data.lastRecreationDiceId};this.launchFragment("RecreationDiceWin",i)},onHistoryClickCallback:function(t){this.launchFragment("RecreationDiceHistory")},initData:function(){var t=this.data;t&&(this.betXiaoLabel.string="\u76ee\u524d\u731c\u5c0f"+t.allXiaoGold+"\u91d1\u7816"+t.allXiaoSilver+"\u94f6\u4e24",this.betDaLabel.string="\u76ee\u524d\u731c\u5927"+t.allDaGold+"\u91d1\u7816"+t.allDaSilver+"\u94f6\u4e24",this.betDanLabel.string="\u76ee\u524d\u731c\u5355"+t.allDanGold+"\u91d1\u7816"+t.allDanSilver+"\u94f6\u4e24",this.betShuangLabel.string="\u76ee\u524d\u731c\u53cc"+t.allShuangGold+"\u91d1\u7816"+t.allShuangSilver+"\u94f6\u4e24",this.betBaoLabel.string="\u76ee\u524d\u731c\u66b4\u51fb"+t.allBaoGold+"\u91d1\u7816"+t.allBaoSilver+"\u94f6\u4e24",this.lastDiceSLabel.string=t.lastDiceS,this.lastDiceWinSLabel.string="\u3000\u3000\u3000\u3000"+t.lastDiceWinS,null!=this.residueTimeCallback&&this.unschedule(this.residueTimeCallback),this.residueTime=t.residueTime,this.residueTime<30?this.residueTimeLabel.string="\u6b64\u671f\u9a6c\u4e0a\u5f00\u76d8\u4e86\uff0c\u5df2\u5c01\u76d8\uff01":this.residueTimeLabel.string="\u6b64\u671f("+this.data.recreationDiceId+")\u4f59"+util.formatSeconds(this.residueTime)+"\u5f00\u76d8\uff0c\u4e70\u5b9a\u79bb\u624b\u54af\uff01",this.residueTimeCallback=function(){this.residueTime--,this.residueTime<30?this.residueTimeLabel.string="\u6b64\u671f\u9a6c\u4e0a\u5f00\u76d8\u4e86\uff0c\u5df2\u5c01\u76d8\uff01":this.residueTimeLabel.string="\u6b64\u671f("+this.data.recreationDiceId+")\u4f59"+util.formatSeconds(this.residueTime)+"\u5f00\u76d8\uff0c\u4e70\u5b9a\u79bb\u624b\u54af\uff01"},this.schedule(this.residueTimeCallback,1))},recreationDiceDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/recreation/diceDetail",{},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],RecreationSgBet:[function(t,i,o){"use strict";cc._RF.push(i,"a92339gldtAP6uiNX9T9KwV","RecreationSgBet");var e=t("Fragment");cc.Class({extends:e,properties:{titleLabel:cc.Label,betWeiLabel:cc.Label,betWuLabel:cc.Label,betShuLabel:cc.Label,moneyLabel:cc.Label,betTypeLabel:cc.Label,betNumberLabel:cc.EditBox},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.recreationSgId=this.getLaunchData().recreationSgId,this.betType=this.getLaunchData().betType,this.moneyType=this.getLaunchData().moneyType,this.titleLabel.string=this.recreationSgId+"\u671f";var t="\u8bf7\u8f93\u5165\u589e\u63f4";"wei"==this.betType&&(t+="\u9b4f"),"shu"==this.betType&&(t+="\u8700"),"wu"==this.betType&&(t+="\u5434"),t+="\u7684","gold"==this.moneyType?t+="\u91d1\u7816":t+="\u94f6\u4e24",this.betTypeLabel.string=t,"gold"==this.moneyType?this.betNumberLabel.string="10":this.betNumberLabel.string="1000",this.recreationSgBetPrepare()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){var t=this.data;if(t){this.betWeiLabel.string="\u60a8\u589e\u63f4\u9b4f\u519b"+t.weiGold+"\u91d1\u7816"+t.weiSilver+"\u94f6\u4e24",this.betShuLabel.string="\u60a8\u589e\u63f4\u8700\u519b"+t.shuGold+"\u91d1\u7816"+t.shuSilver+"\u94f6\u4e24",this.betWuLabel.string="\u60a8\u589e\u63f4\u5434\u519b"+t.wuGold+"\u91d1\u7816"+t.wuSilver+"\u94f6\u4e24";var i=application.getMain();this.moneyLabel.string="\u60a8\u62e5\u6709"+i.playerGold+"\u91d1\u7816"+i.playerSilver+"\u94f6\u4e24"}},onMainChange:function(){var t=application.getMain();this.moneyLabel.string="\u60a8\u62e5\u6709"+t.playerGold+"\u91d1\u7816"+t.playerSilver+"\u94f6\u4e24"},onBuyClickCallback:function(t){var i=this.betNumberLabel.string;util.isNumber(i)?this.recreationSgBet(i):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u4e0b\u6ce8\u6570\u91cf\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},recreationSgBetPrepare:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/recreation/sgBetPrepare",{playerId:application.getPlayerId(),recreationSgId:this.recreationSgId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.quitFragment()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},recreationSgBet:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/recreation/sgBet",{recreationSgId:this.recreationSgId,playerId:application.getPlayerId(),betType:this.betType,moneyType:this.moneyType,betNumber:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.recreationSgBetPrepare()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],RecreationSgHistoryItem:[function(t,i,o){"use strict";cc._RF.push(i,"aa7a6IdjTZKK5XZSITbD2+g","RecreationSgHistoryItem"),cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label},start:function(){},load:function(t){this.nameLabel.string=t.winS}}),cc._RF.pop()},{}],RecreationSgHistory:[function(t,i,o){"use strict";cc._RF.push(i,"49399L5J5tCm4eVapcL1y2z","RecreationSgHistory");var e=t("Fragment"),a=t("RecreationSgHistoryItem");cc.Class({extends:e,properties:{titleLable:cc.Label,playerListNode:cc.Node,itemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.recreationSgHistory()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){if(null!=this.data){for(var t=this.data.recreationSgList,i=0;i<this.playerListNode.childrenCount;i++){(o=this.playerListNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.itemPrefab)).itemComp=o.getComponent(a),o.itemComp.load(e),o.parent=this.playerListNode}}},recreationSgHistory:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/recreation/sgHistory",{},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment",RecreationSgHistoryItem:"RecreationSgHistoryItem"}],RecreationSgWinItem:[function(t,i,o){"use strict";cc._RF.push(i,"71c46Jjx1RA4JPZlZ8l0CWf","RecreationSgWinItem"),cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label,winMoneyLabel:cc.Label},start:function(){},load:function(t){this.id=t.id,this.nameLabel.string=t.name,this.winMoneyLabel.string=this.placeholder(t.name)+"\u8d62"+t.winGold+"\u91d1\u7816"+t.winSilver+"\u94f6\u4e24"},setOnNameClickCallback:function(t){this.nameClickCallback=t},onNameClickCallback:function(t){null!=this.nameClickCallback&&this.nameClickCallback(this)},placeholder:function(t){for(var i=t.length,o="\u3000",e=0;e<i;e++)o+="\u3000";return o}}),cc._RF.pop()},{}],RecreationSgWin:[function(t,i,o){"use strict";cc._RF.push(i,"3ec00Sew7hBp5WhGJXRylzx","RecreationSgWin");var e=t("Fragment"),a=t("RecreationSgWinItem");cc.Class({extends:e,properties:{titleLable:cc.Label,playerListNode:cc.Node,recreationSgWinItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.recreationSgId=this.getLaunchData().recreationSgId,this.recreationSgWin()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){if(null!=this.data){for(var t=this.data.playerList,i=0;i<this.playerListNode.childrenCount;i++){(o=this.playerListNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.recreationSgWinItemPrefab)).recreationSgWinItemComp=o.getComponent(a),o.recreationSgWinItemComp.load(e),o.recreationSgWinItemComp.id=e.id,o.recreationSgWinItemComp.setOnNameClickCallback(function(t){if(application.getPlayerId()==t.id)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:t.id};this.launchFragment("PlayerOtherDetail",i)}}.bind(this)),o.parent=this.playerListNode}}},recreationSgWin:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/recreation/sgWin",{recreationSgId:this.recreationSgId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment",RecreationSgWinItem:"RecreationSgWinItem"}],RecreationSg:[function(t,i,o){"use strict";cc._RF.push(i,"75ea7wIz6NG64Rw1T+1YM7O","RecreationSg");var e=t("Fragment");t("CommonItem");cc.Class({extends:e,properties:{residueTimeLabel:cc.Label,betWeiLabel:cc.Label,betShuLabel:cc.Label,betWuLabel:cc.Label,lastSgLabel:cc.Label,lastSgWinSLabel:cc.Label},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.recreationSgDetail()},onQuitFragmentCallback:function(t){"RecreationSgBet"==t&&this.recreationSgDetail()},onBackClickCallback:function(t){this.quitFragment()},onRefreshClickCallback:function(t){this.recreationSgDetail()},onBetClickCallback:function(t,i){var o=i.split(","),e={recreationSgId:this.data.recreationSgId,betType:o[0],moneyType:o[1]};this.launchFragment("RecreationSgBet",e)},onWinClickCallback:function(t){var i={recreationSgId:this.data.lastRecreationSgId};this.launchFragment("RecreationSgWin",i)},onHistoryClickCallback:function(t){this.launchFragment("RecreationSgHistory")},initData:function(){var t=this.data;t&&(this.betWeiLabel.string="\u9b4f\u519b\u76ee\u524d\u519b\u8d44"+t.allWeiGold+"\u91d1\u7816"+t.allWeiSilver+"\u94f6\u4e24",this.betShuLabel.string="\u8700\u519b\u76ee\u524d\u519b\u8d44"+t.allShuGold+"\u91d1\u7816"+t.allShuSilver+"\u94f6\u4e24",this.betWuLabel.string="\u5434\u519b\u76ee\u524d\u519b\u8d44"+t.allWuGold+"\u91d1\u7816"+t.allWuSilver+"\u94f6\u4e24",this.lastSgLabel.string=t.lastSgS,this.lastSgWinSLabel.string="\u3000\u3000\u3000\u3000"+t.lastSgWinS,null!=this.residueTimeCallback&&this.unschedule(this.residueTimeCallback),this.residueTime=t.residueTime,this.residueTime<30?this.residueTimeLabel.string="\u6218\u6597\u9a6c\u4e0a\u5f00\u59cb\u4e86\uff0c\u5df2\u505c\u6b62\u5f81\u96c6\u7269\u8d44\uff01":this.residueTimeLabel.string="\u6b64\u671f("+this.data.recreationSgId+")\u4f59"+util.formatSeconds(this.residueTime)+"\u5f00\u6218\uff0c\u5f00\u53bb\u4e3a\u559c\u6b22\u7684\u56fd\u5bb6\u589e\u63f4\u519b\u8d44\u5427\uff01",this.residueTimeCallback=function(){this.residueTime--,this.residueTime<30?this.residueTimeLabel.string="\u6218\u6597\u9a6c\u4e0a\u5f00\u59cb\u4e86\uff0c\u5df2\u505c\u6b62\u5f81\u96c6\u7269\u8d44\uff01":this.residueTimeLabel.string="\u6b64\u671f("+this.data.recreationSgId+")\u4f59"+util.formatSeconds(this.residueTime)+"\u5f00\u6218\uff0c\u5f00\u53bb\u4e3a\u559c\u6b22\u7684\u56fd\u5bb6\u589e\u63f4\u519b\u8d44\u5427\uff01"},this.schedule(this.residueTimeCallback,1))},recreationSgDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/recreation/sgDetail",{},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],Recreation:[function(t,i,o){"use strict";cc._RF.push(i,"5f400dXsrlA+5tHFsN1gpyb","Recreation");var e=t("Fragment");cc.Class({extends:e,properties:{},onDiceClickCallback:function(t){this.launchFragment("RecreationDice")},onSGClickCallback:function(t){this.launchFragment("RecreationSg")},onBackClickCallback:function(t){this.quitFragment()},onNetowrkMessage:function(t){}}),cc._RF.pop()},{Fragment:"Fragment"}],RegionList:[function(t,i,o){"use strict";cc._RF.push(i,"3af43cgZK1ECY6pYSNuz26E","RegionList");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{listNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.countyId=this.getLaunchData().countyId,this.countyDetail()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){if(null!=this.data)for(var t=this.data.regionList,i=0;i<t.length;i++){var o=t[i],e=cc.instantiate(this.commonItemPrefab);e.commonItemComp=e.getComponent(a),e.commonItemComp.id=o.id,e.commonItemComp.name=o.name,e.commonItemComp.setName(o.name),e.commonItemComp.setInfo(""),e.commonItemComp.setAction("\u524d\u5f80"),e.commonItemComp.setOnActionClickCallback(function(t){this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.id=t.id,this.hintDialogNode.hintDialogComp.setContent("\u60a8\u786e\u5b9a\u8981\u514d\u8d39\u4f20\u9001\u5230"+t.name+"\u5417\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.move(t.id)}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this)),e.parent=this.listNode}},countyDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/county/detail",{playerId:application.getPlayerId(),countyId:this.countyId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},move:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main/move",{playerId:application.getPlayerId(),regionId:t},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.quitFragment(!0)}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],RobTreasure:[function(t,i,o){"use strict";cc._RF.push(i,"83779L2mZJGE6D2JOa2qMGF","RobTreasure");var e=t("Fragment");cc.Class({extends:e,properties:{robHintLabel:cc.Label,robSHintLabel:cc.Label,robAwardLabel:cc.Label,robCountLabel:cc.Label},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.robTreasurePrepare()},onQuitFragmentCallback:function(t,i){"Combat"==t&&(i?network.getLastCombat():this.robTreasurePrepare())},onBackClickCallback:function(t){this.quitFragment()},initData:function(){var t=this.data;null!=t&&(this.robAwardLabel.string=t.robAwardHint,this.robHintLabel.string=t.robHint,this.robSHintLabel.string=t.robAwardSHint,this.robCountLabel.string=t.robCount+"\u6b21")},robTreasurePrepare:function(){this.loadDialogNode.loadDialogComp.show();var t=application.getMain();network.sendGameHttpPost("/player/robTreasurePrepare",{playerId:t.playerId,gradeName:t.gradeName},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},onCombatContestRobClickCallback:function(t){if(application.getMain().gradeName<10)return this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u7684\u7b49\u7ea7\u4e0d\u591f10\u7ea7\uff0c\u65e0\u6cd5\u53c2\u52a0\u62a2\u5b9d\u6d3b\u52a8\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),void this.hintDialogNode.hintDialogComp.show();this.loadDialogNode.loadDialogComp.show(),network.combatContestRob(this.data.robTreasureId)},onCreateRobTreasureBossClickCallback:function(t){if(application.getMain().gradeName<10)return this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u7684\u7b49\u7ea7\u4e0d\u591f10\u7ea7\uff0c\u65e0\u6cd5\u53c2\u52a0\u62a2\u5b9d\u6d3b\u52a8\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),void this.hintDialogNode.hintDialogComp.show();this.loadDialogNode.loadDialogComp.show(),network.createRobTreasureBoss()},onWsMessage:function(t){"combatContestRob"==t.action&&(this.loadDialogNode.loadDialogComp.dismiss(),1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setTitle("\u6e29\u99a8\u63d0\u793a"),this.hintDialogNode.hintDialogComp.setContent("\u6b63\u5728\u5339\u914d\u73a9\u5bb6\u8fdb\u884c\u62a2\u5b9d\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\uff0c5\u79d2\u540e\u53ef\u81ea\u884c\u53d6\u6d88\u9080\u8bf7\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonEnable(!0),this.hintDialogNode.hintDialogComp.setRightButtonInteractable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),network.combatContestRobCancel()}.bind(this)),this.hintDialogNode.hintDialogComp.show(),this.hintDialogNode.hintDialogComp.scheduleCallback=function(){this.setRightButtonInteractable(!0)},this.hintDialogNode.hintDialogComp.scheduleOnce(this.hintDialogNode.hintDialogComp.scheduleCallback,5)):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())),"createRobTreasureBoss"==t.action&&(this.loadDialogNode.loadDialogComp.dismiss(),this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()),"combatCreate"==t.action&&(this.loadDialogNode.loadDialogComp.dismiss(),this.hintDialogNode.hintDialogComp.dismiss())}}),cc._RF.pop()},{Fragment:"Fragment"}],SectCombatAwardDetail:[function(t,i,o){"use strict";cc._RF.push(i,"6232dT+/WNMvblX8ZEYIS3r","SectCombatAwardDetail");var e=t("Fragment");t("DanExplainItem");cc.Class({extends:e,properties:{},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){},onBackClickCallback:function(t){this.quitFragment()}}),cc._RF.pop()},{DanExplainItem:"DanExplainItem",Fragment:"Fragment"}],SectCombatPlayDetail:[function(t,i,o){"use strict";cc._RF.push(i,"23084XS0HVAroIBbiFUU5op","SectCombatPlayDetail");var e=t("Fragment");t("DanExplainItem");cc.Class({extends:e,properties:{},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){},onBackClickCallback:function(t){this.quitFragment()}}),cc._RF.pop()},{DanExplainItem:"DanExplainItem",Fragment:"Fragment"}],SectCombatPlayerScoreRank:[function(t,i,o){"use strict";cc._RF.push(i,"22c88c2TbxAVbqY1FBoHf+E","SectCombatPlayerScoreRank");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{titleLable:cc.Label,playerListNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.sectId=this.getLaunchData().sectId,this.sectCombatSectPlayerRank()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){if(null!=this.data){for(var t=this.data.playerList,i=0;i<this.playerListNode.childrenCount;i++){(o=this.playerListNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.id=e.id,o.commonItemComp.setName(e.name),o.commonItemComp.setInfo(e.score+"\u5206"),o.commonItemComp.setActionEnable(!1),o.commonItemComp.setOnNameClickCallback(function(t){if(application.getPlayerId()==t.id)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:t.id};this.launchFragment("PlayerOtherDetail",i)}}.bind(this)),o.parent=this.playerListNode}}},sectCombatSectPlayerRank:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/sect/combatSectPlayerRank",{playerId:application.getPlayerId(),sectId:this.sectId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],SectCombatPrepare:[function(t,i,o){"use strict";cc._RF.push(i,"9ccf22gcmhK3aj9Qb/Y+WXF","SectCombatPrepare");var e=t("Fragment");cc.Class({extends:e,properties:{residueTimeLabel:cc.Label,joinButton:cc.Button,sect1NameLabel:cc.Label,sect2NameLabel:cc.Label,sect3NameLabel:cc.Label},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.sect1NameLabel.buttonComp=this.sect1NameLabel.getComponent("cc.Button"),this.sect1NameLabel.labelOutlineComp=this.sect1NameLabel.getComponent("cc.LabelOutline"),this.sect2NameLabel.buttonComp=this.sect2NameLabel.getComponent("cc.Button"),this.sect2NameLabel.labelOutlineComp=this.sect2NameLabel.getComponent("cc.LabelOutline"),this.sect3NameLabel.buttonComp=this.sect3NameLabel.getComponent("cc.Button"),this.sect3NameLabel.labelOutlineComp=this.sect3NameLabel.getComponent("cc.LabelOutline")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.sectCombatPrepare()},onQuitFragmentCallback:function(t){"SectCombat"==t&&this.sectCombatPrepare()},onBackClickCallback:function(t){this.quitFragment()},onRefreshClickCallback:function(t){this.sectCombatPrepare()},onPlayDetailClickCallback:function(t){this.launchFragment("SectCombatPlayDetail")},onAwardDetailClickCallback:function(t){this.launchFragment("SectCombatAwardDetail")},initData:function(){var t=this.data;t&&(t.sect1?(this.sect1NameLabel.string=t.sect1.name,this.sect1NameLabel.buttonComp.interactable=!0,this.sect1NameLabel.labelOutlineComp.enabled=!0):(this.sect1NameLabel.string="\u3010\u7a7a\u3011",this.sect1NameLabel.buttonComp.interactable=!1,this.sect1NameLabel.labelOutlineComp.enabled=!1),t.sect2?(this.sect2NameLabel.string=t.sect2.name,this.sect2NameLabel.buttonComp.interactable=!0,this.sect2NameLabel.labelOutlineComp.enabled=!0):(this.sect2NameLabel.string="\u3010\u7a7a\u3011",this.sect2NameLabel.buttonComp.interactable=!1,this.sect2NameLabel.labelOutlineComp.enabled=!1),t.sect3?(this.sect3NameLabel.string=t.sect3.name,this.sect3NameLabel.buttonComp.interactable=!0,this.sect3NameLabel.labelOutlineComp.enabled=!0):(this.sect3NameLabel.string="\u3010\u7a7a\u3011",this.sect3NameLabel.buttonComp.interactable=!1,this.sect3NameLabel.labelOutlineComp.enabled=!1),null!=this.residueTimeCallback&&this.unschedule(this.residueTimeCallback),this.residueTime=parseInt((t.openTime-t.currentTime)/1e3),this.residueTime<0?(this.residueTimeLabel.string="\u6b64\u5c4a\u6559\u6d3e\u5927\u6218\u6b63\u5728\u8fdb\u884c\u4e2d\uff0c\u8d76\u5feb\u53bb\u53c2\u52a0\u5427\uff01",this.joinButton.node.active=!0):(this.residueTimeLabel.string="\u8ddd\u79bb\u6b64\u5c4a\u6559\u6d3e\u5927\u6218\u5f00\u59cb\u8fd8\u6709"+util.formatSeconds(this.residueTime)+"\uff01",this.joinButton.node.active=!1),this.residueTimeCallback=function(){this.residueTime--,this.residueTime<0?(this.residueTimeLabel.string="\u6b64\u5c4a\u6559\u6d3e\u5927\u6218\u6b63\u5728\u8fdb\u884c\u4e2d\uff0c\u8d76\u5feb\u53bb\u53c2\u52a0\u5427\uff01",this.joinButton.node.active=!0):(this.residueTimeLabel.string="\u8ddd\u79bb\u6b64\u5c4a\u6559\u6d3e\u5927\u6218\u5f00\u59cb\u8fd8\u6709"+util.formatSeconds(this.residueTime)+"\uff01",this.joinButton.node.active=!1),this.residueTime<-3600&&(this.unschedule(this.residueTimeCallback),this.sectCombatPrepare())},this.schedule(this.residueTimeCallback,1))},sectCombatPrepare:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/sect/combatPrepare",{},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},onSectCombatClickCallback:function(){var t=application.getMain();return t.sectId?t.gradeName<15?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u7684\u7b49\u7ea7\u4e0d\u591f15\u7ea7\uff0c\u65e0\u6cd5\u53c2\u52a0\u6559\u6d3e\u5927\u6218\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),void this.hintDialogNode.hintDialogComp.show()):void this.launchFragment("SectCombat"):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u672a\u52a0\u5165\u6559\u6d3e\uff0c\u65e0\u6cd5\u53c2\u52a0\u6559\u6d3e\u5927\u6218\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),void this.hintDialogNode.hintDialogComp.show())},onSect1ClickCallback:function(t){if(this.data.sect1){var i={sectId:this.data.sect1.id};this.launchFragment("SectDetail",i)}},onSect2ClickCallback:function(t){if(this.data.sect2){var i={sectId:this.data.sect2.id};this.launchFragment("SectDetail",i)}},onSect3ClickCallback:function(t){if(this.data.sect3){var i={sectId:this.data.sect3.id};this.launchFragment("SectDetail",i)}}}),cc._RF.pop()},{Fragment:"Fragment"}],SectCombatScoreRank:[function(t,i,o){"use strict";cc._RF.push(i,"a8449BVAfROc4bMQcjxX486","SectCombatScoreRank");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{titleLable:cc.Label,playerListNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.sectCombatSectRank()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){if(null!=this.data){for(var t=this.data.sectList,i=0;i<this.playerListNode.childrenCount;i++){(o=this.playerListNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.id=e.id,o.commonItemComp.setName(e.name),o.commonItemComp.setInfo(e.score+"\u5206"),o.commonItemComp.setActionEnable(!1),o.commonItemComp.setOnNameClickCallback(function(t){var i={sectId:t.id};this.launchFragment("SectDetail",i)}.bind(this)),o.parent=this.playerListNode}}},sectCombatSectRank:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/sect/combatSectRank",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],SectCombat:[function(t,i,o){"use strict";cc._RF.push(i,"b93159JVB1ObLyF88AXvFVB","SectCombat");var e=t("Fragment");cc.Class({extends:e,properties:{residueTimeLabel:cc.Label,sectNameLabel:cc.Label,sectScoreLabel:cc.Label,myScoreLabel:cc.Label},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.sectCombat()},onQuitFragmentCallback:function(t,i){"Combat"==t&&(i?network.getLastCombat():this.sectCombat())},onBackClickCallback:function(t){this.quitFragment()},onRefreshClickCallback:function(t){this.sectCombat()},initData:function(){var t=this.data;null!=t&&(this.sectNameLabel.string=t.sectName,this.sectScoreLabel.string=t.allScore,this.myScoreLabel.string=t.score,null!=this.residueTimeCallback&&this.unschedule(this.residueTimeCallback),this.residueTime=parseInt((t.endTime-t.currentTime)/1e3),this.residueTime<0?this.residueTimeLabel.string="\u6b64\u5c4a\u6559\u6d3e\u5927\u6218\u5df2\u7ed3\u675f\uff01":this.residueTimeLabel.string="\u8ddd\u79bb\u6b64\u5c4a\u6559\u6d3e\u5927\u6218\u7ed3\u675f\u8fd8\u6709"+util.formatSeconds(this.residueTime)+"\uff01",this.residueTimeCallback=function(){this.residueTime--,this.residueTime<0?this.residueTimeLabel.string="\u6b64\u5c4a\u6559\u6d3e\u5927\u6218\u5df2\u7ed3\u675f\uff01":this.residueTimeLabel.string="\u8ddd\u79bb\u6b64\u5c4a\u6559\u6d3e\u5927\u6218\u7ed3\u675f\u8fd8\u6709"+util.formatSeconds(this.residueTime)+"\uff01"},this.schedule(this.residueTimeCallback,1))},onSectScoreRankClickCallback:function(t){this.launchFragment("SectCombatScoreRank")},onSectPlayerScoreRankClickCallback:function(t){var i=application.getMain();if(i.sectId){var o={sectId:i.sectId};this.launchFragment("SectCombatPlayerScoreRank",o)}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u8bf7\u6c42\u5931\u8d25\uff0c\u4f60\u672a\u52a0\u5165\u6559\u6d3e\uff0c\u8bf7\u5148\u52a0\u5165\u6559\u6d3e\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()},sectCombat:function(){var t=application.getMain();this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/sect/combat",{playerId:t.playerId,sectId:t.sectId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},onCombatContestSectClickCallback:function(t){var i=application.getMain();return i.sectId?i.gradeName<15?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u7684\u7b49\u7ea7\u4e0d\u591f15\u7ea7\uff0c\u65e0\u6cd5\u8fdb\u884c\u6559\u6d3e\u5927\u6218\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),void this.hintDialogNode.hintDialogComp.show()):(this.loadDialogNode.loadDialogComp.show(),void network.combatContestSect()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u8bf7\u6c42\u5931\u8d25\uff0c\u4f60\u672a\u52a0\u5165\u6559\u6d3e\uff0c\u8bf7\u5148\u52a0\u5165\u6559\u6d3e\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),void this.hintDialogNode.hintDialogComp.show())},onWsMessage:function(t){"combatContestSect"==t.action&&(this.loadDialogNode.loadDialogComp.dismiss(),1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setTitle("\u6e29\u99a8\u63d0\u793a"),this.hintDialogNode.hintDialogComp.setContent("\u6b63\u5728\u5339\u914d\u5bf9\u624b\u8fdb\u884c\u8f83\u91cf\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\uff0c5\u79d2\u540e\u53ef\u81ea\u884c\u53d6\u6d88\u9080\u8bf7\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonEnable(!0),this.hintDialogNode.hintDialogComp.setRightButtonInteractable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),network.combatContestSectCancel()}.bind(this)),this.hintDialogNode.hintDialogComp.show(),this.hintDialogNode.hintDialogComp.scheduleCallback=function(){this.setRightButtonInteractable(!0)},this.hintDialogNode.hintDialogComp.scheduleOnce(this.hintDialogNode.hintDialogComp.scheduleCallback,5)):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())),"combatCreate"==t.action&&(this.loadDialogNode.loadDialogComp.dismiss(),this.hintDialogNode.hintDialogComp.dismiss())}}),cc._RF.pop()},{Fragment:"Fragment"}],SectContribute:[function(t,i,o){"use strict";cc._RF.push(i,"ea655DglGFCirb0g30PZmCA","SectContribute");var e=t("Fragment");cc.Class({extends:e,properties:{contributeLabel:cc.Label,silverLabel:cc.Label,haveSilverLabel:cc.Label,silverEditbox:cc.EditBox},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.sectContributePrepare()},initData:function(){var t=this.data;null!=t&&(this.contributeLabel.string=t.contribute,this.silverLabel.string=t.silver+"\u94f6\u4e24",this.haveSilverLabel.string="\u60a8\u62e5\u6709"+t.haveSilver+"\u94f6\u4e24")},onBackClickCallback:function(t){this.quitFragment()},onContributeClickCallback:function(t){var i=this.silverEditbox.string;util.isNumber(i)?this.sectContribute(i):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u8d21\u732e\u94f6\u4e24\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},sectContributePrepare:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/sect/contributePrepare",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},sectContribute:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/sect/contribute",{playerId:application.getPlayerId(),silver:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.sectContributePrepare()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],SectCreate:[function(t,i,o){"use strict";cc._RF.push(i,"64e1a3Mf2VIG4E2Dz5w+Bna","SectCreate");var e=t("Fragment");cc.Class({extends:e,properties:{nameEditBox:cc.EditBox,codeEditBox:cc.EditBox,tenetEditBox:cc.EditBox},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},onQuitFragmentCallback:function(t,i){},onBackClickCallback:function(t){this.quitFragment()},onCreateClickCallback:function(t){this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u662f\u5426\u786e\u5b9a\u521b\u5efa\u6559\u6d3e\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.sectCreateVerify()}.bind(this)),this.hintDialogNode.hintDialogComp.show()},sectCreateVerify:function(){var t=this.nameEditBox.string;if(util.isChinese(t)&&t.length>0&&t.length<3){var i=this.codeEditBox.string;if(util.isNumber(i)&&i>0&&i<11){var o="";1==i&&(o="\u6d3e"),2==i&&(o="\u6559"),3==i&&(o="\u4f1a"),4==i&&(o="\u5e2e"),5==i&&(o="\u697c"),6==i&&(o="\u9601"),7==i&&(o="\u519b"),8==i&&(o="\u7ec4"),9==i&&(o="\u793e"),10==i&&(o="\u65cf");var e=this.tenetEditBox.string;this.sectCreate(t+o,e)}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u6559\u6d3e\u7c7b\u578b\u4ee3\u53f7\u8f93\u5165\u4e0d\u5408\u6cd5\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u6559\u6d3e\u540d\u79f0\u8f93\u5165\u4e0d\u5408\u6cd5\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()},sectCreate:function(t,i){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/sect/create",{playerId:application.getPlayerId(),name:t,tenet:i},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.quitFragment(!0)}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],SectDetailMy:[function(t,i,o){"use strict";cc._RF.push(i,"b8499GKc6NNPoVPARxZz0El","SectDetailMy");var e=t("Fragment");cc.Class({extends:e,properties:{sectNameLabel:cc.Label,sectTenetLabel:cc.Label,boss1NameLabel:cc.Label,boss2NameLabel:cc.Label,boss3NameLabel:cc.Label,sectSilverLabel:cc.Label,playerCountLabel:cc.Label,reputationLabel:cc.Label,manageNode:cc.Node,manage1Node:cc.Node,manage2Node:cc.Node,dismissNode:cc.Node,defectNode:cc.Node,contributeLabel:cc.Label,gradeNameLabel:cc.Label,maintainSilverLabel:cc.Label,gradeNameGainLabel:cc.Label},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.boss2NameLabel.buttonComp=this.boss2NameLabel.getComponent("cc.Button"),this.boss2NameLabel.labelOutlineComp=this.boss2NameLabel.getComponent("cc.LabelOutline"),this.boss3NameLabel.buttonComp=this.boss3NameLabel.getComponent("cc.Button"),this.boss3NameLabel.labelOutlineComp=this.boss3NameLabel.getComponent("cc.LabelOutline")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.sectDetailMy()},onQuitFragmentCallback:function(t,i){"SectManage"==t&&this.sectDetailMy(),"SectManagePlayer"==t&&this.sectDetailMy(),"SectGoodsList"==t&&this.sectDetailMy(),"SectContribute"==t&&this.sectDetailMy()},onBackClickCallback:function(t){this.quitFragment()},onBoss1ClickCallback:function(t){if(this.data.boss1)if(application.getPlayerId()==this.data.boss1.id)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:this.data.boss1.id};this.launchFragment("PlayerOtherDetail",i)}},onBoss2ClickCallback:function(t){if(this.data.boss2)if(application.getPlayerId()==this.data.boss2.id)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:this.data.boss2.id};this.launchFragment("PlayerOtherDetail",i)}},onBoss3ClickCallback:function(t){if(this.data.boss3)if(application.getPlayerId()==this.data.boss3.id)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:this.data.boss3.id};this.launchFragment("PlayerOtherDetail",i)}},onPlayerListClickCallback:function(t){var i={sectId:application.getMain().sectId};this.launchFragment("SectPlayerList",i)},onManageClickCallback:function(t){this.launchFragment("SectManage")},onManagePlayerClickCallback:function(t){var i={sectId:application.getMain().sectId,permission:this.data.permission};this.launchFragment("SectManagePlayer",i)},onGoodsListClickCallback:function(t){this.launchFragment("SectGoodsList")},onContributeClickCallback:function(t){this.launchFragment("SectContribute")},onDefectClickCallback:function(t){this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u662f\u5426\u53db\u9003\u5f53\u524d\u5e2e\u6d3e\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.sectDefect()}.bind(this)),this.hintDialogNode.hintDialogComp.show()},onDismissClickCallback:function(t){this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u662f\u5426\u89e3\u6563\u5f53\u524d\u5e2e\u6d3e\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.sectDismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()},initData:function(){var t=this.data;null!=t&&(this.sectNameLabel.string=t.name,t.tenet?this.sectTenetLabel.string="\u3000\u3000"+t.tenet:this.sectTenetLabel.string="\u3000\u3000\u5e2e\u4e3b\u5f88\u61d2\uff0c\u6559\u4e49\u90fd\u4e0d\u5199\u4e00\u5199...",this.boss1NameLabel.string=t.boss1.name,t.boss2?this.boss2NameLabel.string=t.boss2.name:(this.boss2NameLabel.string="\u3010\u7a7a\u3011",this.boss2NameLabel.buttonComp.interactable=!1,this.boss2NameLabel.labelOutlineComp.enabled=!1),t.boss3?this.boss3NameLabel.string=t.boss3.name:(this.boss3NameLabel.string="\u3010\u7a7a\u3011",this.boss3NameLabel.buttonComp.interactable=!1,this.boss3NameLabel.labelOutlineComp.enabled=!1),this.reputationLabel.string=t.reputation,this.playerCountLabel.string=t.playerCount+"/20",this.sectSilverLabel.string=t.silver+"\u94f6\u4e24",0==t.permission&&(this.manageNode.active=!1),1==t.permission&&(this.manageNode.active=!0,this.manage1Node.active=!0,this.manage2Node.active=!0),2==t.permission&&(this.manageNode.active=!0,this.manage1Node.active=!1,this.manage2Node.active=!0),1==t.permission?(this.dismissNode.active=!0,this.defectNode.active=!1):(this.dismissNode.active=!1,this.defectNode.active=!0),this.contributeLabel.string=t.contribute,this.gradeNameLabel.string=t.gradeName+"\u7ea7",this.maintainSilverLabel.string="\u6559\u6d3e\u6bcf\u5929\u7ef4\u62a4\u5c06\u6d88\u8017"+t.maintainSilver+"\u94f6\u4e24\u5e2e\u6d3e\u8d44\u91d1\uff0c\u8d44\u91d1\u4e0d\u8db3\u65f6\uff0c\u6218\u6597\u63d0\u5347\u6548\u679c\u5c06\u5931\u6548\uff0c\u540c\u65f6\u5168\u5458\u65e0\u6cd5\u5151\u6362\u6559\u6d3e\u5546\u5e97\u7269\u54c1",this.gradeNameGainLabel.string=t.gradeNameGain)},sectDetailMy:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/sect/detailMy",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},sectDefect:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/sect/defect",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss();var i=application.getMain();i.sectId=0,application.setMain(i),network.getHistoryChatSectList(),this.quitFragment(!0)}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},sectDismiss:function(){var t=application.getMain();this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/sect/dismiss",{playerId:application.getPlayerId(),sectId:t.sectId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss();var i=application.getMain();i.sectId=0,application.setMain(i),network.getHistoryChatSectList(),this.quitFragment(!0)}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],SectDetail:[function(t,i,o){"use strict";cc._RF.push(i,"29f3bSzVRNGvLIhtPwIeoNe","SectDetail");var e=t("Fragment");cc.Class({extends:e,properties:{sectNameLabel:cc.Label,sectTenetLabel:cc.Label,boss1NameLabel:cc.Label,boss2NameLabel:cc.Label,boss3NameLabel:cc.Label,playerCountLabel:cc.Label,enterGradeNameLabel:cc.Label,reputationLabel:cc.Label,applyNode:cc.Node,gradeNameLabel:cc.Label},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.boss2NameLabel.buttonComp=this.boss2NameLabel.getComponent("cc.Button"),this.boss2NameLabel.labelOutlineComp=this.boss2NameLabel.getComponent("cc.LabelOutline"),this.boss3NameLabel.buttonComp=this.boss3NameLabel.getComponent("cc.Button"),this.boss3NameLabel.labelOutlineComp=this.boss3NameLabel.getComponent("cc.LabelOutline")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.sectId=this.getLaunchData().sectId,this.sectDetail(),application.getMain().sectId?this.applyNode.active=!1:this.applyNode.active=!0},onQuitFragmentCallback:function(t,i){},onBackClickCallback:function(t){this.quitFragment()},onBoss1ClickCallback:function(t){if(this.data.boss1)if(application.getPlayerId()==this.data.boss1.id)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:this.data.boss1.id};this.launchFragment("PlayerOtherDetail",i)}},onBoss2ClickCallback:function(t){if(this.data.boss2)if(application.getPlayerId()==this.data.boss2.id)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:this.data.boss2.id};this.launchFragment("PlayerOtherDetail",i)}},onBoss3ClickCallback:function(t){if(this.data.boss3)if(application.getPlayerId()==this.data.boss3.id)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:this.data.boss3.id};this.launchFragment("PlayerOtherDetail",i)}},onPlayerListClickCallback:function(t){var i={sectId:this.sectId};this.launchFragment("SectPlayerList",i)},onApplyClickCallback:function(t){this.sectApply()},initData:function(){var t=this.data;null!=t&&(this.sectNameLabel.string=t.name,t.tenet?this.sectTenetLabel.string="\u3000\u3000"+t.tenet:this.sectTenetLabel.string="\u3000\u3000\u5e2e\u4e3b\u5f88\u61d2\uff0c\u6559\u4e49\u90fd\u4e0d\u5199\u4e00\u5199...",this.boss1NameLabel.string=t.boss1.name,t.boss2?(this.boss2NameLabel.string=t.boss2.name,this.boss2NameLabel.buttonComp.interactable=!0,this.boss2NameLabel.labelOutlineComp.enabled=!0):(this.boss2NameLabel.string="\u3010\u7a7a\u3011",this.boss2NameLabel.buttonComp.interactable=!1,this.boss2NameLabel.labelOutlineComp.enabled=!1),t.boss3?(this.boss3NameLabel.string=t.boss3.name,this.boss3NameLabel.buttonComp.interactable=!0,this.boss3NameLabel.labelOutlineComp.enabled=!0):(this.boss3NameLabel.string="\u3010\u7a7a\u3011",this.boss3NameLabel.buttonComp.interactable=!1,this.boss3NameLabel.labelOutlineComp.enabled=!1),this.reputationLabel.string=t.reputation,this.enterGradeNameLabel.string=t.enterGradeName+"\u7ea7",this.playerCountLabel.string=t.playerCount+"/20",this.gradeNameLabel.string=t.gradeName+"\u7ea7")},sectDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/sect/detail",{playerId:application.getPlayerId(),sectId:this.sectId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},sectApply:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/sect/apply",{playerId:application.getPlayerId(),sectId:this.sectId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&t.code,this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],SectGoodsList:[function(t,i,o){"use strict";cc._RF.push(i,"d7dafxVPzBJuLkGYz4EUFwx","SectGoodsList");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{contributeLabel:cc.Label,listNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.sectGoodsList()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){if(this.data){this.contributeLabel.string=this.data.contribute;for(var t=this.data.sectGoodsList,i=0;i<this.listNode.childrenCount;i++){(o=this.listNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.id=e.id,o.commonItemComp.type=e.type,o.commonItemComp.idOfType=e.idOfType,o.commonItemComp.price=e.price,o.commonItemComp.setName(e.name),o.commonItemComp.setInfo(e.price+"\u5e2e\u8d21"),o.commonItemComp.setAction("\u5151\u6362"),o.commonItemComp.setOnNameClickCallback(function(t){if("treasure"==t.type){var i={action:"\u5b9d\u7269\u8be6\u60c5",treasureId:t.idOfType,isShowPrice:!1};this.launchFragment("TreasureDetail",i)}if("adjutant"==t.type){i={adjutantId:t.idOfType};this.launchFragment("AdjutantDetail",i)}}.bind(this)),o.commonItemComp.setOnActionClickCallback(function(t){this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.id=t.id,this.hintDialogNode.hintDialogComp.setContent("\u662f\u5426\u786e\u5b9a\u82b1\u8d39"+t.price+"\u5e2e\u8d21\u5151\u6362\u6b64\u7269\u54c1\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.sectBuy(t.id)}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this)),o.parent=this.listNode}}},sectGoodsList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/sect/goodsList",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},sectBuy:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/sect/buy",{playerId:application.getPlayerId(),sectGoodsId:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.sectGoodsList()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],SectList:[function(t,i,o){"use strict";cc._RF.push(i,"9094cq3CgZGMbVvEh1kbuIq","SectList");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{nameEditBox:cc.EditBox,createSectButton:cc.Button,mySectNameLabel:cc.Label,mySectButton:cc.Button,reputationButton:cc.Button,playerCountButton:cc.Button,listNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},onQuitFragmentCallback:function(t,i){"SectCreate"==t&&i&&this.sectList(),"SectDetailMy"==t&&i&&this.sectList()},start:function(){this.createSectButton.node.active=!1,this.mySectButton.node.active=!1,this.onReputationClickCallback()},onBackClickCallback:function(t){this.quitFragment()},onReputationClickCallback:function(t){this.reputationButton.interactable=!1,this.playerCountButton.interactable=!0,this.orderType="reputation",this.sectList()},onPlayerCountClickCallback:function(t){this.reputationButton.interactable=!0,this.playerCountButton.interactable=!1,this.orderType="playerCount",this.sectList()},onSearchClickCallback:function(t){this.sectList()},onCreateClickCallback:function(t){this.launchFragment("SectCreate")},onMySectClickCallback:function(t){this.launchFragment("SectDetailMy")},initData:function(){var t=this.data;if(t){t.mySect?(this.createSectButton.node.active=!1,this.mySectButton.node.active=!0,this.mySectNameLabel.string=t.mySect.name):(this.createSectButton.node.active=!0,this.mySectButton.node.active=!1);for(var i=0;i<this.listNode.childrenCount;i++){(e=this.listNode.children[i]).destroy()}var o=t.sectList;for(i=0;i<o.length;i++){var e,n=o[i];(e=cc.instantiate(this.commonItemPrefab)).commonItemComp=e.getComponent(a),e.commonItemComp.id=n.id,e.commonItemComp.setName(n.name),"reputation"==this.orderType&&e.commonItemComp.setInfo(n.reputation+"\u58f0\u671b"),"playerCount"==this.orderType&&e.commonItemComp.setInfo(n.playerCount+"\u4eba"),e.commonItemComp.setOnNameClickCallback(function(t){var i={sectId:t.id};this.launchFragment("SectDetail",i)}.bind(this)),t.mySect?e.commonItemComp.setActionEnable(!1):(e.commonItemComp.setActionEnable(!0),e.commonItemComp.setAction("\u52a0\u5165"),e.commonItemComp.setOnActionClickCallback(function(t){this.sectApply(t.id)}.bind(this))),e.parent=this.listNode}}},sectList:function(){this.loadDialogNode.loadDialogComp.show();var t=this.nameEditBox.string;network.sendGameHttpPost("/sect/list",{playerId:application.getPlayerId(),orderType:this.orderType,name:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},sectApply:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/sect/apply",{playerId:application.getPlayerId(),sectId:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&t.code,this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],SectManagePlayer:[function(t,i,o){"use strict";cc._RF.push(i,"c95eaGGhKxE3ZXt1diHXesr","SectManagePlayer");var e=t("Fragment"),a=t("SectPlayerItem"),n=t("SectPlayerApplyItem");cc.Class({extends:e,properties:{playerButton:cc.Button,examineButton:cc.Button,listNode:cc.Node,sectPlayerItemPrefab:cc.Prefab,sectPlayerApplyItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.sectId=this.getLaunchData().sectId,this.permission=this.getLaunchData().permission,this.onPlayerClickCallback()},onBackClickCallback:function(t){this.quitFragment()},onPlayerClickCallback:function(t){this.playerButton.interactable=!1,this.examineButton.interactable=!0,this.type=2,2==this.permission&&(this.type=3),this.sectPlayerList()},onExamineClickCallback:function(t){this.type=4,this.playerButton.interactable=!0,this.examineButton.interactable=!1,this.sectPlayerList()},initData:function(){if(null!=this.data){for(var t=this.data.playerList,i=0;i<this.listNode.childrenCount;i++){(e=this.listNode.children[i]).destroy()}if(4==this.type)for(i=0;i<t.length;i++){var o=t[i];(e=cc.instantiate(this.sectPlayerApplyItemPrefab)).sectPlayerApplyItemComp=e.getComponent(n),e.sectPlayerApplyItemComp.load(o),e.sectPlayerApplyItemComp.setOnNameClickCallback(function(t){if(application.getPlayerId()==t.id)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:t.id};this.launchFragment("PlayerOtherDetail",i)}}.bind(this)),e.sectPlayerApplyItemComp.setOnAction1ClickCallback(function(t){this.sectRatify(t.id)}.bind(this)),e.sectPlayerApplyItemComp.setOnAction2ClickCallback(function(t){this.sectReject(t.id)}.bind(this)),e.parent=this.listNode}else for(i=0;i<t.length;i++){var e;o=t[i];(e=cc.instantiate(this.sectPlayerItemPrefab)).sectPlayerItemComp=e.getComponent(a),e.sectPlayerItemComp.load(o),e.sectPlayerItemComp.setOnNameClickCallback(function(t){if(application.getPlayerId()==t.id)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:t.id};this.launchFragment("PlayerOtherDetail",i)}}.bind(this)),e.sectPlayerItemComp.setAction("\u9010\u51fa"),e.sectPlayerItemComp.setOnActionClickCallback(function(t){this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.id=t.id,this.hintDialogNode.hintDialogComp.setContent("\u662f\u5426\u8981\u5c06\u6b64\u4eba\u9010\u51fa\u5e2e\u6d3e\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.sectExpel(t.id)}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this)),e.parent=this.listNode}}},sectPlayerList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/sect/playerList",{playerId:application.getPlayerId(),sectId:this.sectId,type:this.type},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},sectExpel:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/sect/expel",{playerId:t,sectId:this.sectId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.sectPlayerList()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},sectRatify:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/sect/ratify",{playerId:t,sectId:this.sectId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.sectPlayerList()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},sectReject:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/sect/reject",{playerId:t,sectId:this.sectId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.sectPlayerList()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment",SectPlayerApplyItem:"SectPlayerApplyItem",SectPlayerItem:"SectPlayerItem"}],SectManage:[function(t,i,o){"use strict";cc._RF.push(i,"b49bbNqgmVJpaK2lzx5MKaN","SectManage");var e=t("Fragment");cc.Class({extends:e,properties:{tenetEditBox:cc.EditBox,enterGradeNameEditBox:cc.EditBox,boss2NameLabel:cc.Label,boss3NameLabel:cc.Label,appointBoss2Button:cc.Button,changeBoss2Button:cc.Button,abdicateBoss2Button:cc.Button,appointBoss3Button:cc.Button,changeBoss3Button:cc.Button,abdicateBoss3Button:cc.Button,gradeNameLabel:cc.Label,gradeNameGainLabel:cc.Label,nextGradeNameGainLabel:cc.Label,upGradeNameConditionLabel:cc.Label,upGradeNameButton:cc.Button},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.boss2NameLabel.buttonComp=this.boss2NameLabel.getComponent("cc.Button"),this.boss2NameLabel.labelOutlineComp=this.boss2NameLabel.getComponent("cc.LabelOutline"),this.boss3NameLabel.buttonComp=this.boss3NameLabel.getComponent("cc.Button"),this.boss3NameLabel.labelOutlineComp=this.boss3NameLabel.getComponent("cc.LabelOutline")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.sectDetailMy()},initData:function(){var t=this.data;null!=t&&(t.tenet?this.tenetEditBox.string=t.tenet:this.tenetEditBox.string="",this.enterGradeNameEditBox.string=t.enterGradeName+"",t.boss2?(this.boss2NameLabel.string=t.boss2.name,this.boss2NameLabel.buttonComp.interactable=!0,this.boss2NameLabel.labelOutlineComp.enabled=!0,this.appointBoss2Button.node.active=!1,this.changeBoss2Button.node.active=!0,this.abdicateBoss2Button.node.active=!0):(this.boss2NameLabel.string="\u3010\u7a7a\u3011",this.boss2NameLabel.buttonComp.interactable=!1,this.boss2NameLabel.labelOutlineComp.enabled=!1,this.appointBoss2Button.node.active=!0,this.changeBoss2Button.node.active=!1,this.abdicateBoss2Button.node.active=!1),t.boss3?(this.boss3NameLabel.string=t.boss3.name,this.boss3NameLabel.buttonComp.interactable=!0,this.boss3NameLabel.labelOutlineComp.enabled=!0,this.appointBoss3Button.node.active=!1,this.changeBoss3Button.node.active=!0,this.abdicateBoss3Button.node.active=!0):(this.boss3NameLabel.string="\u3010\u7a7a\u3011",this.boss3NameLabel.buttonComp.interactable=!1,this.boss3NameLabel.labelOutlineComp.enabled=!1,this.appointBoss3Button.node.active=!0,this.changeBoss3Button.node.active=!1,this.abdicateBoss3Button.node.active=!1),this.gradeNameLabel.string=t.gradeName+"\u7ea7",this.gradeNameGainLabel.string="\u5f53\u524d\u7b49\u7ea7\u63d0\u5347\u6548\u679c\uff1a"+t.gradeNameGain,t.nextGradeNameGain?(this.nextGradeNameGainLabel.node.active=!0,this.nextGradeNameGainLabel.string="\u4e0b\u7b49\u7ea7\u63d0\u5347\u6548\u679c\uff1a"+t.nextGradeNameGain,this.upGradeNameButton.node.active=!0):(this.nextGradeNameGainLabel.node.active=!1,this.upGradeNameButton.node.active=!1),this.upGradeNameConditionLabel.string=t.upGradeNameCondition)},onQuitFragmentCallback:function(t,i){"SectPlayerListBoss2"==t&&i&&this.sectDetailMy(),"SectPlayerListBoss3"==t&&i&&this.sectDetailMy()},onAppointBossClickCallback:function(t,i){var o={sectId:application.getMain().sectId};"boss2"==i&&this.launchFragment("SectPlayerListBoss2",o),"boss3"==i&&this.launchFragment("SectPlayerListBoss3",o)},onAbdicateBossClickCallback:function(t,i){"boss2"==i&&this.sectBoss2Abdicate(),"boss3"==i&&this.sectBoss3Abdicate()},onBackClickCallback:function(t){this.quitFragment()},onBoss2ClickCallback:function(t){if(this.data.boss2)if(application.getPlayerId()==this.data.boss2.id)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:this.data.boss2.id};this.launchFragment("PlayerOtherDetail",i)}},onBoss3ClickCallback:function(t){if(this.data.boss3)if(application.getPlayerId()==this.data.boss3.id)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:this.data.boss3.id};this.launchFragment("PlayerOtherDetail",i)}},onAlterTenetClickCallback:function(t){var i=this.tenetEditBox.string;this.sectAlterTenet(i)},onUpGradeNameClickCallback:function(t){this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u662f\u5426\u5347\u7ea7\u6559\u6d3e\u7b49\u7ea7\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.sectUpGradeName()}.bind(this)),this.hintDialogNode.hintDialogComp.show()},onAlterEnterGradeNameClickCallback:function(t){var i=this.enterGradeNameEditBox.string;util.isNumber(i)&&i>0&&i<141?this.sectAlterEnterGradeName(i):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u5165\u6559\u7b49\u7ea7\u8981\u6c42\u8f93\u5165\u4e0d\u5408\u6cd5\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},sectDetailMy:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/sect/detailMy",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},sectUpGradeName:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/sect/upGradeName",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.sectDetailMy()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},sectAlterTenet:function(t){this.loadDialogNode.loadDialogComp.show();var i=application.getMain();network.sendGameHttpPost("/sect/alterTenet",{playerId:i.playerId,sectId:i.sectId,tenet:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&t.code,this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))},sectAlterEnterGradeName:function(t){this.loadDialogNode.loadDialogComp.show();var i=application.getMain();network.sendGameHttpPost("/sect/alterEnterGradeName",{playerId:i.playerId,sectId:i.sectId,enterGradeName:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&t.code,this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))},sectBoss2Abdicate:function(){this.loadDialogNode.loadDialogComp.show();var t=application.getMain();network.sendGameHttpPost("/sect/boss2Abdicate",{playerId:t.playerId,sectId:t.sectId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.sectDetailMy()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},sectBoss3Abdicate:function(){this.loadDialogNode.loadDialogComp.show();var t=application.getMain();network.sendGameHttpPost("/sect/boss3Abdicate",{playerId:t.playerId,sectId:t.sectId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.sectDetailMy()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],SectPlayerApplyItem:[function(t,i,o){"use strict";cc._RF.push(i,"cb643zaK4dEdYGWj5QHUbvn","SectPlayerApplyItem"),cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label,infoLabel:cc.Label},start:function(){},load:function(t){this.id=t.id,this.nameLabel.string=t.name,this.infoLabel.string=t.gradeName+"\u7ea7"+t.jobName},setOnNameClickCallback:function(t){this.nameClickCallback=t},setOnAction1ClickCallback:function(t){this.action1ClickCallback=t},setOnAction2ClickCallback:function(t){this.action2ClickCallback=t},onNameClickCallback:function(t){null!=this.nameClickCallback&&this.nameClickCallback(this)},onAction1ClickCallback:function(t){null!=this.action1ClickCallback&&this.action1ClickCallback(this)},onAction2ClickCallback:function(t){null!=this.action2ClickCallback&&this.action2ClickCallback(this)}}),cc._RF.pop()},{}],SectPlayerItem:[function(t,i,o){"use strict";cc._RF.push(i,"731d8UBFP5HaJ6T4Ecd5sFu","SectPlayerItem"),cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label,nameLabelOutline:cc.LabelOutline,infoLabel:cc.Label,contributeLabel:cc.Label,timeLabel:cc.Label,actionNode:cc.Node,actionButton:cc.Button,actionLabel:cc.Label},start:function(){},load:function(t){this.id=t.id,this.nameLabel.string=t.name,this.infoLabel.string=t.gradeName+"\u7ea7"+t.jobName,this.contributeLabel.string=t.contribute+"\u8d21\u732e",this.timeLabel.string=t.time.substring(0,11)+""},setAction:function(t){this.actionLabel.string=t},setActionColor:function(t){var i=cc.Color.BLACK;this.actionButton.node.color=i.fromHEX(t)},setActionEnable:function(t){this.actionButton.node.active=t},setOnNameClickCallback:function(t){this.nameClickCallback=t},setOnActionClickCallback:function(t){this.actionClickCallback=t},onNameClickCallback:function(t){null!=this.nameClickCallback&&this.nameClickCallback(this)},onActionClickCallback:function(t){null!=this.actionClickCallback&&this.actionClickCallback(this)}}),cc._RF.pop()},{}],SectPlayerListBoss2:[function(t,i,o){"use strict";cc._RF.push(i,"66ee8M5dNpI7LhBUlD9RqP9","SectPlayerListBoss2");var e=t("Fragment"),a=t("SectPlayerItem");cc.Class({extends:e,properties:{titleLable:cc.Label,listNode:cc.Node,sectPlayerItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.sectId=this.getLaunchData().sectId,this.sectPlayerList()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){if(null!=this.data){for(var t=this.data.playerList,i=0;i<this.listNode.childrenCount;i++){(o=this.listNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.sectPlayerItemPrefab)).sectPlayerItemComp=o.getComponent(a),o.sectPlayerItemComp.load(e),o.sectPlayerItemComp.setOnNameClickCallback(function(t){if(application.getPlayerId()==t.id)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:t.id};this.launchFragment("PlayerOtherDetail",i)}}.bind(this)),o.sectPlayerItemComp.setAction("\u4efb\u547d"),o.sectPlayerItemComp.setOnActionClickCallback(function(t){this.sectBoss2(t.id)}.bind(this)),o.parent=this.listNode}}},sectPlayerList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/sect/playerList",{playerId:application.getPlayerId(),sectId:this.sectId,type:2},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},sectBoss2:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/sect/boss2",{playerId:t,sectId:this.sectId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.quitFragment(!0)}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment",SectPlayerItem:"SectPlayerItem"}],SectPlayerListBoss3:[function(t,i,o){"use strict";cc._RF.push(i,"0169ceG3UNOmJG632LjnVMU","SectPlayerListBoss3");var e=t("Fragment"),a=t("SectPlayerItem");cc.Class({extends:e,properties:{titleLable:cc.Label,listNode:cc.Node,sectPlayerItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.sectId=this.getLaunchData().sectId,this.sectPlayerList()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){if(null!=this.data){for(var t=this.data.playerList,i=0;i<this.listNode.childrenCount;i++){(o=this.listNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.sectPlayerItemPrefab)).sectPlayerItemComp=o.getComponent(a),o.sectPlayerItemComp.load(e),o.sectPlayerItemComp.setOnNameClickCallback(function(t){if(application.getPlayerId()==t.id)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:t.id};this.launchFragment("PlayerOtherDetail",i)}}.bind(this)),o.sectPlayerItemComp.setAction("\u4efb\u547d"),o.sectPlayerItemComp.setOnActionClickCallback(function(t){this.sectBoss3(t.id)}.bind(this)),o.parent=this.listNode}}},sectPlayerList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/sect/playerList",{playerId:application.getPlayerId(),sectId:this.sectId,type:2},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},sectBoss3:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/sect/boss3",{playerId:t,sectId:this.sectId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.quitFragment(!0)}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment",SectPlayerItem:"SectPlayerItem"}],SectPlayerList:[function(t,i,o){"use strict";cc._RF.push(i,"d3a20Vddc9IUZ87a+qYRocG","SectPlayerList");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{titleLable:cc.Label,playerListNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.sectId=this.getLaunchData().sectId,this.sectPlayerList()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){if(null!=this.data){for(var t=this.data.playerList,i=0;i<this.playerListNode.childrenCount;i++){(o=this.playerListNode.children[i]).destroy()}for(i=0;i<t.length;i++){var o,e=t[i];(o=cc.instantiate(this.commonItemPrefab)).commonItemComp=o.getComponent(a),o.commonItemComp.setName(e.name),o.commonItemComp.setInfo(e.gradeName+"\u7ea7"+e.jobName),o.commonItemComp.id=e.id,o.commonItemComp.setOnNameClickCallback(function(t){if(application.getPlayerId()==t.id)this.launchFragment("PlayerDetail");else{var i={otherPlayerId:t.id};this.launchFragment("PlayerOtherDetail",i)}}.bind(this)),o.commonItemComp.setActionEnable(!1),o.parent=this.playerListNode}}},sectPlayerList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/sect/playerList",{playerId:application.getPlayerId(),sectId:this.sectId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],SkillAdjutant:[function(t,i,o){"use strict";cc._RF.push(i,"9b152iOgEJEAZn+WGvOkJYU","SkillAdjutant");var e=t("Fragment"),a=t("AdjutantSkillItem");cc.Class({extends:e,properties:{skillListNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerAdjutantId=this.getLaunchData().playerAdjutantId,this.skillPlayerAdjutantList()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){var t=this.data.skillList;if(null!=t){for(var i=0;i<this.skillListNode.childrenCount;i++){this.skillListNode.children[i].destroy()}for(i=0;i<t.length;i++){var o=t[i],e=cc.instantiate(this.commonItemPrefab);e.commonItemComp=e.getComponent(a),e.commonItemComp.skillId=o.id,e.commonItemComp.useAction=o.useAction,e.commonItemComp.setName(o.name),e.commonItemComp.setInfo(null==o.gradeAlias?"":o.gradeAlias),e.commonItemComp.setActionEnable(!1,1),e.commonItemComp.setActionEnable(!1,2),""!=o.useAction&&(e.commonItemComp.setActionEnable(!0,1),e.commonItemComp.setAction(o.useAction)),o.gradeAlias?e.commonItemComp.setActionEnable(!0,2):e.commonItemComp.setActionEnable(!1,2),e.commonItemComp.setOnActionClickCallback(function(t,i){1==i&&this.showStudySkillDialog(t.getAction(),t.skillId),2==i&&this.showDeleteSkillDialog(t.skillId)}.bind(this)),e.commonItemComp.setOnNameClickCallback(function(t){var i={skillId:t.skillId};this.launchFragment("SkillDetail",i)}.bind(this)),e.parent=this.skillListNode}}},showStudySkillDialog:function(t,i){this.hintDialogNode.hintDialogComp.setContent("\u60a8\u786e\u5b9a\u8981"+t+"\u8be5\u6280\u80fd\u5417\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonEnable(!0),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.skillPlayerAdjutantStudy(i)}.bind(this)),this.hintDialogNode.hintDialogComp.show()},showDeleteSkillDialog:function(t){this.hintDialogNode.hintDialogComp.setContent("\u60a8\u786e\u5b9a\u8981\u9057\u5fd8\u8be5\u6280\u80fd\u5417\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonEnable(!0),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(i){i.dismiss(),this.skillPlayerAdjutantDelete(t)}.bind(this)),this.hintDialogNode.hintDialogComp.show()},skillPlayerAdjutantList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/skill/playerAdjutantList",{playerAdjutantId:this.playerAdjutantId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},skillPlayerAdjutantStudy:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/skill/playerAdjutantStudy",{playerAdjutantId:this.playerAdjutantId,skillId:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.skillPlayerAdjutantList()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},skillPlayerAdjutantDelete:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/skill/playerAdjutantDelete",{playerAdjutantId:this.playerAdjutantId,skillId:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.skillPlayerAdjutantList()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{AdjutantSkillItem:"AdjutantSkillItem",Fragment:"Fragment"}],SkillDetail:[function(t,i,o){"use strict";cc._RF.push(i,"415002uvRVK5aCCSAgqacve","SkillDetail");var e=t("Fragment"),a=t("SkillExplainItem");cc.Class({extends:e,properties:{nameLabel:cc.Label,descriptionLabel:cc.Label,skillExplainListNode:cc.Node,skillExplainItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.skillId=this.getLaunchData().skillId,this.skillDetail()},initData:function(){if(null!=this.data){var t=this.data;this.nameLabel.string=t.name,this.descriptionLabel.string="\u3000\u3000"+t.description;for(var i=0;i<this.skillExplainListNode.childrenCount;i++){(o=this.skillExplainListNode.children[i]).destroy()}for(i=0;i<t.skillExplainList.length;i++){var o,e=t.skillExplainList[i];(o=cc.instantiate(this.skillExplainItemPrefab)).skillExplainItemComp=o.getComponent(a),o.skillExplainItemComp.explain=e,o.parent=this.skillExplainListNode}}},onBackClickCallback:function(t){this.quitFragment()},skillDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/skill/detail",{playerId:application.getPlayerId(),skillId:this.skillId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment",SkillExplainItem:"SkillExplainItem"}],SkillExplainItem:[function(t,i,o){"use strict";cc._RF.push(i,"48acadcUz5N647dUGfwALj0","SkillExplainItem"),cc.Class({extends:cc.Component,properties:{_explain:{default:""},explain:{get:function(){return this._explain},set:function(t){var i=this._explain;this._explain=t.toString(),this._explain!==i&&this._updateRenderData()}}},onLoad:function(){this.labelComp=this.getComponent(cc.Label)},start:function(){this._updateRenderData()},_updateRenderData:function(){null!=this.labelComp&&(this.labelComp.string=this._explain)}}),cc._RF.pop()},{}],SkillHfhy:[function(t,i,o){"use strict";cc._RF.push(i,"6cdb1sTgSNFsLPTmmEcsJ5P","SkillHfhy"),cc.Class({extends:cc.Component,properties:{rain1Node:cc.Node,rain2Node:cc.Node},start:function(){},play:function(t){this.rain1Node.active=!0,this.rain2Node.active=!1;var i=0;this.schedule(function o(){i++,cc.log("\u547c\u98ce\u5524\u96e8"+i),this.rain1Node.active?(this.rain1Node.active=!1,this.rain2Node.active=!0):(this.rain1Node.active=!0,this.rain2Node.active=!1),8===i&&(this.unschedule(o),t&&t())},.05)}}),cc._RF.pop()},{}],SkillIntroduce:[function(t,i,o){"use strict";cc._RF.push(i,"825adFSY7dMrYqxF39EwMvG","SkillIntroduce");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{skillListNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.skillList()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){var t=this.data.skillList;if(null!=t){for(var i=0;i<this.skillListNode.childrenCount;i++){this.skillListNode.children[i].destroy()}for(i=0;i<t.length;i++){var o=t[i],e=cc.instantiate(this.commonItemPrefab);e.commonItemComp=e.getComponent(a),e.commonItemComp.skillId=o.id,e.commonItemComp.setName(o.name),e.commonItemComp.setInfo(o.synopsis),e.commonItemComp.setActionEnable(!1),e.commonItemComp.setOnNameClickCallback(function(t){var i={skillId:t.skillId};this.launchFragment("SkillDetail",i)}.bind(this)),e.parent=this.skillListNode}}},skillList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/skill/list",{},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],SkillPsdh:[function(t,i,o){"use strict";cc._RF.push(i,"7c69d0oxspNyaiv23a02ZhA","SkillPsdh"),cc.Class({extends:cc.Component,properties:{qiangNode:cc.Node},start:function(){},play:function(t){var i=0;this.schedule(function o(){i++,cc.log("\u547c\u98ce\u5524\u96e8"+i),i%2==1?this.qiangNode.setPosition(0,50):this.qiangNode.setPosition(22,26),8===i&&(this.unschedule(o),t&&t())},.05)}}),cc._RF.pop()},{}],SkillWgjd:[function(t,i,o){"use strict";cc._RF.push(i,"63fd0tu5oBE2r/ucItSqSEX","SkillWgjd"),cc.Class({extends:cc.Component,properties:{poison1Node:cc.Node,poison2Node:cc.Node},start:function(){},play:function(t){this.poison1Node.active=!0,this.poison2Node.active=!1;var i=0;this.schedule(function o(){i++,cc.log("\u547c\u98ce\u5524\u96e8"+i),this.poison1Node.active?(this.poison1Node.active=!1,this.poison2Node.active=!0):(this.poison1Node.active=!0,this.poison2Node.active=!1),8===i&&(this.unschedule(o),t&&t())},.05)}}),cc._RF.pop()},{}],SkillWlhd:[function(t,i,o){"use strict";cc._RF.push(i,"93906c/7ylP1r1BegEj1YPm","SkillWlhd"),cc.Class({extends:cc.Component,properties:{lei1Node:cc.Node,lei2Node:cc.Node,lei3Node:cc.Node,lei4Node:cc.Node,lei5Node:cc.Node,lei6Node:cc.Node},start:function(){},play:function(t){null!=this.wlhdCallback&&this.unschedule(this.wlhdCallback);var i=0;this.wlhdCallback=function(){i++,cc.log("\u4e94\u96f7\u8f70\u9876"+i),this.lei1Node.active=!1,this.lei2Node.active=!1,this.lei3Node.active=!1,this.lei4Node.active=!1,this.lei5Node.active=!1,this.lei6Node.active=!1,1==i&&(this.lei1Node.active=!0),2==i&&(this.lei2Node.active=!0),3==i&&(this.lei3Node.active=!0),4==i&&(this.lei4Node.active=!0),5==i&&(this.lei5Node.active=!0),6==i&&(this.lei6Node.active=!0),7===i&&(this.unschedule(this.wlhdCallback),this.wlhdCallback=null,t&&t())},this.schedule(this.wlhdCallback,.1)}}),cc._RF.pop()},{}],SkillYhly:[function(t,i,o){"use strict";cc._RF.push(i,"a77feVLuxVAJ6BhTF+uczH+","SkillYhly"),cc.Class({extends:cc.Component,properties:{huo1Animation:cc.Animation,huo2Animation:cc.Animation,huo3Animation:cc.Animation,huo4Animation:cc.Animation,huo5Animation:cc.Animation,huo6Animation:cc.Animation},start:function(){this.node.x=3e3},play:function(t){this.node.x=0,this.huo2Animation.node.active=!1,this.huo3Animation.node.active=!1,this.huo4Animation.node.active=!1,this.huo5Animation.node.active=!1,this.huo6Animation.node.active=!1,this.huo1Animation.node.active=!0,this.huo1Animation.play(),this.scheduleOnce(function(){this.huo2Animation.node.active=!0,this.huo2Animation.play()},.05),this.scheduleOnce(function(){this.huo3Animation.node.active=!0,this.huo3Animation.play()},.1),this.scheduleOnce(function(){this.huo5Animation.node.active=!0,this.huo5Animation.play()},.15),this.scheduleOnce(function(){this.huo4Animation.node.active=!0,this.huo4Animation.play(),this.huo6Animation.node.active=!0,this.huo6Animation.play(),this.huo6FinishedCallback&&this.huo6Animation.off("finished",this.huo6FinishedCallback,this),this.huo6FinishedCallback=function(){t()},this.huo6Animation.on("finished",this.huo6FinishedCallback,this)},.2)}}),cc._RF.pop()},{}],Skill:[function(t,i,o){"use strict";cc._RF.push(i,"c6947Mz+6dJ5bLJ1jVNlhSQ","Skill");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{skillListNode:cc.Node,commonItemPrefab:cc.Prefab},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.skillPlayerList()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){var t=this.data.skillList;if(null!=t){for(var i=0;i<this.skillListNode.childrenCount;i++){this.skillListNode.children[i].destroy()}for(i=0;i<t.length;i++){var o=t[i],e=cc.instantiate(this.commonItemPrefab);e.commonItemComp=e.getComponent(a),e.commonItemComp.id=o.id,e.commonItemComp.useAction=o.useAction,e.commonItemComp.setName(o.name),e.commonItemComp.setInfo(o.gradeAlias),e.commonItemComp.setActionEnable(!1),""!=o.useAction&&(e.commonItemComp.setActionEnable(!0),e.commonItemComp.setAction(o.useAction)),e.commonItemComp.setOnActionClickCallback(function(t){this.showStudySkillDialog(t.getAction(),t.id)}.bind(this)),e.commonItemComp.setOnNameClickCallback(function(t){var i={skillId:t.id};this.launchFragment("SkillDetail",i)}.bind(this)),e.parent=this.skillListNode}}},showStudySkillDialog:function(t,i){this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u786e\u5b9a\u8981"+t+"\u8be5\u6280\u80fd\u5417\uff1f"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!0),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonEnable(!0),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerStudy(i)}.bind(this)),this.hintDialogNode.hintDialogComp.show()},onAdjutantSkillClickCallback:function(t){this.launchFragment("PlayerAdjutantSkillChoose")},onSkillIntroduceClickCallback:function(t){this.launchFragment("SkillIntroduce")},skillPlayerList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/skill/playerList",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerStudy:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/skill/playerStudy",{playerId:application.getPlayerId(),skillId:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.skillPlayerList()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],Smithy:[function(t,i,o){"use strict";cc._RF.push(i,"c8433g/CnNMBbapuxioovEd","Smithy");var e=t("Fragment");cc.Class({extends:e,properties:{},onOreClickCallback:function(t){this.launchFragment("OreList")},onGemClickCallback:function(t){this.launchFragment("GemList")},onKitIntensifyClickCallback:function(t){this.launchFragment("PlayerKitIntensify")},onKitRemouldClickCallback:function(t){this.launchFragment("PlayerKitRemould")},onGemSellClickCallback:function(t){this.launchFragment("PlayerGemSellChoose")},onOreSellClickCallback:function(t){this.launchFragment("PlayerOreSellChoose")},onOreCompoundClickCallback:function(t){this.launchFragment("OreCompound")},onGemCompoundClickCallback:function(t){this.launchFragment("GemCompound")},onBackClickCallback:function(t){this.quitFragment()}}),cc._RF.pop()},{Fragment:"Fragment"}],Station:[function(t,i,o){"use strict";cc._RF.push(i,"2b02bithmZID41N0mdklujX","Station");var e=t("Fragment");cc.Class({extends:e,properties:{},onQuitFragmentCallback:function(t,i){"CountyList"==t&&i&&this.quitFragment(!0)},onGoCountyClickCallback:function(t){this.launchFragment("CountyList")},onAdjutantHomeInClickCallback:function(){this.launchFragment("PlayerAdjutantHomeInChoose")},onAdjutantHomeOutClickCallback:function(){this.launchFragment("PlayerAdjutantHomeOutChoose")},onBackClickCallback:function(t){this.quitFragment()}}),cc._RF.pop()},{Fragment:"Fragment"}],Sworn:[function(t,i,o){"use strict";cc._RF.push(i,"af2a88acxBKZZINwEd4LKc+","Sworn");var e=t("Fragment");cc.Class({extends:e,properties:{},onGivingReliefClickCallback:function(t){this.launchFragment("GivingRelief")},onCallClickCallback:function(t){this.launchFragment("Call")},onBackClickCallback:function(t){this.quitFragment()},onNetowrkMessage:function(t){}}),cc._RF.pop()},{Fragment:"Fragment"}],Task:[function(t,i,o){"use strict";cc._RF.push(i,"7178ati6ohObKAsKzHzGSOB","Task");var e=t("Fragment"),a=t("PersonFace");cc.Class({extends:e,properties:{npcPersonFace:a,npcNameLabel:cc.Label,selfPersonFace:a,selfNameLabel:cc.Label,contentLabel:cc.Label,replyLayout:cc.Layout,replyLabel:cc.Label,awardLabel:cc.Label,loadAnimation:cc.Animation},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.animComp=this.getComponent(cc.Animation),this.animComp.on("finished",this.onShowFinishedCallback,this)},onDestroy:function(){this.animComp.off("finished",this.onShowFinishedCallback,this),this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.npcPersonFace.node.active=!1,this.npcNameLabel.node.active=!1,this.selfPersonFace.node.active=!1,this.selfNameLabel.node.active=!1,this.contentLabel.node.active=!1,this.replyLayout.node.active=!1,this.awardLabel.node.active=!1,this.loadAnimation.node.active=!1,this.animComp.play(),this.taskFlowId=this.getLaunchData().taskFlowId,this.taskType=this.getLaunchData().taskType,this.originalTaskFlowId=this.taskFlowId,this.originalTaskType=this.taskType},onShowFinishedCallback:function(){this.taskFlowDetail()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){var t=this.data;if(t){this.npcPersonFace.node.active=!0,this.npcNameLabel.node.active=!0,this.selfPersonFace.node.active=!0,this.selfNameLabel.node.active=!0,this.awardLabel.node.active=!0,this.npcPersonFace.draw=t.npcFaceDraw,this.npcNameLabel.string=t.npcName;var i=application.getMain();this.selfPersonFace.draw=i.faceDraw,this.selfNameLabel.string=i.playerName,this.awardLabel.string=t.award,this.contentLabel.node.active=!0,this.contentLabel.string=t.content,this.replyLayout.node.active=!0,this.replyLabel.string=t.reply}},onNextClickCallback:function(t){if("taskEveryday"==this.originalTaskType){this.main=application.getMain();var i=this.main;if(i){for(var o=!0,e=0;e<i.npcList.length;e++){var a=i.npcList[e];if("taskEveryday"==a.type&&a.id==this.originalTaskFlowId){o=!1;break}}o?this.quitFragment():this.taskFlowNext(this.data.id)}}else this.taskFlowNext(this.data.id)},taskFlowDetail:function(){this.loadAnimation.node.active=!0,network.sendGameHttpPost("/task/flowDetail",{playerId:application.getPlayerId(),taskFlowId:this.taskFlowId,taskType:this.taskType},function(t){this.loadAnimation.node.active=!1,t&&1==t.code?(this.data=t.data,this.taskFlowId=this.data.id,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},taskFlowNext:function(){this.loadAnimation.node.active=!0,network.sendGameHttpPost("/task/flowNext",{playerId:application.getPlayerId(),taskFlowId:this.taskFlowId,taskType:this.taskType},function(t){if(this.loadAnimation.node.active=!1,!t||1!=t.code&&2!=t.code)if(t&&3==t.code){var i={taskBossGroupId:t.data,type:"\u4efb\u52a1boss"};this.quitFragment(i)}else if(t&&4==t.code){i={taskBossGroupId:t.data,type:"\u526f\u672c\u4efb\u52a1Boss"};this.quitFragment(i)}else if(t&&5==t.code){i={taskBossGroupId:t.data,type:"\u6bcf\u65e5\u4efb\u52a1boss"};this.quitFragment(i)}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show();else this.data=t.data,this.data?(this.taskFlowId=this.data.id,this.initData()):2==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):this.resetMain()}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.quitFragment()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment",PersonFace:"PersonFace"}],Temple:[function(t,i,o){"use strict";cc._RF.push(i,"244f2Uoa/NJ7KpfKUXCFFwa","Temple");var e=t("Fragment");cc.Class({extends:e,properties:{noPrayNode:cc.Node,prayLabel:cc.Label},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerPrayDetail()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){var t=this.data;t&&(t.playerPray?(this.noPrayNode.active=!1,this.prayLabel.node.active=!0,1==t.playerPray.type&&(this.prayLabel.string="\u4eca\u5929\u5df2\u8fdb\u884c\u666e\u901a\u7948\u798f\uff0c\u83b7\u5f97"+t.playerPray.value+"\u4f53\u529b\u503c"),2==t.playerPray.type&&(this.prayLabel.string="\u4eca\u5929\u5df2\u8fdb\u884c\u9ad8\u7ea7\u7948\u798f\uff0c\u83b7\u5f97"+t.playerPray.value+"\u4f53\u529b\u503c")):(this.noPrayNode.active=!0,this.prayLabel.node.active=!1))},onPrayClickCallback:function(t,i){this.playerPray(i)},playerPrayDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/prayDetail",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerPray:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/pray",{playerId:application.getPlayerId(),type:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.playerPrayDetail()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],Training:[function(t,i,o){"use strict";cc._RF.push(i,"c82ddwMLYBGTrq0pRuWpvpP","Training");var e=t("Fragment");cc.Class({extends:e,properties:{hintLabel:cc.Label,trainingNode:cc.Node,goldLabel:cc.Label,physicalValueLabel:cc.Label,level1Toggle:cc.Toggle,level2Toggle:cc.Toggle,level3Toggle:cc.Toggle},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.playerTrainingPrepare()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){var t=this.data;t&&(this.goldLabel.string="\u60a8\u62e5\u6709"+t.gold+"\u91d1\u7816",this.physicalValueLabel.string="\u60a8\u62e5\u6709"+t.physicalValue+"\u4f53\u529b\u503c",t.playerTraining?(this.hintLabel.node.active=!0,this.trainingNode.active=!1,1==t.playerTraining.level&&(this.hintLabel.string="\u60a8\u4eca\u5929\u5df2\u53c2\u52a0\u666e\u901a\u5f3a\u5ea6\u8bad\u7ec3\uff01"),2==t.playerTraining.level&&(this.hintLabel.string="\u60a8\u4eca\u5929\u5df2\u53c2\u52a0\u4e2d\u7ea7\u5f3a\u5ea6\u8bad\u7ec3\uff01"),3==t.playerTraining.level&&(this.hintLabel.string="\u60a8\u4eca\u5929\u5df2\u53c2\u52a0\u9ad8\u7ea7\u5f3a\u5ea6\u8bad\u7ec3\uff01")):(this.hintLabel.node.active=!1,this.trainingNode.active=!0))},onRoleChangeCallback:function(t){t.isChecked},onTrainingClickCallback:function(t){var i=1,o="",e=0,a=0;this.level1Toggle.isChecked&&(i=1,o="\u666e\u901a\u8bad\u7ec3",e=50,a=50),this.level2Toggle.isChecked&&(i=2,o="\u4e2d\u7ea7\u8bad\u7ec3",e=100,a=100),this.level3Toggle.isChecked&&(i=3,o="\u9ad8\u7ea7\u8bad\u7ec3",e=150,a=150);var n=o+"\u9700\u8981\u82b1\u8d39"+e+"\u91d1\u7816\u6d88\u8017"+a+"\u4f53\u529b\u503c\uff0c\u662f\u5426\u7ee7\u7eed\u63a5\u53d7\u8bad\u7ec3\uff1f";this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(n),this.hintDialogNode.hintDialogComp.setLeftButtonName("\u53d6\u6d88"),this.hintDialogNode.hintDialogComp.setLeftClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.playerTraining(i)}.bind(this)),this.hintDialogNode.hintDialogComp.show()},playerTrainingPrepare:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/trainingPrepare",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},playerTraining:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/player/training",{playerId:application.getPlayerId(),level:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.playerTrainingPrepare()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],TreasureDetail:[function(t,i,o){"use strict";cc._RF.push(i,"d3eeciEpW9LSJtZbl1iKMCp","TreasureDetail");var e=t("Fragment");cc.Class({extends:e,properties:{titleLabel:cc.Label,nameLabel:cc.Label,priceLabel:cc.Label,priceNode:cc.Node,descriptionLabel:cc.Label,buyNode:cc.Node,goldLabel:cc.Label,buyNumberEditbox:cc.EditBox},onLoad:function(){this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.titleLabel.string=this.getLaunchData().action,"\u5b9d\u7269\u8d2d\u4e70"==this.titleLabel.string?this.buyNode.active=!0:this.buyNode.active=!1,this.treasureId=this.getLaunchData().treasureId,this.isShowPrice=this.getLaunchData().isShowPrice,null!=this.isShowPrice&&void 0!=this.isShowPrice||(this.isShowPrice=!0),this.isShowPrice?this.priceNode.opacity=255:this.priceNode.opacity=0,this.treasureDetail()},initData:function(){var t=this.data;if(null!=t){this.nameLabel.string=t.name,this.priceLabel.string=t.price+"\u91d1\u7816",this.descriptionLabel.string="\u3000\u3000"+t.description;var i=application.getMain();this.goldLabel.string="\u60a8\u62e5\u6709"+i.playerGold+"\u91d1\u7816"}},onMainChange:function(){var t=application.getMain();this.goldLabel.string="\u60a8\u62e5\u6709"+t.playerGold+"\u91d1\u7816"},onBackClickCallback:function(t){this.quitFragment()},onBuyClickCallback:function(t){var i=this.buyNumberEditbox.string;util.isNumber(i)?this.treasurePlayerBuy(i):(this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u8d2d\u4e70\u6570\u91cf\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},treasureDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/treasure/detail",{treasureId:this.treasureId},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},treasurePlayerBuy:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/treasure/playerBuy",{treasureId:this.treasureId,playerId:application.getPlayerId(),buyNumber:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],TreasureList:[function(t,i,o){"use strict";cc._RF.push(i,"2a98cK3aGpPU5v/ReymUJ4Z","TreasureList");var e=t("Fragment"),a=t("CommonItem");cc.Class({extends:e,properties:{treasureListNode:cc.Node,commonItemPrefab:cc.Prefab,playerTreasureButton:cc.Button,adjutantTreasureButton:cc.Button},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.onPlayerClickCallback()},onPlayerClickCallback:function(t){this.treasureClassify="treasure",this.playerTreasureButton.interactable=!1,this.adjutantTreasureButton.interactable=!0,this.treasuryList()},onAdjutantClickCallback:function(t){this.treasureClassify="book",this.playerTreasureButton.interactable=!0,this.adjutantTreasureButton.interactable=!1,this.treasuryList()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){var t=this.data.treasureList;if(null!=t){for(var i=0;i<this.treasureListNode.childrenCount;i++){this.treasureListNode.children[i].destroy()}for(i=0;i<t.length;i++){var o=t[i],e=cc.instantiate(this.commonItemPrefab);e.commonItemComp=e.getComponent(a),e.commonItemComp.id=o.id,e.commonItemComp.setName(o.name),e.commonItemComp.setInfo(o.price+"\u91d1\u7816"),e.commonItemComp.setAction("\u8d2d\u4e70"),e.commonItemComp.setOnNameClickCallback(function(t){var i={action:"\u5b9d\u7269\u8be6\u60c5",treasureId:t.id};this.launchFragment("TreasureDetail",i)}.bind(this)),e.commonItemComp.setOnActionClickCallback(function(t){var i={action:"\u5b9d\u7269\u8d2d\u4e70",treasureId:t.id};this.launchFragment("TreasureDetail",i)}.bind(this)),e.parent=this.treasureListNode}}},treasuryList:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/treasure/list",{treasureClassify:this.treasureClassify},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))}}),cc._RF.pop()},{CommonItem:"CommonItem",Fragment:"Fragment"}],UserLogin:[function(t,i,o){"use strict";cc._RF.push(i,"74175VVzkRB/JC/pGGzPqsd","UserLogin"),cc.Class({extends:cc.Component,properties:{phoneEditBox:cc.EditBox,passwordEditBox:cc.EditBox,hintDialogPrefab:cc.Prefab,loadDialogPrefab:cc.Prefab},onLoad:function(){this.hintDialogNode=cc.instantiate(this.hintDialogPrefab),this.hintDialogNode.parent=this.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.loadDialogPrefab),this.loadDialogNode.parent=this.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){},start:function(){var t=application.getKeyValue("phone"),i=application.getKeyValue("password");this.phoneEditBox.string=t||"",this.passwordEditBox.string=i||""},onLoginClickCallback:function(t){var i=this.phoneEditBox.string,o=this.passwordEditBox.string;return""==i?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u8bf7\u8f93\u5165\u624b\u673a\u53f7\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),void this.hintDialogNode.hintDialogComp.show()):""==o?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u8bf7\u8f93\u5165\u5bc6\u7801\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),void this.hintDialogNode.hintDialogComp.show()):(this.loadDialogNode.loadDialogComp.show(),void network.sendHttpPost("/user/login",{phone:i,password:o},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){application.setKeyValue("phone",i),application.setKeyValue("password",o);var e=t.data.userId;application.setUserId(e),cc.director.loadScene("GroupLogin")}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this)))},onBackClickCallback:function(t){cc.director.loadScene("Guide")},onAlterPasswordClickCallback:function(t){cc.director.loadScene("UserPassword")}}),cc._RF.pop()},{}],UserPassword:[function(t,i,o){"use strict";cc._RF.push(i,"e3a7bbHARdJCYvAuSha1pf7","UserPassword"),cc.Class({extends:cc.Component,properties:{phoneEditBox:cc.EditBox,authCodeEditBox:cc.EditBox,authCodeButton:cc.Button,authCodeLabel:cc.Label,passwordEditBox:cc.EditBox,hintDialogPrefab:cc.Prefab,loadDialogPrefab:cc.Prefab},onLoad:function(){network.addScene(this),this.hintDialogNode=cc.instantiate(this.hintDialogPrefab),this.hintDialogNode.parent=this.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.loadDialogPrefab),this.loadDialogNode.parent=this.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){network.removeScene(this)},start:function(){},onAuthCodeClickCallback:function(t){var i=this.phoneEditBox.string;if(!util.isMobile(i))return this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u624b\u673a\u53f7\u8f93\u5165\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),void this.hintDialogNode.hintDialogComp.show();this.loadDialogNode.loadDialogComp.show(),network.sendHttpPost("/user/securityPhone",{phone:i,type:2},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.authCodeButton.interactable=!1,this.timer=60,this.timerCallback=function(){this.timer--,0==this.timer?(this.authCodeLabel.string="\u53d1\u9001\u9a8c\u8bc1\u7801",this.authCodeButton.interactable=!0,this.unschedule(this.callback)):this.authCodeLabel.string="\u91cd\u8bd5("+this.timer+")"},this.schedule(this.timerCallback,1),this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},onAlterClickCallback:function(t){var i=this.phoneEditBox.string,o=this.authCodeEditBox.string,e=this.passwordEditBox.string;return util.isMobile(i)?e.length<6?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u5bc6\u7801\u957f\u5ea6\u5fc5\u987b\u4e3a6\u4f4d\u4ee5\u4e0a\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),void this.hintDialogNode.hintDialogComp.show()):(this.loadDialogNode.loadDialogComp.show(),void network.sendHttpPost("/user/alterPassword",{phone:i,password:e,code:o},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(application.setKeyValue("phone",i),application.setKeyValue("password",e),this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),cc.director.loadScene("UserLogin")}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u624b\u673a\u53f7\u8f93\u5165\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),void this.hintDialogNode.hintDialogComp.show())},onBackClickCallback:function(t){cc.director.loadScene("UserLogin")}}),cc._RF.pop()},{}],UserRegister:[function(t,i,o){"use strict";cc._RF.push(i,"6c341ZTMXdH5psN8aVqv7b4","UserRegister"),cc.Class({extends:cc.Component,properties:{phoneEditBox:cc.EditBox,authCodeEditBox:cc.EditBox,authCodeButton:cc.Button,authCodeLabel:cc.Label,passwordEditBox:cc.EditBox,passwordAffirmEditBox:cc.EditBox,hintDialogPrefab:cc.Prefab,loadDialogPrefab:cc.Prefab},onLoad:function(){network.addScene(this),this.hintDialogNode=cc.instantiate(this.hintDialogPrefab),this.hintDialogNode.parent=this.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.loadDialogPrefab),this.loadDialogNode.parent=this.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},onDestroy:function(){network.removeScene(this)},start:function(){},onAuthCodeClickCallback:function(t){var i=this.phoneEditBox.string;if(!util.isMobile(i))return this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u624b\u673a\u53f7\u8f93\u5165\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),void this.hintDialogNode.hintDialogComp.show();this.loadDialogNode.loadDialogComp.show(),network.sendHttpPost("/user/securityPhone",{phone:i,type:1},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.authCodeButton.interactable=!1,this.timer=60,this.timerCallback=function(){this.timer--,0==this.timer?(this.authCodeLabel.string="\u53d1\u9001\u9a8c\u8bc1\u7801",this.authCodeButton.interactable=!0,this.unschedule(this.callback)):this.authCodeLabel.string="\u91cd\u8bd5("+this.timer+")"},this.schedule(this.timerCallback,1),this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},onRegisterClickCallback:function(t){var i=this.phoneEditBox.string,o=this.authCodeEditBox.string,e=this.passwordEditBox.string,a=this.passwordAffirmEditBox.string;return util.isMobile(i)?e.length<6?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u5bc6\u7801\u957f\u5ea6\u5fc5\u987b\u4e3a6\u4f4d\u4ee5\u4e0a\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),void this.hintDialogNode.hintDialogComp.show()):e!=a?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u786e\u8ba4\u5bc6\u7801\u4e0e\u5bc6\u7801\u8f93\u5165\u4e0d\u4e00\u81f4\uff0c\u8bf7\u6838\u67e5\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),void this.hintDialogNode.hintDialogComp.show()):(this.loadDialogNode.loadDialogComp.show(),void network.sendHttpPost("/user/register",{phone:i,password:e,code:o},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(application.setKeyValue("phone",i),application.setKeyValue("password",e),this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),cc.director.loadScene("UserLogin")}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u624b\u673a\u53f7\u8f93\u5165\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),void this.hintDialogNode.hintDialogComp.show())},onBackClickCallback:function(t){cc.director.loadScene("Guide")}}),cc._RF.pop()},{}],Util:[function(t,i,o){"use strict";cc._RF.push(i,"556c6w/d91DU56DInyqB3IT","Util"),window.util={isNumber:function(t){return!!/^[0-9]*[1-9][0-9]*$/.test(t)},isNumberD:function(t){return!!/^(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$/.test(t)},isChinese:function(t){return!!/[\u4E00-\u9FA5\uF900-\uFA2D]/.test(t)},formatSeconds:function(t){var i=parseInt(t),o=0,e=0;i>60&&(o=parseInt(i/60),i=parseInt(i%60),o>60&&(e=parseInt(o/60),o=parseInt(o%60)));var a=parseInt(i)+"\u79d2";return o>0&&(a=parseInt(o)+"\u5206"+a),e>0&&(a=parseInt(e)+"\u5c0f\u65f6"+a),a},isMobile:function(t){return!!/^[1][1,2,3,4,5,6,7,8,9][0-9]{9}$/.test(t)},isPassword:function(t){return!!/^[a-zA-Z0-9]{6,32}$/.test(t)}},cc._RF.pop()},{}],Vip:[function(t,i,o){"use strict";cc._RF.push(i,"8ddb7MkmEZPeY2NeCCjIzUf","Vip");var e=t("Fragment");cc.Class({extends:e,properties:{noVipNode:cc.Node,vipNode:cc.Node,expireDateLabel:cc.Label,vipCodeNode:cc.Node,vipCodeEditBox:cc.EditBox,vipAwardLabel:cc.Label},onLoad:function(){this.loadDialogNode=cc.instantiate(this.context.loadDialogPrefab),this.loadDialogNode.parent=this.context.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog"),this.hintDialogNode=cc.instantiate(this.context.hintDialogPrefab),this.hintDialogNode.parent=this.context.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog")},onDestroy:function(){this.loadDialogNode.destroy(),this.hintDialogNode.destroy()},start:function(){this.vipDetail()},onBackClickCallback:function(t){this.quitFragment()},initData:function(){var t=this.data;t?(this.noVipNode.active=!1,this.vipNode.active=!0,t.expireDate&&(this.expireDateLabel.string=t.expireDate.substring(0,11)),t.vipAward?(this.vipCodeNode.active=!1,this.vipAwardLabel.node.active=!0,this.vipAwardLabel.string=t.vipAward.content):(this.vipCodeNode.active=!0,this.vipAwardLabel.node.active=!1)):(this.noVipNode.active=!0,this.vipNode.active=!1)},onAwardClickCallback:function(t){var i=this.vipCodeEditBox.string;util.isNumber(i)&&i>0&&i<4?this.vipAward(i):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent("\u60a8\u8f93\u5165\u7684\u5956\u52b1\u4ee3\u53f7\u4e0d\u5408\u6cd5\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())},vipDetail:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/vip/detail",{playerId:application.getPlayerId()},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.data=t.data,this.initData()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},vipAward:function(t){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/vip/award",{playerId:application.getPlayerId(),code:t},function(t){this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),this.resetMain()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show())}.bind(this))},resetMain:function(){this.loadDialogNode.loadDialogComp.show(),network.sendGameHttpPost("/main",{playerId:application.getPlayerId()},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;application.setMain(i),this.notifyMainChange(),this.vipDetail()}else this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContent(t.codeName),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss()}.bind(this)),this.hintDialogNode.hintDialogComp.show()}.bind(this))}}),cc._RF.pop()},{Fragment:"Fragment"}],Welcome:[function(t,i,o){"use strict";cc._RF.push(i,"8b91b6VqEZJL4W9WeIxbOSs","Welcome"),cc.Class({extends:cc.Component,properties:{loadNode:cc.Node,loadProgressLabel:cc.Label,sceneLoadProgressLabel:cc.Label,hintDialogPrefab:cc.Prefab,loadDialogPrefab:cc.Prefab},onLoad:function(){this.hintDialogNode=cc.instantiate(this.hintDialogPrefab),this.hintDialogNode.parent=this.node,this.hintDialogNode.hintDialogComp=this.hintDialogNode.getComponent("HintDialog"),this.loadDialogNode=cc.instantiate(this.loadDialogPrefab),this.loadDialogNode.parent=this.node,this.loadDialogNode.loadDialogComp=this.loadDialogNode.getComponent("LoadDialog")},start:function(){this.loadNode.active=!1,network.mainHttpServerUrl=network.main,this.checkVersion()},checkVersion:function(){this.loadDialogNode.loadDialogComp.show(),network.sendHttpPost("/getSgjmApp",{},function(t){if(this.loadDialogNode.loadDialogComp.dismiss(),t&&1==t.code){var i=t.data;i.versionCode>application.versionCode?(this.hintDialogNode.hintDialogComp.reset(),this.hintDialogNode.hintDialogComp.setContentNoIndent(unescape(i.versionContent)),this.hintDialogNode.hintDialogComp.setLeftButtonEnable(!1),this.hintDialogNode.hintDialogComp.setRightButtonName("\u786e\u5b9a"),this.hintDialogNode.hintDialogComp.setRightClickCallback(function(t){t.dismiss(),cc.game.end()}.bind(this)),this.hintDialogNode.hintDialogComp.show()):this.startGame()}else network.mainHttpServerUrl==network.main?network.mainHttpServerUrl=network.backup:network.mainHttpServerUrl=network.main,this.checkVersion()}.bind(this),5e3)},startGame:function(){this.loadNode.active=!0,cc.director.preloadScene("UserLogin",function(t,i,o){this.loadProgressLabel.string="1/4",this.sceneLoadProgressLabel.string=t+"/"+i}.bind(this),function(t){cc.director.preloadScene("PlayerLogin",function(t,i,o){this.loadProgressLabel.string="2/4",this.sceneLoadProgressLabel.string=t+"/"+i}.bind(this),function(){cc.director.preloadScene("PlayerCreate",function(t,i,o){this.loadProgressLabel.string="3/4",this.sceneLoadProgressLabel.string=t+"/"+i}.bind(this),function(){cc.director.preloadScene("Main",function(t,i,o){this.loadProgressLabel.string="4/4",this.sceneLoadProgressLabel.string=t+"/"+i}.bind(this),function(){cc.director.loadScene("NeedToKnow")}.bind(this))}.bind(this))}.bind(this))}.bind(this))}}),cc._RF.pop()},{}],jsencrypt:[function(t,i,o){"use strict";cc._RF.push(i,"2ff20pgd6BMeJXRSGVOVZDy","jsencrypt");var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(t,a){"object"===(void 0===o?"undefined":e(o))&&void 0!==i?a(o):"function"==typeof define&&define.amd?define(["exports"],a):a(t.JSEncrypt={})})(void 0,function(t){var i="0123456789abcdefghijklmnopqrstuvwxyz";function o(t){return i.charAt(t)}function e(t,i){return t&i}function a(t,i){return t|i}function n(t,i){return t^i}function s(t,i){return t&~i}function l(t){if(0==t)return-1;var i=0;return 0==(65535&t)&&(t>>=16,i+=16),0==(255&t)&&(t>>=8,i+=8),0==(15&t)&&(t>>=4,i+=4),0==(3&t)&&(t>>=2,i+=2),0==(1&t)&&++i,i}function h(t){for(var i=0;0!=t;)t&=t-1,++i;return i}var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c="=";function r(t){var i,o,e="";for(i=0;i+3<=t.length;i+=3)o=parseInt(t.substring(i,i+3),16),e+=d.charAt(o>>6)+d.charAt(63&o);for(i+1==t.length?(o=parseInt(t.substring(i,i+1),16),e+=d.charAt(o<<2)):i+2==t.length&&(o=parseInt(t.substring(i,i+2),16),e+=d.charAt(o>>2)+d.charAt((3&o)<<4));(3&e.length)>0;)e+=c;return e}function g(t){var i,e="",a=0,n=0;for(i=0;i<t.length&&t.charAt(i)!=c;++i){var s=d.indexOf(t.charAt(i));s<0||(0==a?(e+=o(s>>2),n=3&s,a=1):1==a?(e+=o(n<<2|s>>4),n=15&s,a=2):2==a?(e+=o(n),e+=o(s>>2),n=3&s,a=3):(e+=o(n<<2|s>>4),e+=o(15&s),a=0))}return 1==a&&(e+=o(n<<2)),e}var m,p=function(t,i){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])})(t,i)};function D(t,i){function o(){this.constructor=t}p(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}var C,u=function(t){var i;if(void 0===m){var o="0123456789ABCDEF",e=" \f\n\r\t\xa0\u2028\u2029";for(m={},i=0;i<16;++i)m[o.charAt(i)]=i;for(o=o.toLowerCase(),i=10;i<16;++i)m[o.charAt(i)]=i;for(i=0;i<e.length;++i)m[e.charAt(i)]=-1}var a=[],n=0,s=0;for(i=0;i<t.length;++i){var l=t.charAt(i);if("="==l)break;if(-1!=(l=m[l])){if(void 0===l)throw new Error("Illegal character at offset "+i);n|=l,++s>=2?(a[a.length]=n,n=0,s=0):n<<=4}}if(s)throw new Error("Hex encoding incomplete: 4 bits missing");return a},b={decode:function(t){var i;if(void 0===C){var o="= \f\n\r\t\xa0\u2028\u2029";for(C=Object.create(null),i=0;i<64;++i)C["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i)]=i;for(i=0;i<o.length;++i)C[o.charAt(i)]=-1}var e=[],a=0,n=0;for(i=0;i<t.length;++i){var s=t.charAt(i);if("="==s)break;if(-1!=(s=C[s])){if(void 0===s)throw new Error("Illegal character at offset "+i);a|=s,++n>=4?(e[e.length]=a>>16,e[e.length]=a>>8&255,e[e.length]=255&a,a=0,n=0):a<<=6}}switch(n){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:e[e.length]=a>>10;break;case 3:e[e.length]=a>>16,e[e.length]=a>>8&255}return e},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(t){var i=b.re.exec(t);if(i)if(i[1])t=i[1];else{if(!i[2])throw new Error("RegExp out of sync");t=i[2]}return b.decode(t)}},N=function(){function t(t){this.buf=[+t||0]}return t.prototype.mulAdd=function(t,i){var o,e,a=this.buf,n=a.length;for(o=0;o<n;++o)(e=a[o]*t+i)<1e13?i=0:e-=1e13*(i=0|e/1e13),a[o]=e;i>0&&(a[o]=i)},t.prototype.sub=function(t){var i,o,e=this.buf,a=e.length;for(i=0;i<a;++i)(o=e[i]-t)<0?(o+=1e13,t=1):t=0,e[i]=o;for(;0===e[e.length-1];)e.pop()},t.prototype.toString=function(t){if(10!=(t||10))throw new Error("only base 10 is supported");for(var i=this.buf,o=i[i.length-1].toString(),e=i.length-2;e>=0;--e)o+=(1e13+i[e]).toString().substring(1);return o},t.prototype.valueOf=function(){for(var t=this.buf,i=0,o=t.length-1;o>=0;--o)i=1e13*i+t[o];return i},t.prototype.simplify=function(){var t=this.buf;return 1==t.length?t[0]:this},t}(),f="\u2026",y=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,k=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function L(t,i){return t.length>i&&(t=t.substring(0,i)+f),t}var I,P=function(){function t(i,o){this.hexDigits="0123456789ABCDEF",i instanceof t?(this.enc=i.enc,this.pos=i.pos):(this.enc=i,this.pos=o)}return t.prototype.get=function(t){if(void 0===t&&(t=this.pos++),t>=this.enc.length)throw new Error("Requesting byte offset "+t+" on a stream of length "+this.enc.length);return"string"==typeof this.enc?this.enc.charCodeAt(t):this.enc[t]},t.prototype.hexByte=function(t){return this.hexDigits.charAt(t>>4&15)+this.hexDigits.charAt(15&t)},t.prototype.hexDump=function(t,i,o){for(var e="",a=t;a<i;++a)if(e+=this.hexByte(this.get(a)),!0!==o)switch(15&a){case 7:e+="  ";break;case 15:e+="\n";break;default:e+=" "}return e},t.prototype.isASCII=function(t,i){for(var o=t;o<i;++o){var e=this.get(o);if(e<32||e>176)return!1}return!0},t.prototype.parseStringISO=function(t,i){for(var o="",e=t;e<i;++e)o+=String.fromCharCode(this.get(e));return o},t.prototype.parseStringUTF=function(t,i){for(var o="",e=t;e<i;){var a=this.get(e++);o+=a<128?String.fromCharCode(a):a>191&&a<224?String.fromCharCode((31&a)<<6|63&this.get(e++)):String.fromCharCode((15&a)<<12|(63&this.get(e++))<<6|63&this.get(e++))}return o},t.prototype.parseStringBMP=function(t,i){for(var o,e,a="",n=t;n<i;)o=this.get(n++),e=this.get(n++),a+=String.fromCharCode(o<<8|e);return a},t.prototype.parseTime=function(t,i,o){var e=this.parseStringISO(t,i),a=(o?y:k).exec(e);return a?(o&&(a[1]=+a[1],a[1]+=+a[1]<70?2e3:1900),e=a[1]+"-"+a[2]+"-"+a[3]+" "+a[4],a[5]&&(e+=":"+a[5],a[6]&&(e+=":"+a[6],a[7]&&(e+="."+a[7]))),a[8]&&(e+=" UTC","Z"!=a[8]&&(e+=a[8],a[9]&&(e+=":"+a[9]))),e):"Unrecognized time: "+e},t.prototype.parseInteger=function(t,i){for(var o,e=this.get(t),a=e>127,n=a?255:0,s="";e==n&&++t<i;)e=this.get(t);if(0===(o=i-t))return a?-1:0;if(o>4){for(s=e,o<<=3;0==(128&(+s^n));)s=+s<<1,--o;s="("+o+" bit)\n"}a&&(e-=256);for(var l=new N(e),h=t+1;h<i;++h)l.mulAdd(256,this.get(h));return s+l.toString()},t.prototype.parseBitString=function(t,i,o){for(var e=this.get(t),a="("+((i-t-1<<3)-e)+" bit)\n",n="",s=t+1;s<i;++s){for(var l=this.get(s),h=s==i-1?e:0,d=7;d>=h;--d)n+=l>>d&1?"1":"0";if(n.length>o)return a+L(n,o)}return a+n},t.prototype.parseOctetString=function(t,i,o){if(this.isASCII(t,i))return L(this.parseStringISO(t,i),o);var e=i-t,a="("+e+" byte)\n";e>(o/=2)&&(i=t+o);for(var n=t;n<i;++n)a+=this.hexByte(this.get(n));return e>o&&(a+=f),a},t.prototype.parseOID=function(t,i,o){for(var e="",a=new N,n=0,s=t;s<i;++s){var l=this.get(s);if(a.mulAdd(128,127&l),n+=7,!(128&l)){if(""===e)if((a=a.simplify())instanceof N)a.sub(80),e="2."+a.toString();else{var h=a<80?a<40?0:1:2;e=h+"."+(a-40*h)}else e+="."+a.toString();if(e.length>o)return L(e,o);a=new N,n=0}}return n>0&&(e+=".incomplete"),e},t}(),v=function(){function t(t,i,o,e,a){if(!(e instanceof B))throw new Error("Invalid tag value.");this.stream=t,this.header=i,this.length=o,this.tag=e,this.sub=a}return t.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},t.prototype.content=function(t){if(void 0===this.tag)return null;void 0===t&&(t=1/0);var i=this.posContent(),o=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(i,i+o,t);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(i)?"false":"true";case 2:return this.stream.parseInteger(i,i+o);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(i,i+o,t);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(i,i+o,t);case 6:return this.stream.parseOID(i,i+o,t);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return L(this.stream.parseStringUTF(i,i+o),t);case 18:case 19:case 20:case 21:case 22:case 26:return L(this.stream.parseStringISO(i,i+o),t);case 30:return L(this.stream.parseStringBMP(i,i+o),t);case 23:case 24:return this.stream.parseTime(i,i+o,23==this.tag.tagNumber)}return null},t.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},t.prototype.toPrettyString=function(t){void 0===t&&(t="");var i=t+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(i+="+"),i+=this.length,this.tag.tagConstructed?i+=" (constructed)":!this.tag.isUniversal()||3!=this.tag.tagNumber&&4!=this.tag.tagNumber||null===this.sub||(i+=" (encapsulates)"),i+="\n",null!==this.sub){t+="  ";for(var o=0,e=this.sub.length;o<e;++o)i+=this.sub[o].toPrettyString(t)}return i},t.prototype.posStart=function(){return this.stream.pos},t.prototype.posContent=function(){return this.stream.pos+this.header},t.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},t.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},t.decodeLength=function(t){var i=t.get(),o=127&i;if(o==i)return o;if(o>6)throw new Error("Length over 48 bits not supported at position "+(t.pos-1));if(0===o)return null;i=0;for(var e=0;e<o;++e)i=256*i+t.get();return i},t.prototype.getHexStringValue=function(){var t=this.toHexString(),i=2*this.header,o=2*this.length;return t.substr(i,o)},t.decode=function(i){var o;o=i instanceof P?i:new P(i,0);var e=new P(o),a=new B(o),n=t.decodeLength(o),s=o.pos,l=s-e.pos,h=null,d=function(){var i=[];if(null!==n){for(var e=s+n;o.pos<e;)i[i.length]=t.decode(o);if(o.pos!=e)throw new Error("Content size is not correct for container starting at offset "+s)}else try{for(;;){var a=t.decode(o);if(a.tag.isEOC())break;i[i.length]=a}n=s-o.pos}catch(t){throw new Error("Exception while decoding undefined length content: "+t)}return i};if(a.tagConstructed)h=d();else if(a.isUniversal()&&(3==a.tagNumber||4==a.tagNumber))try{if(3==a.tagNumber&&0!=o.get())throw new Error("BIT STRINGs with unused bits cannot encapsulate.");h=d();for(var c=0;c<h.length;++c)if(h[c].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch(t){h=null}if(null===h){if(null===n)throw new Error("We can't skip over an invalid tag with undefined length at offset "+s);o.pos=s+Math.abs(n)}return new t(e,l,n,a,h)},t}(),B=function(){function t(t){var i=t.get();if(this.tagClass=i>>6,this.tagConstructed=0!=(32&i),this.tagNumber=31&i,31==this.tagNumber){var o=new N;do{i=t.get(),o.mulAdd(128,127&i)}while(128&i);this.tagNumber=o.simplify()}}return t.prototype.isUniversal=function(){return 0===this.tagClass},t.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber},t}(),F=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],R=(1<<26)/F[F.length-1],w=function(){function t(t,i,o){null!=t&&("number"==typeof t?this.fromNumber(t,i,o):null==i&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,i))}return t.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var i;if(16==t)i=4;else if(8==t)i=3;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return this.toRadix(t);i=2}var e,a=(1<<i)-1,n=!1,s="",l=this.t,h=this.DB-l*this.DB%i;if(l-- >0)for(h<this.DB&&(e=this[l]>>h)>0&&(n=!0,s=o(e));l>=0;)h<i?(e=(this[l]&(1<<h)-1)<<i-h,e|=this[--l]>>(h+=this.DB-i)):(e=this[l]>>(h-=i)&a,h<=0&&(h+=this.DB,--l)),e>0&&(n=!0),n&&(s+=o(e));return n?s:"0"},t.prototype.negate=function(){var i=T();return t.ZERO.subTo(this,i),i},t.prototype.abs=function(){return this.s<0?this.negate():this},t.prototype.compareTo=function(t){var i=this.s-t.s;if(0!=i)return i;var o=this.t;if(0!=(i=o-t.t))return this.s<0?-i:i;for(;--o>=0;)if(0!=(i=this[o]-t[o]))return i;return 0},t.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+K(this[this.t-1]^this.s&this.DM)},t.prototype.mod=function(i){var o=T();return this.abs().divRemTo(i,null,o),this.s<0&&o.compareTo(t.ZERO)>0&&i.subTo(o,o),o},t.prototype.modPowInt=function(t,i){var o;return o=t<256||i.isEven()?new A(i):new x(i),this.exp(t,o)},t.prototype.clone=function(){var t=T();return this.copyTo(t),t},t.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},t.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},t.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},t.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},t.prototype.toByteArray=function(){var t=this.t,i=[];i[0]=this.s;var o,e=this.DB-t*this.DB%8,a=0;if(t-- >0)for(e<this.DB&&(o=this[t]>>e)!=(this.s&this.DM)>>e&&(i[a++]=o|this.s<<this.DB-e);t>=0;)e<8?(o=(this[t]&(1<<e)-1)<<8-e,o|=this[--t]>>(e+=this.DB-8)):(o=this[t]>>(e-=8)&255,e<=0&&(e+=this.DB,--t)),0!=(128&o)&&(o|=-256),0==a&&(128&this.s)!=(128&o)&&++a,(a>0||o!=this.s)&&(i[a++]=o);return i},t.prototype.equals=function(t){return 0==this.compareTo(t)},t.prototype.min=function(t){return this.compareTo(t)<0?this:t},t.prototype.max=function(t){return this.compareTo(t)>0?this:t},t.prototype.and=function(t){var i=T();return this.bitwiseTo(t,e,i),i},t.prototype.or=function(t){var i=T();return this.bitwiseTo(t,a,i),i},t.prototype.xor=function(t){var i=T();return this.bitwiseTo(t,n,i),i},t.prototype.andNot=function(t){var i=T();return this.bitwiseTo(t,s,i),i},t.prototype.not=function(){for(var t=T(),i=0;i<this.t;++i)t[i]=this.DM&~this[i];return t.t=this.t,t.s=~this.s,t},t.prototype.shiftLeft=function(t){var i=T();return t<0?this.rShiftTo(-t,i):this.lShiftTo(t,i),i},t.prototype.shiftRight=function(t){var i=T();return t<0?this.lShiftTo(-t,i):this.rShiftTo(t,i),i},t.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+l(this[t]);return this.s<0?this.t*this.DB:-1},t.prototype.bitCount=function(){for(var t=0,i=this.s&this.DM,o=0;o<this.t;++o)t+=h(this[o]^i);return t},t.prototype.testBit=function(t){var i=Math.floor(t/this.DB);return i>=this.t?0!=this.s:0!=(this[i]&1<<t%this.DB)},t.prototype.setBit=function(t){return this.changeBit(t,a)},t.prototype.clearBit=function(t){return this.changeBit(t,s)},t.prototype.flipBit=function(t){return this.changeBit(t,n)},t.prototype.add=function(t){var i=T();return this.addTo(t,i),i},t.prototype.subtract=function(t){var i=T();return this.subTo(t,i),i},t.prototype.multiply=function(t){var i=T();return this.multiplyTo(t,i),i},t.prototype.divide=function(t){var i=T();return this.divRemTo(t,i,null),i},t.prototype.remainder=function(t){var i=T();return this.divRemTo(t,null,i),i},t.prototype.divideAndRemainder=function(t){var i=T(),o=T();return this.divRemTo(t,i,o),[i,o]},t.prototype.modPow=function(t,i){var o,e,a=t.bitLength(),n=_(1);if(a<=0)return n;o=a<18?1:a<48?3:a<144?4:a<768?5:6,e=a<8?new A(i):i.isEven()?new E(i):new x(i);var s=[],l=3,h=o-1,d=(1<<o)-1;if(s[1]=e.convert(this),o>1){var c=T();for(e.sqrTo(s[1],c);l<=d;)s[l]=T(),e.mulTo(c,s[l-2],s[l]),l+=2}var r,g,m=t.t-1,p=!0,D=T();for(a=K(t[m])-1;m>=0;){for(a>=h?r=t[m]>>a-h&d:(r=(t[m]&(1<<a+1)-1)<<h-a,m>0&&(r|=t[m-1]>>this.DB+a-h)),l=o;0==(1&r);)r>>=1,--l;if((a-=l)<0&&(a+=this.DB,--m),p)s[r].copyTo(n),p=!1;else{for(;l>1;)e.sqrTo(n,D),e.sqrTo(D,n),l-=2;l>0?e.sqrTo(n,D):(g=n,n=D,D=g),e.mulTo(D,s[r],n)}for(;m>=0&&0==(t[m]&1<<a);)e.sqrTo(n,D),g=n,n=D,D=g,--a<0&&(a=this.DB-1,--m)}return e.revert(n)},t.prototype.modInverse=function(i){var o=i.isEven();if(this.isEven()&&o||0==i.signum())return t.ZERO;for(var e=i.clone(),a=this.clone(),n=_(1),s=_(0),l=_(0),h=_(1);0!=e.signum();){for(;e.isEven();)e.rShiftTo(1,e),o?(n.isEven()&&s.isEven()||(n.addTo(this,n),s.subTo(i,s)),n.rShiftTo(1,n)):s.isEven()||s.subTo(i,s),s.rShiftTo(1,s);for(;a.isEven();)a.rShiftTo(1,a),o?(l.isEven()&&h.isEven()||(l.addTo(this,l),h.subTo(i,h)),l.rShiftTo(1,l)):h.isEven()||h.subTo(i,h),h.rShiftTo(1,h);e.compareTo(a)>=0?(e.subTo(a,e),o&&n.subTo(l,n),s.subTo(h,s)):(a.subTo(e,a),o&&l.subTo(n,l),h.subTo(s,h))}return 0!=a.compareTo(t.ONE)?t.ZERO:h.compareTo(i)>=0?h.subtract(i):h.signum()<0?(h.addTo(i,h),h.signum()<0?h.add(i):h):h},t.prototype.pow=function(t){return this.exp(t,new S)},t.prototype.gcd=function(t){var i=this.s<0?this.negate():this.clone(),o=t.s<0?t.negate():t.clone();if(i.compareTo(o)<0){var e=i;i=o,o=e}var a=i.getLowestSetBit(),n=o.getLowestSetBit();if(n<0)return i;for(a<n&&(n=a),n>0&&(i.rShiftTo(n,i),o.rShiftTo(n,o));i.signum()>0;)(a=i.getLowestSetBit())>0&&i.rShiftTo(a,i),(a=o.getLowestSetBit())>0&&o.rShiftTo(a,o),i.compareTo(o)>=0?(i.subTo(o,i),i.rShiftTo(1,i)):(o.subTo(i,o),o.rShiftTo(1,o));return n>0&&o.lShiftTo(n,o),o},t.prototype.isProbablePrime=function(t){var i,o=this.abs();if(1==o.t&&o[0]<=F[F.length-1]){for(i=0;i<F.length;++i)if(o[0]==F[i])return!0;return!1}if(o.isEven())return!1;for(i=1;i<F.length;){for(var e=F[i],a=i+1;a<F.length&&e<R;)e*=F[a++];for(e=o.modInt(e);i<a;)if(e%F[i++]==0)return!1}return o.millerRabin(t)},t.prototype.copyTo=function(t){for(var i=this.t-1;i>=0;--i)t[i]=this[i];t.t=this.t,t.s=this.s},t.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},t.prototype.fromString=function(i,o){var e;if(16==o)e=4;else if(8==o)e=3;else if(256==o)e=8;else if(2==o)e=1;else if(32==o)e=5;else{if(4!=o)return void this.fromRadix(i,o);e=2}this.t=0,this.s=0;for(var a=i.length,n=!1,s=0;--a>=0;){var l=8==e?255&+i[a]:G(i,a);l<0?"-"==i.charAt(a)&&(n=!0):(n=!1,0==s?this[this.t++]=l:s+e>this.DB?(this[this.t-1]|=(l&(1<<this.DB-s)-1)<<s,this[this.t++]=l>>this.DB-s):this[this.t-1]|=l<<s,(s+=e)>=this.DB&&(s-=this.DB))}8==e&&0!=(128&+i[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),n&&t.ZERO.subTo(this,this)},t.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},t.prototype.dlShiftTo=function(t,i){var o;for(o=this.t-1;o>=0;--o)i[o+t]=this[o];for(o=t-1;o>=0;--o)i[o]=0;i.t=this.t+t,i.s=this.s},t.prototype.drShiftTo=function(t,i){for(var o=t;o<this.t;++o)i[o-t]=this[o];i.t=Math.max(this.t-t,0),i.s=this.s},t.prototype.lShiftTo=function(t,i){for(var o=t%this.DB,e=this.DB-o,a=(1<<e)-1,n=Math.floor(t/this.DB),s=this.s<<o&this.DM,l=this.t-1;l>=0;--l)i[l+n+1]=this[l]>>e|s,s=(this[l]&a)<<o;for(l=n-1;l>=0;--l)i[l]=0;i[n]=s,i.t=this.t+n+1,i.s=this.s,i.clamp()},t.prototype.rShiftTo=function(t,i){i.s=this.s;var o=Math.floor(t/this.DB);if(o>=this.t)i.t=0;else{var e=t%this.DB,a=this.DB-e,n=(1<<e)-1;i[0]=this[o]>>e;for(var s=o+1;s<this.t;++s)i[s-o-1]|=(this[s]&n)<<a,i[s-o]=this[s]>>e;e>0&&(i[this.t-o-1]|=(this.s&n)<<a),i.t=this.t-o,i.clamp()}},t.prototype.subTo=function(t,i){for(var o=0,e=0,a=Math.min(t.t,this.t);o<a;)e+=this[o]-t[o],i[o++]=e&this.DM,e>>=this.DB;if(t.t<this.t){for(e-=t.s;o<this.t;)e+=this[o],i[o++]=e&this.DM,e>>=this.DB;e+=this.s}else{for(e+=this.s;o<t.t;)e-=t[o],i[o++]=e&this.DM,e>>=this.DB;e-=t.s}i.s=e<0?-1:0,e<-1?i[o++]=this.DV+e:e>0&&(i[o++]=e),i.t=o,i.clamp()},t.prototype.multiplyTo=function(i,o){var e=this.abs(),a=i.abs(),n=e.t;for(o.t=n+a.t;--n>=0;)o[n]=0;for(n=0;n<a.t;++n)o[n+e.t]=e.am(0,a[n],o,n,0,e.t);o.s=0,o.clamp(),this.s!=i.s&&t.ZERO.subTo(o,o)},t.prototype.squareTo=function(t){for(var i=this.abs(),o=t.t=2*i.t;--o>=0;)t[o]=0;for(o=0;o<i.t-1;++o){var e=i.am(o,i[o],t,2*o,0,1);(t[o+i.t]+=i.am(o+1,2*i[o],t,2*o+1,e,i.t-o-1))>=i.DV&&(t[o+i.t]-=i.DV,t[o+i.t+1]=1)}t.t>0&&(t[t.t-1]+=i.am(o,i[o],t,2*o,0,1)),t.s=0,t.clamp()},t.prototype.divRemTo=function(i,o,e){var a=i.abs();if(!(a.t<=0)){var n=this.abs();if(n.t<a.t)return null!=o&&o.fromInt(0),void(null!=e&&this.copyTo(e));null==e&&(e=T());var s=T(),l=this.s,h=i.s,d=this.DB-K(a[a.t-1]);d>0?(a.lShiftTo(d,s),n.lShiftTo(d,e)):(a.copyTo(s),n.copyTo(e));var c=s.t,r=s[c-1];if(0!=r){var g=r*(1<<this.F1)+(c>1?s[c-2]>>this.F2:0),m=this.FV/g,p=(1<<this.F1)/g,D=1<<this.F2,C=e.t,u=C-c,b=null==o?T():o;for(s.dlShiftTo(u,b),e.compareTo(b)>=0&&(e[e.t++]=1,e.subTo(b,e)),t.ONE.dlShiftTo(c,b),b.subTo(s,s);s.t<c;)s[s.t++]=0;for(;--u>=0;){var N=e[--C]==r?this.DM:Math.floor(e[C]*m+(e[C-1]+D)*p);if((e[C]+=s.am(0,N,e,u,0,c))<N)for(s.dlShiftTo(u,b),e.subTo(b,e);e[C]<--N;)e.subTo(b,e)}null!=o&&(e.drShiftTo(c,o),l!=h&&t.ZERO.subTo(o,o)),e.t=c,e.clamp(),d>0&&e.rShiftTo(d,e),l<0&&t.ZERO.subTo(e,e)}}},t.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var i=3&t;return(i=(i=(i=(i=i*(2-(15&t)*i)&15)*(2-(255&t)*i)&255)*(2-((65535&t)*i&65535))&65535)*(2-t*i%this.DV)%this.DV)>0?this.DV-i:-i},t.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},t.prototype.exp=function(i,o){if(i>4294967295||i<1)return t.ONE;var e=T(),a=T(),n=o.convert(this),s=K(i)-1;for(n.copyTo(e);--s>=0;)if(o.sqrTo(e,a),(i&1<<s)>0)o.mulTo(a,n,e);else{var l=e;e=a,a=l}return o.revert(e)},t.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},t.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var i=this.chunkSize(t),o=Math.pow(t,i),e=_(o),a=T(),n=T(),s="";for(this.divRemTo(e,a,n);a.signum()>0;)s=(o+n.intValue()).toString(t).substr(1)+s,a.divRemTo(e,a,n);return n.intValue().toString(t)+s},t.prototype.fromRadix=function(i,o){this.fromInt(0),null==o&&(o=10);for(var e=this.chunkSize(o),a=Math.pow(o,e),n=!1,s=0,l=0,h=0;h<i.length;++h){var d=G(i,h);d<0?"-"==i.charAt(h)&&0==this.signum()&&(n=!0):(l=o*l+d,++s>=e&&(this.dMultiply(a),this.dAddOffset(l,0),s=0,l=0))}s>0&&(this.dMultiply(Math.pow(o,s)),this.dAddOffset(l,0)),n&&t.ZERO.subTo(this,this)},t.prototype.fromNumber=function(i,o,e){if("number"==typeof o)if(i<2)this.fromInt(1);else for(this.fromNumber(i,e),this.testBit(i-1)||this.bitwiseTo(t.ONE.shiftLeft(i-1),a,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(o);)this.dAddOffset(2,0),this.bitLength()>i&&this.subTo(t.ONE.shiftLeft(i-1),this);else{var n=[],s=7&i;n.length=1+(i>>3),o.nextBytes(n),s>0?n[0]&=(1<<s)-1:n[0]=0,this.fromString(n,256)}},t.prototype.bitwiseTo=function(t,i,o){var e,a,n=Math.min(t.t,this.t);for(e=0;e<n;++e)o[e]=i(this[e],t[e]);if(t.t<this.t){for(a=t.s&this.DM,e=n;e<this.t;++e)o[e]=i(this[e],a);o.t=this.t}else{for(a=this.s&this.DM,e=n;e<t.t;++e)o[e]=i(a,t[e]);o.t=t.t}o.s=i(this.s,t.s),o.clamp()},t.prototype.changeBit=function(i,o){var e=t.ONE.shiftLeft(i);return this.bitwiseTo(e,o,e),e},t.prototype.addTo=function(t,i){for(var o=0,e=0,a=Math.min(t.t,this.t);o<a;)e+=this[o]+t[o],i[o++]=e&this.DM,e>>=this.DB;if(t.t<this.t){for(e+=t.s;o<this.t;)e+=this[o],i[o++]=e&this.DM,e>>=this.DB;e+=this.s}else{for(e+=this.s;o<t.t;)e+=t[o],i[o++]=e&this.DM,e>>=this.DB;e+=t.s}i.s=e<0?-1:0,e>0?i[o++]=e:e<-1&&(i[o++]=this.DV+e),i.t=o,i.clamp()},t.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},t.prototype.dAddOffset=function(t,i){if(0!=t){for(;this.t<=i;)this[this.t++]=0;for(this[i]+=t;this[i]>=this.DV;)this[i]-=this.DV,++i>=this.t&&(this[this.t++]=0),++this[i]}},t.prototype.multiplyLowerTo=function(t,i,o){var e=Math.min(this.t+t.t,i);for(o.s=0,o.t=e;e>0;)o[--e]=0;for(var a=o.t-this.t;e<a;++e)o[e+this.t]=this.am(0,t[e],o,e,0,this.t);for(a=Math.min(t.t,i);e<a;++e)this.am(0,t[e],o,e,0,i-e);o.clamp()},t.prototype.multiplyUpperTo=function(t,i,o){--i;var e=o.t=this.t+t.t-i;for(o.s=0;--e>=0;)o[e]=0;for(e=Math.max(i-this.t,0);e<t.t;++e)o[this.t+e-i]=this.am(i-e,t[e],o,0,0,this.t+e-i);o.clamp(),o.drShiftTo(1,o)},t.prototype.modInt=function(t){if(t<=0)return 0;var i=this.DV%t,o=this.s<0?t-1:0;if(this.t>0)if(0==i)o=this[0]%t;else for(var e=this.t-1;e>=0;--e)o=(i*o+this[e])%t;return o},t.prototype.millerRabin=function(i){var o=this.subtract(t.ONE),e=o.getLowestSetBit();if(e<=0)return!1;var a=o.shiftRight(e);(i=i+1>>1)>F.length&&(i=F.length);for(var n=T(),s=0;s<i;++s){n.fromInt(F[Math.floor(Math.random()*F.length)]);var l=n.modPow(a,this);if(0!=l.compareTo(t.ONE)&&0!=l.compareTo(o)){for(var h=1;h++<e&&0!=l.compareTo(o);)if(0==(l=l.modPowInt(2,this)).compareTo(t.ONE))return!1;if(0!=l.compareTo(o))return!1}}return!0},t.prototype.square=function(){var t=T();return this.squareTo(t),t},t.prototype.gcda=function(t,i){var o=this.s<0?this.negate():this.clone(),e=t.s<0?t.negate():t.clone();if(o.compareTo(e)<0){var a=o;o=e,e=a}var n=o.getLowestSetBit(),s=e.getLowestSetBit();if(s<0)i(o);else{n<s&&(s=n),s>0&&(o.rShiftTo(s,o),e.rShiftTo(s,e));setTimeout(function t(){(n=o.getLowestSetBit())>0&&o.rShiftTo(n,o),(n=e.getLowestSetBit())>0&&e.rShiftTo(n,e),o.compareTo(e)>=0?(o.subTo(e,o),o.rShiftTo(1,o)):(e.subTo(o,e),e.rShiftTo(1,e)),o.signum()>0?setTimeout(t,0):(s>0&&e.lShiftTo(s,e),setTimeout(function(){i(e)},0))},10)}},t.prototype.fromNumberAsync=function(i,o,e,n){if("number"==typeof o)if(i<2)this.fromInt(1);else{this.fromNumber(i,e),this.testBit(i-1)||this.bitwiseTo(t.ONE.shiftLeft(i-1),a,this),this.isEven()&&this.dAddOffset(1,0);var s=this;setTimeout(function e(){s.dAddOffset(2,0),s.bitLength()>i&&s.subTo(t.ONE.shiftLeft(i-1),s),s.isProbablePrime(o)?setTimeout(function(){n()},0):setTimeout(e,0)},0)}else{var l=[],h=7&i;l.length=1+(i>>3),o.nextBytes(l),h>0?l[0]&=(1<<h)-1:l[0]=0,this.fromString(l,256)}},t}(),S=function(){function t(){}return t.prototype.convert=function(t){return t},t.prototype.revert=function(t){return t},t.prototype.mulTo=function(t,i,o){t.multiplyTo(i,o)},t.prototype.sqrTo=function(t,i){t.squareTo(i)},t}(),A=function(){function t(t){this.m=t}return t.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},t.prototype.mulTo=function(t,i,o){t.multiplyTo(i,o),this.reduce(o)},t.prototype.sqrTo=function(t,i){t.squareTo(i),this.reduce(i)},t}(),x=function(){function t(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}return t.prototype.convert=function(t){var i=T();return t.abs().dlShiftTo(this.m.t,i),i.divRemTo(this.m,null,i),t.s<0&&i.compareTo(w.ZERO)>0&&this.m.subTo(i,i),i},t.prototype.revert=function(t){var i=T();return t.copyTo(i),this.reduce(i),i},t.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var i=0;i<this.m.t;++i){var o=32767&t[i],e=o*this.mpl+((o*this.mph+(t[i]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[o=i+this.m.t]+=this.m.am(0,e,t,i,0,this.m.t);t[o]>=t.DV;)t[o]-=t.DV,t[++o]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},t.prototype.mulTo=function(t,i,o){t.multiplyTo(i,o),this.reduce(o)},t.prototype.sqrTo=function(t,i){t.squareTo(i),this.reduce(i)},t}(),E=function(){function t(t){this.m=t,this.r2=T(),this.q3=T(),w.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t)}return t.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var i=T();return t.copyTo(i),this.reduce(i),i},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},t.prototype.mulTo=function(t,i,o){t.multiplyTo(i,o),this.reduce(o)},t.prototype.sqrTo=function(t,i){t.squareTo(i),this.reduce(i)},t}();function T(){return new w(null)}function O(t,i){return new w(t,i)}"Microsoft Internet Explorer"==navigator.appName?(w.prototype.am=function(t,i,o,e,a,n){for(var s=32767&i,l=i>>15;--n>=0;){var h=32767&this[t],d=this[t++]>>15,c=l*h+d*s;a=((h=s*h+((32767&c)<<15)+o[e]+(1073741823&a))>>>30)+(c>>>15)+l*d+(a>>>30),o[e++]=1073741823&h}return a},I=30):"Netscape"!=navigator.appName?(w.prototype.am=function(t,i,o,e,a,n){for(;--n>=0;){var s=i*this[t++]+o[e]+a;a=Math.floor(s/67108864),o[e++]=67108863&s}return a},I=26):(w.prototype.am=function(t,i,o,e,a,n){for(var s=16383&i,l=i>>14;--n>=0;){var h=16383&this[t],d=this[t++]>>14,c=l*h+d*s;a=((h=s*h+((16383&c)<<14)+o[e]+a)>>28)+(c>>14)+l*d,o[e++]=268435455&h}return a},I=28),w.prototype.DB=I,w.prototype.DM=(1<<I)-1,w.prototype.DV=1<<I;w.prototype.FV=Math.pow(2,52),w.prototype.F1=52-I,w.prototype.F2=2*I-52;var H,M,j=[];for(H="0".charCodeAt(0),M=0;M<=9;++M)j[H++]=M;for(H="a".charCodeAt(0),M=10;M<36;++M)j[H++]=M;for(H="A".charCodeAt(0),M=10;M<36;++M)j[H++]=M;function G(t,i){var o=j[t.charCodeAt(i)];return null==o?-1:o}function _(t){var i=T();return i.fromInt(t),i}function K(t){var i,o=1;return 0!=(i=t>>>16)&&(t=i,o+=16),0!=(i=t>>8)&&(t=i,o+=8),0!=(i=t>>4)&&(t=i,o+=4),0!=(i=t>>2)&&(t=i,o+=2),0!=(i=t>>1)&&(t=i,o+=1),o}w.ZERO=_(0),w.ONE=_(1);var q=function(){function t(){this.i=0,this.j=0,this.S=[]}return t.prototype.init=function(t){var i,o,e;for(i=0;i<256;++i)this.S[i]=i;for(o=0,i=0;i<256;++i)o=o+this.S[i]+t[i%t.length]&255,e=this.S[i],this.S[i]=this.S[o],this.S[o]=e;this.i=0,this.j=0},t.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]},t}();var W,J,V=256,U=null;if(null==U){U=[],J=0;var z=void 0;if(window.crypto&&window.crypto.getRandomValues){var X=new Uint32Array(256);for(window.crypto.getRandomValues(X),z=0;z<X.length;++z)U[J++]=255&X[z]}var Q=function t(i){if(this.count=this.count||0,this.count>=256||J>=V)window.removeEventListener?window.removeEventListener("mousemove",t,!1):window.detachEvent&&window.detachEvent("onmousemove",t);else try{var o=i.x+i.y;U[J++]=255&o,this.count+=1}catch(t){}};window.addEventListener?window.addEventListener("mousemove",Q,!1):window.attachEvent&&window.attachEvent("onmousemove",Q)}function Z(){if(null==W){for(W=new q;J<V;){var t=Math.floor(65536*Math.random());U[J++]=255&t}for(W.init(U),J=0;J<U.length;++J)U[J]=0;J=0}return W.next()}var Y=function(){function t(){}return t.prototype.nextBytes=function(t){for(var i=0;i<t.length;++i)t[i]=Z()},t}();function $(t,i){if(i<t.length+22)return console.error("Message too long for RSA"),null;for(var o=i-t.length-6,e="",a=0;a<o;a+=2)e+="ff";return O("0001"+e+"00"+t,16)}function tt(t,i){if(i<t.length+11)return console.error("Message too long for RSA"),null;for(var o=[],e=t.length-1;e>=0&&i>0;){var a=t.charCodeAt(e--);a<128?o[--i]=a:a>127&&a<2048?(o[--i]=63&a|128,o[--i]=a>>6|192):(o[--i]=63&a|128,o[--i]=a>>6&63|128,o[--i]=a>>12|224)}o[--i]=0;for(var n=new Y,s=[];i>2;){for(s[0]=0;0==s[0];)n.nextBytes(s);o[--i]=s[0]}return o[--i]=2,o[--i]=0,new w(o)}var it=function(){function t(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return t.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},t.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var i=t.mod(this.p).modPow(this.dmp1,this.p),o=t.mod(this.q).modPow(this.dmq1,this.q);i.compareTo(o)<0;)i=i.add(this.p);return i.subtract(o).multiply(this.coeff).mod(this.p).multiply(this.q).add(o)},t.prototype.setPublic=function(t,i){null!=t&&null!=i&&t.length>0&&i.length>0?(this.n=O(t,16),this.e=parseInt(i,16)):console.error("Invalid RSA public key")},t.prototype.encrypt=function(t){var i=tt(t,this.n.bitLength()+7>>3);if(null==i)return null;var o=this.doPublic(i);if(null==o)return null;var e=o.toString(16);return 0==(1&e.length)?e:"0"+e},t.prototype.setPrivate=function(t,i,o){null!=t&&null!=i&&t.length>0&&i.length>0?(this.n=O(t,16),this.e=parseInt(i,16),this.d=O(o,16)):console.error("Invalid RSA private key")},t.prototype.setPrivateEx=function(t,i,o,e,a,n,s,l){null!=t&&null!=i&&t.length>0&&i.length>0?(this.n=O(t,16),this.e=parseInt(i,16),this.d=O(o,16),this.p=O(e,16),this.q=O(a,16),this.dmp1=O(n,16),this.dmq1=O(s,16),this.coeff=O(l,16)):console.error("Invalid RSA private key")},t.prototype.generate=function(t,i){var o=new Y,e=t>>1;this.e=parseInt(i,16);for(var a=new w(i,16);;){for(;this.p=new w(t-e,1,o),0!=this.p.subtract(w.ONE).gcd(a).compareTo(w.ONE)||!this.p.isProbablePrime(10););for(;this.q=new w(e,1,o),0!=this.q.subtract(w.ONE).gcd(a).compareTo(w.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var n=this.p;this.p=this.q,this.q=n}var s=this.p.subtract(w.ONE),l=this.q.subtract(w.ONE),h=s.multiply(l);if(0==h.gcd(a).compareTo(w.ONE)){this.n=this.p.multiply(this.q),this.d=a.modInverse(h),this.dmp1=this.d.mod(s),this.dmq1=this.d.mod(l),this.coeff=this.q.modInverse(this.p);break}}},t.prototype.decrypt=function(t){var i=O(t,16),o=this.doPrivate(i);return null==o?null:ot(o,this.n.bitLength()+7>>3)},t.prototype.generateAsync=function(t,i,o){var e=new Y,a=t>>1;this.e=parseInt(i,16);var n=new w(i,16),s=this;setTimeout(function i(){var l=function(){if(s.p.compareTo(s.q)<=0){var t=s.p;s.p=s.q,s.q=t}var e=s.p.subtract(w.ONE),a=s.q.subtract(w.ONE),l=e.multiply(a);0==l.gcd(n).compareTo(w.ONE)?(s.n=s.p.multiply(s.q),s.d=n.modInverse(l),s.dmp1=s.d.mod(e),s.dmq1=s.d.mod(a),s.coeff=s.q.modInverse(s.p),setTimeout(function(){o()},0)):setTimeout(i,0)},h=function t(){s.q=T(),s.q.fromNumberAsync(a,1,e,function(){s.q.subtract(w.ONE).gcda(n,function(i){0==i.compareTo(w.ONE)&&s.q.isProbablePrime(10)?setTimeout(l,0):setTimeout(t,0)})})};setTimeout(function i(){s.p=T(),s.p.fromNumberAsync(t-a,1,e,function(){s.p.subtract(w.ONE).gcda(n,function(t){0==t.compareTo(w.ONE)&&s.p.isProbablePrime(10)?setTimeout(h,0):setTimeout(i,0)})})},0)},0)},t.prototype.sign=function(t,i,o){var e=$(at(o)+i(t).toString(),this.n.bitLength()/4);if(null==e)return null;var a=this.doPrivate(e);if(null==a)return null;var n=a.toString(16);return 0==(1&n.length)?n:"0"+n},t.prototype.verify=function(t,i,o){var e=O(i,16),a=this.doPublic(e);return null==a?null:nt(a.toString(16).replace(/^1f+00/,""))==o(t).toString()},t}();function ot(t,i){for(var o=t.toByteArray(),e=0;e<o.length&&0==o[e];)++e;if(o.length-e!=i-1||2!=o[e])return null;for(++e;0!=o[e];)if(++e>=o.length)return null;for(var a="";++e<o.length;){var n=255&o[e];n<128?a+=String.fromCharCode(n):n>191&&n<224?(a+=String.fromCharCode((31&n)<<6|63&o[e+1]),++e):(a+=String.fromCharCode((15&n)<<12|(63&o[e+1])<<6|63&o[e+2]),e+=2)}return a}var et={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"};function at(t){return et[t]||""}function nt(t){for(var i in et)if(et.hasOwnProperty(i)){var o=et[i],e=o.length;if(t.substr(0,e)==o)return t.substr(e)}return t}var st={};st.lang={extend:function(t,i,o){if(!i||!t)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var e=function(){};if(e.prototype=i.prototype,t.prototype=new e,t.prototype.constructor=t,t.superclass=i.prototype,i.prototype.constructor==Object.prototype.constructor&&(i.prototype.constructor=i),o){var a;for(a in o)t.prototype[a]=o[a];var n=function(){},s=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(n=function(t,i){for(a=0;a<s.length;a+=1){var o=s[a],e=i[o];"function"==typeof e&&e!=Object.prototype[o]&&(t[o]=e)}})}catch(t){}n(t.prototype,o)}}};var lt={};void 0!==lt.asn1&&lt.asn1||(lt.asn1={}),lt.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var i=t.toString(16);return i.length%2==1&&(i="0"+i),i},this.bigIntToMinTwosComplementsHex=function(t){var i=t.toString(16);if("-"!=i.substr(0,1))i.length%2==1?i="0"+i:i.match(/^[0-7]/)||(i="00"+i);else{var o=i.substr(1).length;o%2==1?o+=1:i.match(/^[0-7]/)||(o+=2);for(var e="",a=0;a<o;a++)e+="f";i=new w(e,16).xor(t).add(w.ONE).toString(16).replace(/^-/,"")}return i},this.getPEMStringFromHex=function(t,i){return hextopem(t,i)},this.newObject=function(t){var i=lt.asn1,o=i.DERBoolean,e=i.DERInteger,a=i.DERBitString,n=i.DEROctetString,s=i.DERNull,l=i.DERObjectIdentifier,h=i.DEREnumerated,d=i.DERUTF8String,c=i.DERNumericString,r=i.DERPrintableString,g=i.DERTeletexString,m=i.DERIA5String,p=i.DERUTCTime,D=i.DERGeneralizedTime,C=i.DERSequence,u=i.DERSet,b=i.DERTaggedObject,N=i.ASN1Util.newObject,f=Object.keys(t);if(1!=f.length)throw"key of param shall be only one.";var y=f[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+y+":"))throw"undefined key: "+y;if("bool"==y)return new o(t[y]);if("int"==y)return new e(t[y]);if("bitstr"==y)return new a(t[y]);if("octstr"==y)return new n(t[y]);if("null"==y)return new s(t[y]);if("oid"==y)return new l(t[y]);if("enum"==y)return new h(t[y]);if("utf8str"==y)return new d(t[y]);if("numstr"==y)return new c(t[y]);if("prnstr"==y)return new r(t[y]);if("telstr"==y)return new g(t[y]);if("ia5str"==y)return new m(t[y]);if("utctime"==y)return new p(t[y]);if("gentime"==y)return new D(t[y]);if("seq"==y){for(var k=t[y],L=[],I=0;I<k.length;I++){var P=N(k[I]);L.push(P)}return new C({array:L})}if("set"==y){for(k=t[y],L=[],I=0;I<k.length;I++){P=N(k[I]);L.push(P)}return new u({array:L})}if("tag"==y){var v=t[y];if("[object Array]"===Object.prototype.toString.call(v)&&3==v.length){var B=N(v[2]);return new b({tag:v[0],explicit:v[1],obj:B})}var F={};if(void 0!==v.explicit&&(F.explicit=v.explicit),void 0!==v.tag&&(F.tag=v.tag),void 0===v.obj)throw"obj shall be specified for 'tag'.";return F.obj=N(v.obj),new b(F)}},this.jsonToASN1HEX=function(t){return this.newObject(t).getEncodedHex()}},lt.asn1.ASN1Util.oidHexToInt=function(t){for(var i="",o=parseInt(t.substr(0,2),16),e=(i=Math.floor(o/40)+"."+o%40,""),a=2;a<t.length;a+=2){var n=("00000000"+parseInt(t.substr(a,2),16).toString(2)).slice(-8);if(e+=n.substr(1,7),"0"==n.substr(0,1))i=i+"."+new w(e,2).toString(10),e=""}return i},lt.asn1.ASN1Util.oidIntToHex=function(t){var i=function(t){var i=t.toString(16);return 1==i.length&&(i="0"+i),i},o=function(t){var o="",e=new w(t,10).toString(2),a=7-e.length%7;7==a&&(a=0);for(var n="",s=0;s<a;s++)n+="0";e=n+e;for(s=0;s<e.length-1;s+=7){var l=e.substr(s,7);s!=e.length-7&&(l="1"+l),o+=i(parseInt(l,2))}return o};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var e="",a=t.split("."),n=40*parseInt(a[0])+parseInt(a[1]);e+=i(n),a.splice(0,2);for(var s=0;s<a.length;s++)e+=o(a[s]);return e},lt.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var t=this.hV.length/2,i=t.toString(16);if(i.length%2==1&&(i="0"+i),t<128)return i;var o=i.length/2;if(o>15)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);return(128+o).toString(16)+i},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},lt.asn1.DERAbstractString=function(t){lt.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(this.s)},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?this.setString(t):void 0!==t.str?this.setString(t.str):void 0!==t.hex&&this.setStringHex(t.hex))},st.lang.extend(lt.asn1.DERAbstractString,lt.asn1.ASN1Object),lt.asn1.DERAbstractTime=function(t){lt.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(t){return utc=t.getTime()+6e4*t.getTimezoneOffset(),new Date(utc)},this.formatDate=function(t,i,o){var e=this.zeroPadding,a=this.localDateToUTC(t),n=String(a.getFullYear());"utc"==i&&(n=n.substr(2,2));var s=n+e(String(a.getMonth()+1),2)+e(String(a.getDate()),2)+e(String(a.getHours()),2)+e(String(a.getMinutes()),2)+e(String(a.getSeconds()),2);if(!0===o){var l=a.getMilliseconds();if(0!=l){var h=e(String(l),3);s=s+"."+(h=h.replace(/[0]+$/,""))}}return s+"Z"},this.zeroPadding=function(t,i){return t.length>=i?t:new Array(i-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(t)},this.setByDateValue=function(t,i,o,e,a,n){var s=new Date(Date.UTC(t,i-1,o,e,a,n,0));this.setByDate(s)},this.getFreshValueHex=function(){return this.hV}},st.lang.extend(lt.asn1.DERAbstractTime,lt.asn1.ASN1Object),lt.asn1.DERAbstractStructured=function(t){lt.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,void 0!==t&&void 0!==t.array&&(this.asn1Array=t.array)},st.lang.extend(lt.asn1.DERAbstractStructured,lt.asn1.ASN1Object),lt.asn1.DERBoolean=function(){lt.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},st.lang.extend(lt.asn1.DERBoolean,lt.asn1.ASN1Object),lt.asn1.DERInteger=function(t){lt.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=lt.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var i=new w(String(t),10);this.setByBigInteger(i)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.bigint?this.setByBigInteger(t.bigint):void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},st.lang.extend(lt.asn1.DERInteger,lt.asn1.ASN1Object),lt.asn1.DERBitString=function(t){if(void 0!==t&&void 0!==t.obj){var i=lt.asn1.ASN1Util.newObject(t.obj);t.hex="00"+i.getEncodedHex()}lt.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,i){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var o="0"+t;this.hTLV=null,this.isModified=!0,this.hV=o+i},this.setByBinaryString=function(t){var i=8-(t=t.replace(/0+$/,"")).length%8;8==i&&(i=0);for(var o=0;o<=i;o++)t+="0";var e="";for(o=0;o<t.length-1;o+=8){var a=t.substr(o,8),n=parseInt(a,2).toString(16);1==n.length&&(n="0"+n),e+=n}this.hTLV=null,this.isModified=!0,this.hV="0"+i+e},this.setByBooleanArray=function(t){for(var i="",o=0;o<t.length;o++)1==t[o]?i+="1":i+="0";this.setByBinaryString(i)},this.newFalseArray=function(t){for(var i=new Array(t),o=0;o<t;o++)i[o]=!1;return i},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):void 0!==t.hex?this.setHexValueIncludingUnusedBits(t.hex):void 0!==t.bin?this.setByBinaryString(t.bin):void 0!==t.array&&this.setByBooleanArray(t.array))},st.lang.extend(lt.asn1.DERBitString,lt.asn1.ASN1Object),lt.asn1.DEROctetString=function(t){if(void 0!==t&&void 0!==t.obj){var i=lt.asn1.ASN1Util.newObject(t.obj);t.hex=i.getEncodedHex()}lt.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},st.lang.extend(lt.asn1.DEROctetString,lt.asn1.DERAbstractString),lt.asn1.DERNull=function(){lt.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},st.lang.extend(lt.asn1.DERNull,lt.asn1.ASN1Object),lt.asn1.DERObjectIdentifier=function(t){var i=function(t){var i=t.toString(16);return 1==i.length&&(i="0"+i),i},o=function(t){var o="",e=new w(t,10).toString(2),a=7-e.length%7;7==a&&(a=0);for(var n="",s=0;s<a;s++)n+="0";e=n+e;for(s=0;s<e.length-1;s+=7){var l=e.substr(s,7);s!=e.length-7&&(l="1"+l),o+=i(parseInt(l,2))}return o};lt.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var e="",a=t.split("."),n=40*parseInt(a[0])+parseInt(a[1]);e+=i(n),a.splice(0,2);for(var s=0;s<a.length;s++)e+=o(a[s]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueName=function(t){var i=lt.asn1.x509.OID.name2oid(t);if(""===i)throw"DERObjectIdentifier oidName undefined: "+t;this.setValueOidString(i)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t):void 0!==t.oid?this.setValueOidString(t.oid):void 0!==t.hex?this.setValueHex(t.hex):void 0!==t.name&&this.setValueName(t.name))},st.lang.extend(lt.asn1.DERObjectIdentifier,lt.asn1.ASN1Object),lt.asn1.DEREnumerated=function(t){lt.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=lt.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var i=new w(String(t),10);this.setByBigInteger(i)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},st.lang.extend(lt.asn1.DEREnumerated,lt.asn1.ASN1Object),lt.asn1.DERUTF8String=function(t){lt.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},st.lang.extend(lt.asn1.DERUTF8String,lt.asn1.DERAbstractString),lt.asn1.DERNumericString=function(t){lt.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},st.lang.extend(lt.asn1.DERNumericString,lt.asn1.DERAbstractString),lt.asn1.DERPrintableString=function(t){lt.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},st.lang.extend(lt.asn1.DERPrintableString,lt.asn1.DERAbstractString),lt.asn1.DERTeletexString=function(t){lt.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},st.lang.extend(lt.asn1.DERTeletexString,lt.asn1.DERAbstractString),lt.asn1.DERIA5String=function(t){lt.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},st.lang.extend(lt.asn1.DERIA5String,lt.asn1.DERAbstractString),lt.asn1.DERUTCTime=function(t){lt.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date))},st.lang.extend(lt.asn1.DERUTCTime,lt.asn1.DERAbstractTime),lt.asn1.DERGeneralizedTime=function(t){lt.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date),!0===t.millis&&(this.withMillis=!0))},st.lang.extend(lt.asn1.DERGeneralizedTime,lt.asn1.DERAbstractTime),lt.asn1.DERSequence=function(t){lt.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",i=0;i<this.asn1Array.length;i++){t+=this.asn1Array[i].getEncodedHex()}return this.hV=t,this.hV}},st.lang.extend(lt.asn1.DERSequence,lt.asn1.DERAbstractStructured),lt.asn1.DERSet=function(t){lt.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,i=0;i<this.asn1Array.length;i++){var o=this.asn1Array[i];t.push(o.getEncodedHex())}return 1==this.sortFlag&&t.sort(),this.hV=t.join(""),this.hV},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},st.lang.extend(lt.asn1.DERSet,lt.asn1.DERAbstractStructured),lt.asn1.DERTaggedObject=function(t){lt.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,i,o){this.hT=i,this.isExplicit=t,this.asn1Object=o,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=o.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,i),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.tag&&(this.hT=t.tag),void 0!==t.explicit&&(this.isExplicit=t.explicit),void 0!==t.obj&&(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},st.lang.extend(lt.asn1.DERTaggedObject,lt.asn1.ASN1Object);var ht=function(t){function i(o){var e=t.call(this)||this;return o&&("string"==typeof o?e.parseKey(o):(i.hasPrivateKeyProperty(o)||i.hasPublicKeyProperty(o))&&e.parsePropertiesFrom(o)),e}return D(i,t),i.prototype.parseKey=function(t){try{var i=0,o=0,e=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/.test(t)?u(t):b.unarmor(t),a=v.decode(e);if(3===a.sub.length&&(a=a.sub[2].sub[0]),9===a.sub.length){i=a.sub[1].getHexStringValue(),this.n=O(i,16),o=a.sub[2].getHexStringValue(),this.e=parseInt(o,16);var n=a.sub[3].getHexStringValue();this.d=O(n,16);var s=a.sub[4].getHexStringValue();this.p=O(s,16);var l=a.sub[5].getHexStringValue();this.q=O(l,16);var h=a.sub[6].getHexStringValue();this.dmp1=O(h,16);var d=a.sub[7].getHexStringValue();this.dmq1=O(d,16);var c=a.sub[8].getHexStringValue();this.coeff=O(c,16)}else{if(2!==a.sub.length)return!1;var r=a.sub[1].sub[0];i=r.sub[0].getHexStringValue(),this.n=O(i,16),o=r.sub[1].getHexStringValue(),this.e=parseInt(o,16)}return!0}catch(t){return!1}},i.prototype.getPrivateBaseKey=function(){var t={array:[new lt.asn1.DERInteger({int:0}),new lt.asn1.DERInteger({bigint:this.n}),new lt.asn1.DERInteger({int:this.e}),new lt.asn1.DERInteger({bigint:this.d}),new lt.asn1.DERInteger({bigint:this.p}),new lt.asn1.DERInteger({bigint:this.q}),new lt.asn1.DERInteger({bigint:this.dmp1}),new lt.asn1.DERInteger({bigint:this.dmq1}),new lt.asn1.DERInteger({bigint:this.coeff})]};return new lt.asn1.DERSequence(t).getEncodedHex()},i.prototype.getPrivateBaseKeyB64=function(){return r(this.getPrivateBaseKey())},i.prototype.getPublicBaseKey=function(){var t=new lt.asn1.DERSequence({array:[new lt.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new lt.asn1.DERNull]}),i=new lt.asn1.DERSequence({array:[new lt.asn1.DERInteger({bigint:this.n}),new lt.asn1.DERInteger({int:this.e})]}),o=new lt.asn1.DERBitString({hex:"00"+i.getEncodedHex()});return new lt.asn1.DERSequence({array:[t,o]}).getEncodedHex()},i.prototype.getPublicBaseKeyB64=function(){return r(this.getPublicBaseKey())},i.wordwrap=function(t,i){if(i=i||64,!t)return t;var o="(.{1,"+i+"})( +|$\n?)|(.{1,"+i+"})";return t.match(RegExp(o,"g")).join("\n")},i.prototype.getPrivateKey=function(){var t="-----BEGIN RSA PRIVATE KEY-----\n";return t+=i.wordwrap(this.getPrivateBaseKeyB64())+"\n",t+="-----END RSA PRIVATE KEY-----"},i.prototype.getPublicKey=function(){var t="-----BEGIN PUBLIC KEY-----\n";return t+=i.wordwrap(this.getPublicBaseKeyB64())+"\n",t+="-----END PUBLIC KEY-----"},i.hasPublicKeyProperty=function(t){return(t=t||{}).hasOwnProperty("n")&&t.hasOwnProperty("e")},i.hasPrivateKeyProperty=function(t){return(t=t||{}).hasOwnProperty("n")&&t.hasOwnProperty("e")&&t.hasOwnProperty("d")&&t.hasOwnProperty("p")&&t.hasOwnProperty("q")&&t.hasOwnProperty("dmp1")&&t.hasOwnProperty("dmq1")&&t.hasOwnProperty("coeff")},i.prototype.parsePropertiesFrom=function(t){this.n=t.n,this.e=t.e,t.hasOwnProperty("d")&&(this.d=t.d,this.p=t.p,this.q=t.q,this.dmp1=t.dmp1,this.dmq1=t.dmq1,this.coeff=t.coeff)},i}(it),dt=function(){function t(t){t=t||{},this.default_key_size=parseInt(t.default_key_size,10)||1024,this.default_public_exponent=t.default_public_exponent||"010001",this.log=t.log||!1,this.key=null}return t.prototype.setKey=function(t){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new ht(t)},t.prototype.setPrivateKey=function(t){this.setKey(t)},t.prototype.setPublicKey=function(t){this.setKey(t)},t.prototype.decrypt=function(t){try{return this.getKey().decrypt(g(t))}catch(t){return!1}},t.prototype.encrypt=function(t){try{return r(this.getKey().encrypt(t))}catch(t){return!1}},t.prototype.sign=function(t,i,o){try{return r(this.getKey().sign(t,i,o))}catch(t){return!1}},t.prototype.verify=function(t,i,o){try{return this.getKey().verify(t,g(i),o)}catch(t){return!1}},t.prototype.getKey=function(t){if(!this.key){if(this.key=new ht,t&&"[object Function]"==={}.toString.call(t))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,t);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},t.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},t.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},t.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},t.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},t.prototype.encryptLong=function(t){var i=this.getKey();try{var o="",e=new Array;e.push(0);var a,n,s=0;a=t.length;for(var l=0,h=0;h<a;h++)((s+=(n=t.charCodeAt(h))>=65536&&n<=1114111?4:n>=2048&&n<=65535?3:n>=128&&n<=2047?2:1)%117>=114||s%117==0)&&s-l>=114&&(e.push(h),l=s);if(e.length>1){for(h=0;h<e.length-1;h++){var d;d=0==h?t.substring(0,e[h+1]+1):t.substring(e[h]+1,e[h+1]+1),o+=i.encrypt(d)}if(e[e.length-1]!=t.length-1){var c=t.substring(e[e.length-1]+1);o+=i.encrypt(c)}return r(o)}return r(i.encrypt(t))}catch(t){return!1}},t.prototype.decryptLong=function(t){var i=this.getKey();try{t=g(t);var o="";return t.length>256?(t.match(/.{1,256}/g).forEach(function(t){var e=i.decrypt(t);o+=e}),o):i.decrypt(t)}catch(t){return!1}},t.version="3.0.0-rc.1",t}();window.JSEncrypt=dt,t.JSEncrypt=dt,t.default=dt,Object.defineProperty(t,"__esModule",{value:!0})}),cc._RF.pop()},{}],"use_v2.1.x_cc.Action":[function(t,i,o){"use strict";cc._RF.push(i,"fa495mr8qBKI6jznTxA0CM/","use_v2.1.x_cc.Action"),cc.macro.ROTATE_ACTION_CCW=!0,cc._RF.pop()},{}]},{},["Application","Config","Network","Util","AdjutantDetail","AdjutantList","AdjutantRecruit","Arena","Arsenal","Backpack","Bank","BankExchangeGold","BankExchangeGoldDetail","BankExchangeOrder","BankExchangeSilver","BankExchangeSilverDetail","BankGoldInput","BankGoldOutput","BankSilverInput","BankSilverOutput","Battleground","BeatenWriter","BeatenWriterRank","Call","Combat","CombatAdjutantChoose","CombatBaseDescription","CombatDescription","CombatDrugChoose","CombatResult","CountyList","Dan","DanDetail","Dig","DrugDetail","DrugList","FaceList","Fragment","Friend","FriendChat","GameInstance","GameInstanceTaskDetail","GemCompound","GemCompoundChoose","GemDetail","GemList","GivingRelief","Government","GroceriesDetail","Home","Horse","HorseDetail","HorseRecruit","Hospital","HospitalBag","KitDetail","KitList","KitType","MainPlayerList","Market","MarketDetail","MarketDetailMy","MarketGoodsChoose","MarketNewGoods","MonsterAuto","MonsterGroup","MonsterUpGrade","Npc","OreCompound","OreCompoundChoose","OreDetail","OreList","Pay","PersonageCombat","PersonageCombatAwardDetail","PersonageCombatPlayDetail","PersonageCombatPrepare","PlayerAbility","PlayerAdjutantAbility","PlayerAdjutantBest","PlayerAdjutantCombat","PlayerAdjutantDetail","PlayerAdjutantDetailOther","PlayerAdjutantDetailOtherLook","PlayerAdjutantEx","PlayerAdjutantGrowth","PlayerAdjutantHelp","PlayerAdjutantHomeInChoose","PlayerAdjutantHomeOutChoose","PlayerAdjutantJobChange","PlayerAdjutantJobChoose","PlayerAdjutantKitApparel","PlayerAdjutantKitApparelChoose","PlayerAdjutantList","PlayerAdjutantSkillChoose","PlayerAdjutantSkillDetail","PlayerAdjutantSkillList","PlayerAdjutantWashPulpChoose","PlayerCombat","PlayerDetail","PlayerDrugSellChoose","PlayerGemSellChoose","PlayerGoodsSell","PlayerHorseDetail","PlayerHorseList","PlayerKitApparel","PlayerKitDetail","PlayerKitIntensify","PlayerKitIntensifyChoose","PlayerKitRemould","PlayerKitRemouldChoose","PlayerKitRemouldPrepare","PlayerKitSell","PlayerKitSellChoose","PlayerOreSellChoose","PlayerOtherDetail","PlayerSearch","PlayerSkillDetail","PlayerSkillList","PlayerStateChange","PlayerTask","PlayerTaskDetail","Plaza","Rank","Recreation","RecreationDice","RecreationDiceBet","RecreationDiceHistory","RecreationDiceWin","RecreationSg","RecreationSgBet","RecreationSgHistory","RecreationSgWin","RegionList","RobTreasure","SectCombat","SectCombatAwardDetail","SectCombatPlayDetail","SectCombatPlayerScoreRank","SectCombatPrepare","SectCombatScoreRank","SectContribute","SectCreate","SectDetail","SectDetailMy","SectGoodsList","SectList","SectManage","SectManagePlayer","SectPlayerList","SectPlayerListBoss2","SectPlayerListBoss3","Skill","SkillAdjutant","SkillDetail","SkillIntroduce","Smithy","Station","Sworn","Task","Temple","Training","TreasureDetail","TreasureList","Vip","GroupLogin","Guide","Main","NeedToKnow","PlayerCreate","PlayerLogin","UserLogin","UserPassword","UserRegister","Welcome","BankEgOrderItem","BankEsOrderItem","BankExchangeItem","ChatDialog","ChatFriendItem","ChatItem","ChatSystemItem","CombatHorse","CombatMap","CombatMotion","CombatMotionDead","CombatMotionSkill","CombatOperation","CombatPerson","CombatPersonInfo","CombatSkillItem","CombatSkillOperation","CombatVisual","Condition","SkillHfhy","SkillPsdh","SkillWgjd","SkillWlhd","SkillYhly","CommonItem","HintDialog","HorseFace","LoadDialog","MapIcon","MapMini","PersonFace","DanExplainItem","DigGoodsItem","FaceItem","GameInstanceItem","GroupLoginItem","MainActionItem","MainChat","MainFacilityItem","MainMoveBack","MainMoveItem","MainNotify","MainNpcItem","MainTab","PersonHead","MarketGoodsItem","MarketItem","MonsterCheckItem","PlayerLoginItem","RecreationDiceHistoryItem","RecreationDiceWinItem","RecreationSgHistoryItem","RecreationSgWinItem","SectPlayerApplyItem","SectPlayerItem","AdjutantSkillItem","SkillExplainItem","jsencrypt","use_v2.1.x_cc.Action"]);